function aT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function _c(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function df(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var s=!1;try{s=this instanceof r}catch{}return s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var cm={exports:{}},Nu={},dm={exports:{}},et={};var b0;function lT(){if(b0)return et;b0=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function x(H){return H===null||typeof H!="object"?null:(H=_&&H[_]||H["@@iterator"],typeof H=="function"?H:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,k={};function R(H,se,ie){this.props=H,this.context=se,this.refs=k,this.updater=ie||w}R.prototype.isReactComponent={},R.prototype.setState=function(H,se){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,se,"setState")},R.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function N(){}N.prototype=R.prototype;function A(H,se,ie){this.props=H,this.context=se,this.refs=k,this.updater=ie||w}var I=A.prototype=new N;I.constructor=A,E(I,R.prototype),I.isPureReactComponent=!0;var D=Array.isArray,V=Object.prototype.hasOwnProperty,Z={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function B(H,se,ie){var oe,ue={},ae=null,J=null;if(se!=null)for(oe in se.ref!==void 0&&(J=se.ref),se.key!==void 0&&(ae=""+se.key),se)V.call(se,oe)&&!M.hasOwnProperty(oe)&&(ue[oe]=se[oe]);var K=arguments.length-2;if(K===1)ue.children=ie;else if(1<K){for(var de=Array(K),we=0;we<K;we++)de[we]=arguments[we+2];ue.children=de}if(H&&H.defaultProps)for(oe in K=H.defaultProps,K)ue[oe]===void 0&&(ue[oe]=K[oe]);return{$$typeof:e,type:H,key:ae,ref:J,props:ue,_owner:Z.current}}function ee(H,se){return{$$typeof:e,type:H.type,key:se,ref:H.ref,props:H.props,_owner:H._owner}}function ce(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function U(H){var se={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ie){return se[ie]})}var G=/\/+/g;function ge(H,se){return typeof H=="object"&&H!==null&&H.key!=null?U(""+H.key):se.toString(36)}function le(H,se,ie,oe,ue){var ae=typeof H;(ae==="undefined"||ae==="boolean")&&(H=null);var J=!1;if(H===null)J=!0;else switch(ae){case"string":case"number":J=!0;break;case"object":switch(H.$$typeof){case e:case t:J=!0}}if(J)return J=H,ue=ue(J),H=oe===""?"."+ge(J,0):oe,D(ue)?(ie="",H!=null&&(ie=H.replace(G,"$&/")+"/"),le(ue,se,ie,"",function(we){return we})):ue!=null&&(ce(ue)&&(ue=ee(ue,ie+(!ue.key||J&&J.key===ue.key?"":(""+ue.key).replace(G,"$&/")+"/")+H)),se.push(ue)),1;if(J=0,oe=oe===""?".":oe+":",D(H))for(var K=0;K<H.length;K++){ae=H[K];var de=oe+ge(ae,K);J+=le(ae,se,ie,de,ue)}else if(de=x(H),typeof de=="function")for(H=de.call(H),K=0;!(ae=H.next()).done;)ae=ae.value,de=oe+ge(ae,K++),J+=le(ae,se,ie,de,ue);else if(ae==="object")throw se=String(H),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.");return J}function be(H,se,ie){if(H==null)return H;var oe=[],ue=0;return le(H,oe,"","",function(ae){return se.call(ie,ae,ue++)}),oe}function ye(H){if(H._status===-1){var se=H._result;se=se(),se.then(function(ie){(H._status===0||H._status===-1)&&(H._status=1,H._result=ie)},function(ie){(H._status===0||H._status===-1)&&(H._status=2,H._result=ie)}),H._status===-1&&(H._status=0,H._result=se)}if(H._status===1)return H._result.default;throw H._result}var _e={current:null},F={transition:null},me={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:F,ReactCurrentOwner:Z};function re(){throw Error("act(...) is not supported in production builds of React.")}return et.Children={map:be,forEach:function(H,se,ie){be(H,function(){se.apply(this,arguments)},ie)},count:function(H){var se=0;return be(H,function(){se++}),se},toArray:function(H){return be(H,function(se){return se})||[]},only:function(H){if(!ce(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},et.Component=R,et.Fragment=n,et.Profiler=s,et.PureComponent=A,et.StrictMode=r,et.Suspense=h,et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,et.act=re,et.cloneElement=function(H,se,ie){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var oe=E({},H.props),ue=H.key,ae=H.ref,J=H._owner;if(se!=null){if(se.ref!==void 0&&(ae=se.ref,J=Z.current),se.key!==void 0&&(ue=""+se.key),H.type&&H.type.defaultProps)var K=H.type.defaultProps;for(de in se)V.call(se,de)&&!M.hasOwnProperty(de)&&(oe[de]=se[de]===void 0&&K!==void 0?K[de]:se[de])}var de=arguments.length-2;if(de===1)oe.children=ie;else if(1<de){K=Array(de);for(var we=0;we<de;we++)K[we]=arguments[we+2];oe.children=K}return{$$typeof:e,type:H.type,key:ue,ref:ae,props:oe,_owner:J}},et.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:o,_context:H},H.Consumer=H},et.createElement=B,et.createFactory=function(H){var se=B.bind(null,H);return se.type=H,se},et.createRef=function(){return{current:null}},et.forwardRef=function(H){return{$$typeof:c,render:H}},et.isValidElement=ce,et.lazy=function(H){return{$$typeof:y,_payload:{_status:-1,_result:H},_init:ye}},et.memo=function(H,se){return{$$typeof:p,type:H,compare:se===void 0?null:se}},et.startTransition=function(H){var se=F.transition;F.transition={};try{H()}finally{F.transition=se}},et.unstable_act=re,et.useCallback=function(H,se){return _e.current.useCallback(H,se)},et.useContext=function(H){return _e.current.useContext(H)},et.useDebugValue=function(){},et.useDeferredValue=function(H){return _e.current.useDeferredValue(H)},et.useEffect=function(H,se){return _e.current.useEffect(H,se)},et.useId=function(){return _e.current.useId()},et.useImperativeHandle=function(H,se,ie){return _e.current.useImperativeHandle(H,se,ie)},et.useInsertionEffect=function(H,se){return _e.current.useInsertionEffect(H,se)},et.useLayoutEffect=function(H,se){return _e.current.useLayoutEffect(H,se)},et.useMemo=function(H,se){return _e.current.useMemo(H,se)},et.useReducer=function(H,se,ie){return _e.current.useReducer(H,se,ie)},et.useRef=function(H){return _e.current.useRef(H)},et.useState=function(H){return _e.current.useState(H)},et.useSyncExternalStore=function(H,se,ie){return _e.current.useSyncExternalStore(H,se,ie)},et.useTransition=function(){return _e.current.useTransition()},et.version="18.3.1",et}var S0;function Sv(){return S0||(S0=1,dm.exports=lT()),dm.exports}var C0;function uT(){if(C0)return Nu;C0=1;var e=Sv(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function u(c,h,p){var y,_={},x=null,w=null;p!==void 0&&(x=""+p),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(w=h.ref);for(y in h)r.call(h,y)&&!o.hasOwnProperty(y)&&(_[y]=h[y]);if(c&&c.defaultProps)for(y in h=c.defaultProps,h)_[y]===void 0&&(_[y]=h[y]);return{$$typeof:t,type:c,key:x,ref:w,props:_,_owner:s.current}}return Nu.Fragment=n,Nu.jsx=u,Nu.jsxs=u,Nu}var k0;function cT(){return k0||(k0=1,cm.exports=uT()),cm.exports}var m=cT(),C=Sv();const In=_c(C),xc=aT({__proto__:null,default:In},[C]);var rh={},hm={exports:{}},jn={},fm={exports:{}},pm={};var P0;function dT(){return P0||(P0=1,(function(e){function t(F,me){var re=F.length;F.push(me);e:for(;0<re;){var H=re-1>>>1,se=F[H];if(0<s(se,me))F[H]=me,F[re]=se,re=H;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var me=F[0],re=F.pop();if(re!==me){F[0]=re;e:for(var H=0,se=F.length,ie=se>>>1;H<ie;){var oe=2*(H+1)-1,ue=F[oe],ae=oe+1,J=F[ae];if(0>s(ue,re))ae<se&&0>s(J,ue)?(F[H]=J,F[ae]=re,H=ae):(F[H]=ue,F[oe]=re,H=oe);else if(ae<se&&0>s(J,re))F[H]=J,F[ae]=re,H=ae;else break e}}return me}function s(F,me){var re=F.sortIndex-me.sortIndex;return re!==0?re:F.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();e.unstable_now=function(){return u.now()-c}}var h=[],p=[],y=1,_=null,x=3,w=!1,E=!1,k=!1,R=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(F){for(var me=n(p);me!==null;){if(me.callback===null)r(p);else if(me.startTime<=F)r(p),me.sortIndex=me.expirationTime,t(h,me);else break;me=n(p)}}function D(F){if(k=!1,I(F),!E)if(n(h)!==null)E=!0,ye(V);else{var me=n(p);me!==null&&_e(D,me.startTime-F)}}function V(F,me){E=!1,k&&(k=!1,N(B),B=-1),w=!0;var re=x;try{for(I(me),_=n(h);_!==null&&(!(_.expirationTime>me)||F&&!U());){var H=_.callback;if(typeof H=="function"){_.callback=null,x=_.priorityLevel;var se=H(_.expirationTime<=me);me=e.unstable_now(),typeof se=="function"?_.callback=se:_===n(h)&&r(h),I(me)}else r(h);_=n(h)}if(_!==null)var ie=!0;else{var oe=n(p);oe!==null&&_e(D,oe.startTime-me),ie=!1}return ie}finally{_=null,x=re,w=!1}}var Z=!1,M=null,B=-1,ee=5,ce=-1;function U(){return!(e.unstable_now()-ce<ee)}function G(){if(M!==null){var F=e.unstable_now();ce=F;var me=!0;try{me=M(!0,F)}finally{me?ge():(Z=!1,M=null)}}else Z=!1}var ge;if(typeof A=="function")ge=function(){A(G)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,be=le.port2;le.port1.onmessage=G,ge=function(){be.postMessage(null)}}else ge=function(){R(G,0)};function ye(F){M=F,Z||(Z=!0,ge())}function _e(F,me){B=R(function(){F(e.unstable_now())},me)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){E||w||(E=!0,ye(V))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(F){switch(x){case 1:case 2:case 3:var me=3;break;default:me=x}var re=x;x=me;try{return F()}finally{x=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,me){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var re=x;x=F;try{return me()}finally{x=re}},e.unstable_scheduleCallback=function(F,me,re){var H=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?H+re:H):re=H,F){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=re+se,F={id:y++,callback:me,priorityLevel:F,startTime:re,expirationTime:se,sortIndex:-1},re>H?(F.sortIndex=re,t(p,F),n(h)===null&&F===n(p)&&(k?(N(B),B=-1):k=!0,_e(D,re-H))):(F.sortIndex=se,t(h,F),E||w||(E=!0,ye(V))),F},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(F){var me=x;return function(){var re=x;x=me;try{return F.apply(this,arguments)}finally{x=re}}}})(pm)),pm}var E0;function hT(){return E0||(E0=1,fm.exports=dT()),fm.exports}var T0;function fT(){if(T0)return jn;T0=1;var e=Sv(),t=hT();function n(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,l){u(i,l),u(i+"Capture",l)}function u(i,l){for(s[i]=l,i=0;i<l.length;i++)r.add(l[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},_={};function x(i){return h.call(_,i)?!0:h.call(y,i)?!1:p.test(i)?_[i]=!0:(y[i]=!0,!1)}function w(i,l,f,v){if(f!==null&&f.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return v?!1:f!==null?!f.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function E(i,l,f,v){if(l===null||typeof l>"u"||w(i,l,f,v))return!0;if(v)return!1;if(f!==null)switch(f.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function k(i,l,f,v,S,P,j){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=v,this.attributeNamespace=S,this.mustUseProperty=f,this.propertyName=i,this.type=l,this.sanitizeURL=P,this.removeEmptyString=j}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){R[i]=new k(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];R[l]=new k(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){R[i]=new k(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){R[i]=new k(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){R[i]=new k(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){R[i]=new k(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){R[i]=new k(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){R[i]=new k(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){R[i]=new k(i,5,!1,i.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function A(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(N,A);R[l]=new k(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(N,A);R[l]=new k(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(N,A);R[l]=new k(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){R[i]=new k(i,1,!1,i.toLowerCase(),null,!1,!1)}),R.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){R[i]=new k(i,1,!1,i.toLowerCase(),null,!0,!0)});function I(i,l,f,v){var S=R.hasOwnProperty(l)?R[l]:null;(S!==null?S.type!==0:v||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(E(l,f,S,v)&&(f=null),v||S===null?x(l)&&(f===null?i.removeAttribute(l):i.setAttribute(l,""+f)):S.mustUseProperty?i[S.propertyName]=f===null?S.type===3?!1:"":f:(l=S.attributeName,v=S.attributeNamespace,f===null?i.removeAttribute(l):(S=S.type,f=S===3||S===4&&f===!0?"":""+f,v?i.setAttributeNS(v,l,f):i.setAttribute(l,f))))}var D=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),Z=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),ce=Symbol.for("react.provider"),U=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),_e=Symbol.for("react.offscreen"),F=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=F&&i[F]||i["@@iterator"],typeof i=="function"?i:null)}var re=Object.assign,H;function se(i){if(H===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);H=l&&l[1]||""}return`
`+H+i}var ie=!1;function oe(i,l){if(!i||ie)return"";ie=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ne){var v=ne}Reflect.construct(i,[],l)}else{try{l.call()}catch(ne){v=ne}i.call(l.prototype)}else{try{throw Error()}catch(ne){v=ne}i()}}catch(ne){if(ne&&v&&typeof ne.stack=="string"){for(var S=ne.stack.split(`
`),P=v.stack.split(`
`),j=S.length-1,z=P.length-1;1<=j&&0<=z&&S[j]!==P[z];)z--;for(;1<=j&&0<=z;j--,z--)if(S[j]!==P[z]){if(j!==1||z!==1)do if(j--,z--,0>z||S[j]!==P[z]){var W=`
`+S[j].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=j&&0<=z);break}}}finally{ie=!1,Error.prepareStackTrace=f}return(i=i?i.displayName||i.name:"")?se(i):""}function ue(i){switch(i.tag){case 5:return se(i.type);case 16:return se("Lazy");case 13:return se("Suspense");case 19:return se("SuspenseList");case 0:case 2:case 15:return i=oe(i.type,!1),i;case 11:return i=oe(i.type.render,!1),i;case 1:return i=oe(i.type,!0),i;default:return""}}function ae(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case Z:return"Portal";case ee:return"Profiler";case B:return"StrictMode";case ge:return"Suspense";case le:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case U:return(i.displayName||"Context")+".Consumer";case ce:return(i._context.displayName||"Context")+".Provider";case G:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case be:return l=i.displayName||null,l!==null?l:ae(i.type)||"Memo";case ye:l=i._payload,i=i._init;try{return ae(i(l))}catch{}}return null}function J(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(l);case 8:return l===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function K(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function de(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function we(i){var l=de(i)?"checked":"value",f=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),v=""+i[l];if(!i.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var S=f.get,P=f.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return S.call(this)},set:function(j){v=""+j,P.call(this,j)}}),Object.defineProperty(i,l,{enumerable:f.enumerable}),{getValue:function(){return v},setValue:function(j){v=""+j},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Oe(i){i._valueTracker||(i._valueTracker=we(i))}function Be(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var f=l.getValue(),v="";return i&&(v=de(i)?i.checked?"true":"false":i.value),i=v,i!==f?(l.setValue(i),!0):!1}function Ee(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function lt(i,l){var f=l.checked;return re({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??i._wrapperState.initialChecked})}function mn(i,l){var f=l.defaultValue==null?"":l.defaultValue,v=l.checked!=null?l.checked:l.defaultChecked;f=K(l.value!=null?l.value:f),i._wrapperState={initialChecked:v,initialValue:f,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function kn(i,l){l=l.checked,l!=null&&I(i,"checked",l,!1)}function gn(i,l){kn(i,l);var f=K(l.value),v=l.type;if(f!=null)v==="number"?(f===0&&i.value===""||i.value!=f)&&(i.value=""+f):i.value!==""+f&&(i.value=""+f);else if(v==="submit"||v==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?Ki(i,l.type,f):l.hasOwnProperty("defaultValue")&&Ki(i,l.type,K(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function Pt(i,l,f){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var v=l.type;if(!(v!=="submit"&&v!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,f||l===i.value||(i.value=l),i.defaultValue=l}f=i.name,f!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,f!==""&&(i.name=f)}function Ki(i,l,f){(l!=="number"||Ee(i.ownerDocument)!==i)&&(f==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+f&&(i.defaultValue=""+f))}var Hr=Array.isArray;function nn(i,l,f,v){if(i=i.options,l){l={};for(var S=0;S<f.length;S++)l["$"+f[S]]=!0;for(f=0;f<i.length;f++)S=l.hasOwnProperty("$"+i[f].value),i[f].selected!==S&&(i[f].selected=S),S&&v&&(i[f].defaultSelected=!0)}else{for(f=""+K(f),l=null,S=0;S<i.length;S++){if(i[S].value===f){i[S].selected=!0,v&&(i[S].defaultSelected=!0);return}l!==null||i[S].disabled||(l=i[S])}l!==null&&(l.selected=!0)}}function pi(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return re({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Qs(i,l){var f=l.value;if(f==null){if(f=l.children,l=l.defaultValue,f!=null){if(l!=null)throw Error(n(92));if(Hr(f)){if(1<f.length)throw Error(n(93));f=f[0]}l=f}l==null&&(l=""),f=l}i._wrapperState={initialValue:K(f)}}function Oc(i,l){var f=K(l.value),v=K(l.defaultValue);f!=null&&(f=""+f,f!==i.value&&(i.value=f),l.defaultValue==null&&i.defaultValue!==f&&(i.defaultValue=f)),v!=null&&(i.defaultValue=""+v)}function Mc(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function Qo(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ea(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?Qo(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var eo,Dc=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,f,v,S){MSApp.execUnsafeLocalFunction(function(){return i(l,f,v,S)})}:i})(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(eo=eo||document.createElement("div"),eo.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=eo.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function Yi(i,l){if(l){var f=i.firstChild;if(f&&f===i.lastChild&&f.nodeType===3){f.nodeValue=l;return}}i.textContent=l}var Xi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ff=["Webkit","ms","Moz","O"];Object.keys(Xi).forEach(function(i){Ff.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),Xi[l]=Xi[i]})});function Ml(i,l,f){return l==null||typeof l=="boolean"||l===""?"":f||typeof l!="number"||l===0||Xi.hasOwnProperty(i)&&Xi[i]?(""+l).trim():l+"px"}function ta(i,l){i=i.style;for(var f in l)if(l.hasOwnProperty(f)){var v=f.indexOf("--")===0,S=Ml(f,l[f],v);f==="float"&&(f="cssFloat"),v?i.setProperty(f,S):i[f]=S}}var zc=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dl(i,l){if(l){if(zc[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function mi(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zl=null;function Bl(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var na=null,gi=null,vi=null;function Bc(i){if(i=Ri(i)){if(typeof na!="function")throw Error(n(280));var l=i.stateNode;l&&(l=Ra(l),na(i.stateNode,i.type,l))}}function Fc(i){gi?vi?vi.push(i):vi=[i]:gi=i}function Vc(){if(gi){var i=gi,l=vi;if(vi=gi=null,Bc(i),l)for(i=0;i<l.length;i++)Bc(l[i])}}function $c(i,l){return i(l)}function Uc(){}var Fl=!1;function ra(i,l,f){if(Fl)return i(l,f);Fl=!0;try{return $c(i,l,f)}finally{Fl=!1,(gi!==null||vi!==null)&&(Uc(),Vc())}}function to(i,l){var f=i.stateNode;if(f===null)return null;var v=Ra(f);if(v===null)return null;f=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(i=i.type,v=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!v;break e;default:i=!1}if(i)return null;if(f&&typeof f!="function")throw Error(n(231,l,typeof f));return f}var Vl=!1;if(c)try{var no={};Object.defineProperty(no,"passive",{get:function(){Vl=!0}}),window.addEventListener("test",no,no),window.removeEventListener("test",no,no)}catch{Vl=!1}function Vf(i,l,f,v,S,P,j,z,W){var ne=Array.prototype.slice.call(arguments,3);try{l.apply(f,ne)}catch(pe){this.onError(pe)}}var rn=!1,Ae=null,ro=!1,ia=null,Hc={onError:function(i){rn=!0,Ae=i}};function Wc(i,l,f,v,S,P,j,z,W){rn=!1,Ae=null,Vf.apply(Hc,arguments)}function $l(i,l,f,v,S,P,j,z,W){if(Wc.apply(this,arguments),rn){if(rn){var ne=Ae;rn=!1,Ae=null}else throw Error(n(198));ro||(ro=!0,ia=ne)}}function Wr(i){var l=i,f=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(f=l.return),i=l.return;while(i)}return l.tag===3?f:null}function yi(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function Ul(i){if(Wr(i)!==i)throw Error(n(188))}function $f(i){var l=i.alternate;if(!l){if(l=Wr(i),l===null)throw Error(n(188));return l!==i?null:i}for(var f=i,v=l;;){var S=f.return;if(S===null)break;var P=S.alternate;if(P===null){if(v=S.return,v!==null){f=v;continue}break}if(S.child===P.child){for(P=S.child;P;){if(P===f)return Ul(S),i;if(P===v)return Ul(S),l;P=P.sibling}throw Error(n(188))}if(f.return!==v.return)f=S,v=P;else{for(var j=!1,z=S.child;z;){if(z===f){j=!0,f=S,v=P;break}if(z===v){j=!0,v=S,f=P;break}z=z.sibling}if(!j){for(z=P.child;z;){if(z===f){j=!0,f=P,v=S;break}if(z===v){j=!0,v=P,f=S;break}z=z.sibling}if(!j)throw Error(n(189))}}if(f.alternate!==v)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?i:l}function Gc(i){return i=$f(i),i!==null?Zc(i):null}function Zc(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=Zc(i);if(l!==null)return l;i=i.sibling}return null}var qc=t.unstable_scheduleCallback,Hl=t.unstable_cancelCallback,Uf=t.unstable_shouldYield,sa=t.unstable_requestPaint,xt=t.unstable_now,Hf=t.unstable_getCurrentPriorityLevel,Wl=t.unstable_ImmediatePriority,Kc=t.unstable_UserBlockingPriority,oa=t.unstable_NormalPriority,Gl=t.unstable_LowPriority,Ji=t.unstable_IdlePriority,io=null,Mn=null;function so(i){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(io,i,void 0,(i.current.flags&128)===128)}catch{}}var Ye=Math.clz32?Math.clz32:Qi,gt=Math.log,aa=Math.LN2;function Qi(i){return i>>>=0,i===0?32:31-(gt(i)/aa|0)|0}var wr=64,es=4194304;function Ke(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ht(i,l){var f=i.pendingLanes;if(f===0)return 0;var v=0,S=i.suspendedLanes,P=i.pingedLanes,j=f&268435455;if(j!==0){var z=j&~S;z!==0?v=Ke(z):(P&=j,P!==0&&(v=Ke(P)))}else j=f&~S,j!==0?v=Ke(j):P!==0&&(v=Ke(P));if(v===0)return 0;if(l!==0&&l!==v&&(l&S)===0&&(S=v&-v,P=l&-l,S>=P||S===16&&(P&4194240)!==0))return l;if((v&4)!==0&&(v|=f&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=v;0<l;)f=31-Ye(l),S=1<<f,v|=i[f],l&=~S;return v}function Zl(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function la(i,l){for(var f=i.suspendedLanes,v=i.pingedLanes,S=i.expirationTimes,P=i.pendingLanes;0<P;){var j=31-Ye(P),z=1<<j,W=S[j];W===-1?((z&f)===0||(z&v)!==0)&&(S[j]=Zl(z,l)):W<=l&&(i.expiredLanes|=z),P&=~z}}function sn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Yc(){var i=wr;return wr<<=1,(wr&4194240)===0&&(wr=64),i}function ts(i){for(var l=[],f=0;31>f;f++)l.push(i);return l}function Dn(i,l,f){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-Ye(l),i[l]=f}function Et(i,l){var f=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var v=i.eventTimes;for(i=i.expirationTimes;0<f;){var S=31-Ye(f),P=1<<S;l[S]=0,v[S]=-1,i[S]=-1,f&=~P}}function br(i,l){var f=i.entangledLanes|=l;for(i=i.entanglements;f;){var v=31-Ye(f),S=1<<v;S&l|i[v]&l&&(i[v]|=l),f&=~S}}var nt=0;function ns(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var ua,_i,ca,da,oo,ao=!1,rs=[],zn=null,Sr=null,rr=null,lo=new Map,We=new Map,Ft=[],ut="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ql(i,l){switch(i){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":lo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":We.delete(l.pointerId)}}function xi(i,l,f,v,S,P){return i===null||i.nativeEvent!==P?(i={blockedOn:l,domEventName:f,eventSystemFlags:v,nativeEvent:P,targetContainers:[S]},l!==null&&(l=Ri(l),l!==null&&_i(l)),i):(i.eventSystemFlags|=v,l=i.targetContainers,S!==null&&l.indexOf(S)===-1&&l.push(S),i)}function Kl(i,l,f,v,S){switch(l){case"focusin":return zn=xi(zn,i,l,f,v,S),!0;case"dragenter":return Sr=xi(Sr,i,l,f,v,S),!0;case"mouseover":return rr=xi(rr,i,l,f,v,S),!0;case"pointerover":var P=S.pointerId;return lo.set(P,xi(lo.get(P)||null,i,l,f,v,S)),!0;case"gotpointercapture":return P=S.pointerId,We.set(P,xi(We.get(P)||null,i,l,f,v,S)),!0}return!1}function ha(i){var l=Ti(i.target);if(l!==null){var f=Wr(l);if(f!==null){if(l=f.tag,l===13){if(l=yi(f),l!==null){i.blockedOn=l,oo(i.priority,function(){ca(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){i.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ir(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var f=ma(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(f===null){f=i.nativeEvent;var v=new f.constructor(f.type,f);zl=v,f.target.dispatchEvent(v),zl=null}else return l=Ri(f),l!==null&&_i(l),i.blockedOn=f,!1;l.shift()}return!0}function fa(i,l,f){ir(i)&&f.delete(l)}function uo(){ao=!1,zn!==null&&ir(zn)&&(zn=null),Sr!==null&&ir(Sr)&&(Sr=null),rr!==null&&ir(rr)&&(rr=null),lo.forEach(fa),We.forEach(fa)}function wt(i,l){i.blockedOn===l&&(i.blockedOn=null,ao||(ao=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,uo)))}function Bn(i){function l(S){return wt(S,i)}if(0<rs.length){wt(rs[0],i);for(var f=1;f<rs.length;f++){var v=rs[f];v.blockedOn===i&&(v.blockedOn=null)}}for(zn!==null&&wt(zn,i),Sr!==null&&wt(Sr,i),rr!==null&&wt(rr,i),lo.forEach(l),We.forEach(l),f=0;f<Ft.length;f++)v=Ft[f],v.blockedOn===i&&(v.blockedOn=null);for(;0<Ft.length&&(f=Ft[0],f.blockedOn===null);)ha(f),f.blockedOn===null&&Ft.shift()}var wi=D.ReactCurrentBatchConfig,co=!0;function Wf(i,l,f,v){var S=nt,P=wi.transition;wi.transition=null;try{nt=1,ho(i,l,f,v)}finally{nt=S,wi.transition=P}}function Xc(i,l,f,v){var S=nt,P=wi.transition;wi.transition=null;try{nt=4,ho(i,l,f,v)}finally{nt=S,wi.transition=P}}function ho(i,l,f,v){if(co){var S=ma(i,l,f,v);if(S===null)a(i,l,v,pa,f),ql(i,v);else if(Kl(S,i,l,f,v))v.stopPropagation();else if(ql(i,v),l&4&&-1<ut.indexOf(i)){for(;S!==null;){var P=Ri(S);if(P!==null&&ua(P),P=ma(i,l,f,v),P===null&&a(i,l,v,pa,f),P===S)break;S=P}S!==null&&v.stopPropagation()}else a(i,l,v,null,f)}}var pa=null;function ma(i,l,f,v){if(pa=null,i=Bl(v),i=Ti(i),i!==null)if(l=Wr(i),l===null)i=null;else if(f=l.tag,f===13){if(i=yi(l),i!==null)return i;i=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return pa=i,null}function tt(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hf()){case Wl:return 1;case Kc:return 4;case oa:case Gl:return 16;case Ji:return 536870912;default:return 16}default:return 16}}var Gr=null,vn=null,Zr=null;function Yl(){if(Zr)return Zr;var i,l=vn,f=l.length,v,S="value"in Gr?Gr.value:Gr.textContent,P=S.length;for(i=0;i<f&&l[i]===S[i];i++);var j=f-i;for(v=1;v<=j&&l[f-v]===S[P-v];v++);return Zr=S.slice(i,1<v?1-v:void 0)}function ga(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function is(){return!0}function Jc(){return!1}function on(i){function l(f,v,S,P,j){this._reactName=f,this._targetInst=S,this.type=v,this.nativeEvent=P,this.target=j,this.currentTarget=null;for(var z in i)i.hasOwnProperty(z)&&(f=i[z],this[z]=f?f(P):P[z]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?is:Jc,this.isPropagationStopped=Jc,this}return re(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),l}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xl=on(ss),bi=re({},ss,{view:0,detail:0}),Gf=on(bi),Pn,Jl,os,Fn=re({},bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ci,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==os&&(os&&i.type==="mousemove"?(Pn=i.screenX-os.screenX,Jl=i.screenY-os.screenY):Jl=Pn=0,os=i),Pn)},movementY:function(i){return"movementY"in i?i.movementY:Jl}}),Ql=on(Fn),Qc=re({},Fn,{dataTransfer:0}),eu=on(Qc),Zf=re({},bi,{relatedTarget:0}),va=on(Zf),ed=re({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),qf=on(ed),Kf=re({},ss,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),tu=on(Kf),Yf=re({},ss,{data:0}),nu=on(Yf),td={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ya={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Si={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xf(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=Si[i])?!!l[i]:!1}function Ci(){return Xf}var En=re({},bi,{key:function(i){if(i.key){var l=td[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=ga(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ya[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ci,charCode:function(i){return i.type==="keypress"?ga(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ga(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),nd=on(En),rd=re({},Fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),id=on(rd),ru=re({},bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ci}),iu=on(ru),Jf=re({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qf=on(Jf),sd=re({},Fn,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ep=on(sd),Vn=[9,13,27,32],qr=c&&"CompositionEvent"in window,fo=null;c&&"documentMode"in document&&(fo=document.documentMode);var Cr=c&&"TextEvent"in window&&!fo,od=c&&(!qr||fo&&8<fo&&11>=fo),ki=" ",ad=!1;function as(i,l){switch(i){case"keyup":return Vn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function su(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var kr=!1;function tp(i,l){switch(i){case"compositionend":return su(l);case"keypress":return l.which!==32?null:(ad=!0,ki);case"textInput":return i=l.data,i===ki&&ad?null:i;default:return null}}function Kr(i,l){if(kr)return i==="compositionend"||!qr&&as(i,l)?(i=Yl(),Zr=vn=Gr=null,kr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return od&&l.locale!=="ko"?null:l.data;default:return null}}var _a={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ld(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!_a[i.type]:l==="textarea"}function xa(i,l,f,v){Fc(v),l=g(l,"onChange"),0<l.length&&(f=new Xl("onChange","change",null,f,v),i.push({event:f,listeners:l}))}var po=null,yn=null;function np(i){pu(i,0)}function Pr(i){var l=Li(i);if(Be(l))return i}function rp(i,l){if(i==="change")return l}var sr=!1;if(c){var ls;if(c){var wa="oninput"in document;if(!wa){var ba=document.createElement("div");ba.setAttribute("oninput","return;"),wa=typeof ba.oninput=="function"}ls=wa}else ls=!1;sr=ls&&(!document.documentMode||9<document.documentMode)}function mo(){po&&(po.detachEvent("onpropertychange",Sa),yn=po=null)}function Sa(i){if(i.propertyName==="value"&&Pr(yn)){var l=[];xa(l,yn,i,Bl(i)),ra(np,l)}}function Ca(i,l,f){i==="focusin"?(mo(),po=l,yn=f,po.attachEvent("onpropertychange",Sa)):i==="focusout"&&mo()}function us(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Pr(yn)}function ka(i,l){if(i==="click")return Pr(l)}function ou(i,l){if(i==="input"||i==="change")return Pr(l)}function ud(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var $n=typeof Object.is=="function"?Object.is:ud;function Yr(i,l){if($n(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var f=Object.keys(i),v=Object.keys(l);if(f.length!==v.length)return!1;for(v=0;v<f.length;v++){var S=f[v];if(!h.call(l,S)||!$n(i[S],l[S]))return!1}return!0}function cd(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function au(i,l){var f=cd(i);i=0;for(var v;f;){if(f.nodeType===3){if(v=i+f.textContent.length,i<=l&&v>=l)return{node:f,offset:l-i};i=v}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=cd(f)}}function dd(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?dd(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function lu(){for(var i=window,l=Ee();l instanceof i.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)i=l.contentWindow;else break;l=Ee(i.document)}return l}function uu(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function or(i){var l=lu(),f=i.focusedElem,v=i.selectionRange;if(l!==f&&f&&f.ownerDocument&&dd(f.ownerDocument.documentElement,f)){if(v!==null&&uu(f)){if(l=v.start,i=v.end,i===void 0&&(i=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(i,f.value.length);else if(i=(l=f.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var S=f.textContent.length,P=Math.min(v.start,S);v=v.end===void 0?P:Math.min(v.end,S),!i.extend&&P>v&&(S=v,v=P,P=S),S=au(f,P);var j=au(f,v);S&&j&&(i.rangeCount!==1||i.anchorNode!==S.node||i.anchorOffset!==S.offset||i.focusNode!==j.node||i.focusOffset!==j.offset)&&(l=l.createRange(),l.setStart(S.node,S.offset),i.removeAllRanges(),P>v?(i.addRange(l),i.extend(j.node,j.offset)):(l.setEnd(j.node,j.offset),i.addRange(l)))}}for(l=[],i=f;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)i=l[f],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pa=c&&"documentMode"in document&&11>=document.documentMode,cs=null,ds=null,go=null,Ea=!1;function hd(i,l,f){var v=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Ea||cs==null||cs!==Ee(v)||(v=cs,"selectionStart"in v&&uu(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),go&&Yr(go,v)||(go=v,v=g(ds,"onSelect"),0<v.length&&(l=new Xl("onSelect","select",null,l,f),i.push({event:l,listeners:v}),l.target=cs)))}function Xr(i,l){var f={};return f[i.toLowerCase()]=l.toLowerCase(),f["Webkit"+i]="webkit"+l,f["Moz"+i]="moz"+l,f}var hs={animationend:Xr("Animation","AnimationEnd"),animationiteration:Xr("Animation","AnimationIteration"),animationstart:Xr("Animation","AnimationStart"),transitionend:Xr("Transition","TransitionEnd")},Jr={},cu={};c&&(cu=document.createElement("div").style,"AnimationEvent"in window||(delete hs.animationend.animation,delete hs.animationiteration.animation,delete hs.animationstart.animation),"TransitionEvent"in window||delete hs.transitionend.transition);function vo(i){if(Jr[i])return Jr[i];if(!hs[i])return i;var l=hs[i],f;for(f in l)if(l.hasOwnProperty(f)&&f in cu)return Jr[i]=l[f];return i}var fd=vo("animationend"),ar=vo("animationiteration"),du=vo("animationstart"),hu=vo("transitionend"),fs=new Map,pd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(i,l){fs.set(i,l),o(l,[i])}for(var Pi=0;Pi<pd.length;Pi++){var Ta=pd[Pi],md=Ta.toLowerCase(),ip=Ta[0].toUpperCase()+Ta.slice(1);Un(md,"on"+ip)}Un(fd,"onAnimationEnd"),Un(ar,"onAnimationIteration"),Un(du,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(hu,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gd=new Set("cancel close invalid load scroll toggle".split(" ").concat(ps));function fu(i,l,f){var v=i.type||"unknown-event";i.currentTarget=f,$l(v,l,void 0,i),i.currentTarget=null}function pu(i,l){l=(l&4)!==0;for(var f=0;f<i.length;f++){var v=i[f],S=v.event;v=v.listeners;e:{var P=void 0;if(l)for(var j=v.length-1;0<=j;j--){var z=v[j],W=z.instance,ne=z.currentTarget;if(z=z.listener,W!==P&&S.isPropagationStopped())break e;fu(S,z,ne),P=W}else for(j=0;j<v.length;j++){if(z=v[j],W=z.instance,ne=z.currentTarget,z=z.listener,W!==P&&S.isPropagationStopped())break e;fu(S,z,ne),P=W}}}if(ro)throw i=ia,ro=!1,ia=null,i}function ct(i,l){var f=l[ys];f===void 0&&(f=l[ys]=new Set);var v=i+"__bubble";f.has(v)||(vd(l,i,2,!1),f.add(v))}function mu(i,l,f){var v=0;l&&(v|=4),vd(f,i,v,l)}var yo="_reactListening"+Math.random().toString(36).slice(2);function ms(i){if(!i[yo]){i[yo]=!0,r.forEach(function(f){f!=="selectionchange"&&(gd.has(f)||mu(f,!1,i),mu(f,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[yo]||(l[yo]=!0,mu("selectionchange",!1,l))}}function vd(i,l,f,v){switch(tt(l)){case 1:var S=Wf;break;case 4:S=Xc;break;default:S=ho}f=S.bind(null,l,f,i),S=void 0,!Vl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(S=!0),v?S!==void 0?i.addEventListener(l,f,{capture:!0,passive:S}):i.addEventListener(l,f,!0):S!==void 0?i.addEventListener(l,f,{passive:S}):i.addEventListener(l,f,!1)}function a(i,l,f,v,S){var P=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var j=v.tag;if(j===3||j===4){var z=v.stateNode.containerInfo;if(z===S||z.nodeType===8&&z.parentNode===S)break;if(j===4)for(j=v.return;j!==null;){var W=j.tag;if((W===3||W===4)&&(W=j.stateNode.containerInfo,W===S||W.nodeType===8&&W.parentNode===S))return;j=j.return}for(;z!==null;){if(j=Ti(z),j===null)return;if(W=j.tag,W===5||W===6){v=P=j;continue e}z=z.parentNode}}v=v.return}ra(function(){var ne=P,pe=Bl(f),ve=[];e:{var fe=fs.get(i);if(fe!==void 0){var Ce=Xl,Te=i;switch(i){case"keypress":if(ga(f)===0)break e;case"keydown":case"keyup":Ce=nd;break;case"focusin":Te="focus",Ce=va;break;case"focusout":Te="blur",Ce=va;break;case"beforeblur":case"afterblur":Ce=va;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=iu;break;case fd:case ar:case du:Ce=qf;break;case hu:Ce=Qf;break;case"scroll":Ce=Gf;break;case"wheel":Ce=ep;break;case"copy":case"cut":case"paste":Ce=tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=id}var Ne=(l&4)!==0,It=!Ne&&i==="scroll",X=Ne?fe!==null?fe+"Capture":null:fe;Ne=[];for(var q=ne,Q;q!==null;){Q=q;var xe=Q.stateNode;if(Q.tag===5&&xe!==null&&(Q=xe,X!==null&&(xe=to(q,X),xe!=null&&Ne.push(d(q,xe,Q)))),It)break;q=q.return}0<Ne.length&&(fe=new Ce(fe,Te,null,f,pe),ve.push({event:fe,listeners:Ne}))}}if((l&7)===0){e:{if(fe=i==="mouseover"||i==="pointerover",Ce=i==="mouseout"||i==="pointerout",fe&&f!==zl&&(Te=f.relatedTarget||f.fromElement)&&(Ti(Te)||Te[at]))break e;if((Ce||fe)&&(fe=pe.window===pe?pe:(fe=pe.ownerDocument)?fe.defaultView||fe.parentWindow:window,Ce?(Te=f.relatedTarget||f.toElement,Ce=ne,Te=Te?Ti(Te):null,Te!==null&&(It=Wr(Te),Te!==It||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(Ce=null,Te=ne),Ce!==Te)){if(Ne=Ql,xe="onMouseLeave",X="onMouseEnter",q="mouse",(i==="pointerout"||i==="pointerover")&&(Ne=id,xe="onPointerLeave",X="onPointerEnter",q="pointer"),It=Ce==null?fe:Li(Ce),Q=Te==null?fe:Li(Te),fe=new Ne(xe,q+"leave",Ce,f,pe),fe.target=It,fe.relatedTarget=Q,xe=null,Ti(pe)===ne&&(Ne=new Ne(X,q+"enter",Te,f,pe),Ne.target=Q,Ne.relatedTarget=It,xe=Ne),It=xe,Ce&&Te)t:{for(Ne=Ce,X=Te,q=0,Q=Ne;Q;Q=b(Q))q++;for(Q=0,xe=X;xe;xe=b(xe))Q++;for(;0<q-Q;)Ne=b(Ne),q--;for(;0<Q-q;)X=b(X),Q--;for(;q--;){if(Ne===X||X!==null&&Ne===X.alternate)break t;Ne=b(Ne),X=b(X)}Ne=null}else Ne=null;Ce!==null&&T(ve,fe,Ce,Ne,!1),Te!==null&&It!==null&&T(ve,It,Te,Ne,!0)}}e:{if(fe=ne?Li(ne):window,Ce=fe.nodeName&&fe.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&fe.type==="file")var je=rp;else if(ld(fe))if(sr)je=ou;else{je=us;var Fe=Ca}else(Ce=fe.nodeName)&&Ce.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(je=ka);if(je&&(je=je(i,ne))){xa(ve,je,f,pe);break e}Fe&&Fe(i,fe,ne),i==="focusout"&&(Fe=fe._wrapperState)&&Fe.controlled&&fe.type==="number"&&Ki(fe,"number",fe.value)}switch(Fe=ne?Li(ne):window,i){case"focusin":(ld(Fe)||Fe.contentEditable==="true")&&(cs=Fe,ds=ne,go=null);break;case"focusout":go=ds=cs=null;break;case"mousedown":Ea=!0;break;case"contextmenu":case"mouseup":case"dragend":Ea=!1,hd(ve,f,pe);break;case"selectionchange":if(Pa)break;case"keydown":case"keyup":hd(ve,f,pe)}var Ve;if(qr)e:{switch(i){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else kr?as(i,f)&&(Ge="onCompositionEnd"):i==="keydown"&&f.keyCode===229&&(Ge="onCompositionStart");Ge&&(od&&f.locale!=="ko"&&(kr||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&kr&&(Ve=Yl()):(Gr=pe,vn="value"in Gr?Gr.value:Gr.textContent,kr=!0)),Fe=g(ne,Ge),0<Fe.length&&(Ge=new nu(Ge,i,null,f,pe),ve.push({event:Ge,listeners:Fe}),Ve?Ge.data=Ve:(Ve=su(f),Ve!==null&&(Ge.data=Ve)))),(Ve=Cr?tp(i,f):Kr(i,f))&&(ne=g(ne,"onBeforeInput"),0<ne.length&&(pe=new nu("onBeforeInput","beforeinput",null,f,pe),ve.push({event:pe,listeners:ne}),pe.data=Ve))}pu(ve,l)})}function d(i,l,f){return{instance:i,listener:l,currentTarget:f}}function g(i,l){for(var f=l+"Capture",v=[];i!==null;){var S=i,P=S.stateNode;S.tag===5&&P!==null&&(S=P,P=to(i,f),P!=null&&v.unshift(d(i,P,S)),P=to(i,l),P!=null&&v.push(d(i,P,S))),i=i.return}return v}function b(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function T(i,l,f,v,S){for(var P=l._reactName,j=[];f!==null&&f!==v;){var z=f,W=z.alternate,ne=z.stateNode;if(W!==null&&W===v)break;z.tag===5&&ne!==null&&(z=ne,S?(W=to(f,P),W!=null&&j.unshift(d(f,W,z))):S||(W=to(f,P),W!=null&&j.push(d(f,W,z)))),f=f.return}j.length!==0&&i.push({event:l,listeners:j})}var O=/\r\n?/g,$=/\u0000|\uFFFD/g;function Y(i){return(typeof i=="string"?i:""+i).replace(O,`
`).replace($,"")}function te(i,l,f){if(l=Y(l),Y(i)!==l&&f)throw Error(n(425))}function he(){}var Se=null,ze=null;function Xe(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Vt=typeof setTimeout=="function"?setTimeout:void 0,Ot=typeof clearTimeout=="function"?clearTimeout:void 0,_n=typeof Promise=="function"?Promise:void 0,an=typeof queueMicrotask=="function"?queueMicrotask:typeof _n<"u"?function(i){return _n.resolve(null).then(i).catch(gs)}:Vt;function gs(i){setTimeout(function(){throw i})}function gu(i,l){var f=l,v=0;do{var S=f.nextSibling;if(i.removeChild(f),S&&S.nodeType===8)if(f=S.data,f==="/$"){if(v===0){i.removeChild(S),Bn(l);return}v--}else f!=="$"&&f!=="$?"&&f!=="$!"||v++;f=S}while(f);Bn(l)}function Qr(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function yd(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var f=i.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return i;l--}else f==="/$"&&l++}i=i.previousSibling}return null}var Ei=Math.random().toString(36).slice(2),lr="__reactFiber$"+Ei,vs="__reactProps$"+Ei,at="__reactContainer$"+Ei,ys="__reactEvents$"+Ei,sp="__reactListeners$"+Ei,op="__reactHandles$"+Ei;function Ti(i){var l=i[lr];if(l)return l;for(var f=i.parentNode;f;){if(l=f[at]||f[lr]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(i=yd(i);i!==null;){if(f=i[lr])return f;i=yd(i)}return l}i=f,f=i.parentNode}return null}function Ri(i){return i=i[lr]||i[at],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Li(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Ra(i){return i[vs]||null}var ap=[],La=-1;function _s(i){return{current:i}}function vt(i){0>La||(i.current=ap[La],ap[La]=null,La--)}function ft(i,l){La++,ap[La]=i.current,i.current=l}var xs={},ln=_s(xs),Tn=_s(!1),_o=xs;function Na(i,l){var f=i.type.contextTypes;if(!f)return xs;var v=i.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===l)return v.__reactInternalMemoizedMaskedChildContext;var S={},P;for(P in f)S[P]=l[P];return v&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=S),S}function Rn(i){return i=i.childContextTypes,i!=null}function _d(){vt(Tn),vt(ln)}function Hy(i,l,f){if(ln.current!==xs)throw Error(n(168));ft(ln,l),ft(Tn,f)}function Wy(i,l,f){var v=i.stateNode;if(l=l.childContextTypes,typeof v.getChildContext!="function")return f;v=v.getChildContext();for(var S in v)if(!(S in l))throw Error(n(108,J(i)||"Unknown",S));return re({},f,v)}function xd(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||xs,_o=ln.current,ft(ln,i),ft(Tn,Tn.current),!0}function Gy(i,l,f){var v=i.stateNode;if(!v)throw Error(n(169));f?(i=Wy(i,l,_o),v.__reactInternalMemoizedMergedChildContext=i,vt(Tn),vt(ln),ft(ln,i)):vt(Tn),ft(Tn,f)}var Ni=null,wd=!1,lp=!1;function Zy(i){Ni===null?Ni=[i]:Ni.push(i)}function PE(i){wd=!0,Zy(i)}function ws(){if(!lp&&Ni!==null){lp=!0;var i=0,l=nt;try{var f=Ni;for(nt=1;i<f.length;i++){var v=f[i];do v=v(!0);while(v!==null)}Ni=null,wd=!1}catch(S){throw Ni!==null&&(Ni=Ni.slice(i+1)),qc(Wl,ws),S}finally{nt=l,lp=!1}}return null}var Aa=[],ja=0,bd=null,Sd=0,ur=[],cr=0,xo=null,Ai=1,ji="";function wo(i,l){Aa[ja++]=Sd,Aa[ja++]=bd,bd=i,Sd=l}function qy(i,l,f){ur[cr++]=Ai,ur[cr++]=ji,ur[cr++]=xo,xo=i;var v=Ai;i=ji;var S=32-Ye(v)-1;v&=~(1<<S),f+=1;var P=32-Ye(l)+S;if(30<P){var j=S-S%5;P=(v&(1<<j)-1).toString(32),v>>=j,S-=j,Ai=1<<32-Ye(l)+S|f<<S|v,ji=P+i}else Ai=1<<P|f<<S|v,ji=i}function up(i){i.return!==null&&(wo(i,1),qy(i,1,0))}function cp(i){for(;i===bd;)bd=Aa[--ja],Aa[ja]=null,Sd=Aa[--ja],Aa[ja]=null;for(;i===xo;)xo=ur[--cr],ur[cr]=null,ji=ur[--cr],ur[cr]=null,Ai=ur[--cr],ur[cr]=null}var Hn=null,Wn=null,_t=!1,Er=null;function Ky(i,l){var f=pr(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=i,l=i.deletions,l===null?(i.deletions=[f],i.flags|=16):l.push(f)}function Yy(i,l){switch(i.tag){case 5:var f=i.type;return l=l.nodeType!==1||f.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,Hn=i,Wn=Qr(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,Hn=i,Wn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(f=xo!==null?{id:Ai,overflow:ji}:null,i.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=pr(18,null,null,0),f.stateNode=l,f.return=i,i.child=f,Hn=i,Wn=null,!0):!1;default:return!1}}function dp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function hp(i){if(_t){var l=Wn;if(l){var f=l;if(!Yy(i,l)){if(dp(i))throw Error(n(418));l=Qr(f.nextSibling);var v=Hn;l&&Yy(i,l)?Ky(v,f):(i.flags=i.flags&-4097|2,_t=!1,Hn=i)}}else{if(dp(i))throw Error(n(418));i.flags=i.flags&-4097|2,_t=!1,Hn=i}}}function Xy(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Hn=i}function Cd(i){if(i!==Hn)return!1;if(!_t)return Xy(i),_t=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!Xe(i.type,i.memoizedProps)),l&&(l=Wn)){if(dp(i))throw Jy(),Error(n(418));for(;l;)Ky(i,l),l=Qr(l.nextSibling)}if(Xy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var f=i.data;if(f==="/$"){if(l===0){Wn=Qr(i.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++}i=i.nextSibling}Wn=null}}else Wn=Hn?Qr(i.stateNode.nextSibling):null;return!0}function Jy(){for(var i=Wn;i;)i=Qr(i.nextSibling)}function Ia(){Wn=Hn=null,_t=!1}function fp(i){Er===null?Er=[i]:Er.push(i)}var EE=D.ReactCurrentBatchConfig;function vu(i,l,f){if(i=f.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(n(309));var v=f.stateNode}if(!v)throw Error(n(147,i));var S=v,P=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===P?l.ref:(l=function(j){var z=S.refs;j===null?delete z[P]:z[P]=j},l._stringRef=P,l)}if(typeof i!="string")throw Error(n(284));if(!f._owner)throw Error(n(290,i))}return i}function kd(i,l){throw i=Object.prototype.toString.call(l),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function Qy(i){var l=i._init;return l(i._payload)}function e_(i){function l(X,q){if(i){var Q=X.deletions;Q===null?(X.deletions=[q],X.flags|=16):Q.push(q)}}function f(X,q){if(!i)return null;for(;q!==null;)l(X,q),q=q.sibling;return null}function v(X,q){for(X=new Map;q!==null;)q.key!==null?X.set(q.key,q):X.set(q.index,q),q=q.sibling;return X}function S(X,q){return X=Rs(X,q),X.index=0,X.sibling=null,X}function P(X,q,Q){return X.index=Q,i?(Q=X.alternate,Q!==null?(Q=Q.index,Q<q?(X.flags|=2,q):Q):(X.flags|=2,q)):(X.flags|=1048576,q)}function j(X){return i&&X.alternate===null&&(X.flags|=2),X}function z(X,q,Q,xe){return q===null||q.tag!==6?(q=im(Q,X.mode,xe),q.return=X,q):(q=S(q,Q),q.return=X,q)}function W(X,q,Q,xe){var je=Q.type;return je===M?pe(X,q,Q.props.children,xe,Q.key):q!==null&&(q.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===ye&&Qy(je)===q.type)?(xe=S(q,Q.props),xe.ref=vu(X,q,Q),xe.return=X,xe):(xe=Kd(Q.type,Q.key,Q.props,null,X.mode,xe),xe.ref=vu(X,q,Q),xe.return=X,xe)}function ne(X,q,Q,xe){return q===null||q.tag!==4||q.stateNode.containerInfo!==Q.containerInfo||q.stateNode.implementation!==Q.implementation?(q=sm(Q,X.mode,xe),q.return=X,q):(q=S(q,Q.children||[]),q.return=X,q)}function pe(X,q,Q,xe,je){return q===null||q.tag!==7?(q=Ro(Q,X.mode,xe,je),q.return=X,q):(q=S(q,Q),q.return=X,q)}function ve(X,q,Q){if(typeof q=="string"&&q!==""||typeof q=="number")return q=im(""+q,X.mode,Q),q.return=X,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case V:return Q=Kd(q.type,q.key,q.props,null,X.mode,Q),Q.ref=vu(X,null,q),Q.return=X,Q;case Z:return q=sm(q,X.mode,Q),q.return=X,q;case ye:var xe=q._init;return ve(X,xe(q._payload),Q)}if(Hr(q)||me(q))return q=Ro(q,X.mode,Q,null),q.return=X,q;kd(X,q)}return null}function fe(X,q,Q,xe){var je=q!==null?q.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return je!==null?null:z(X,q,""+Q,xe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case V:return Q.key===je?W(X,q,Q,xe):null;case Z:return Q.key===je?ne(X,q,Q,xe):null;case ye:return je=Q._init,fe(X,q,je(Q._payload),xe)}if(Hr(Q)||me(Q))return je!==null?null:pe(X,q,Q,xe,null);kd(X,Q)}return null}function Ce(X,q,Q,xe,je){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return X=X.get(Q)||null,z(q,X,""+xe,je);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case V:return X=X.get(xe.key===null?Q:xe.key)||null,W(q,X,xe,je);case Z:return X=X.get(xe.key===null?Q:xe.key)||null,ne(q,X,xe,je);case ye:var Fe=xe._init;return Ce(X,q,Q,Fe(xe._payload),je)}if(Hr(xe)||me(xe))return X=X.get(Q)||null,pe(q,X,xe,je,null);kd(q,xe)}return null}function Te(X,q,Q,xe){for(var je=null,Fe=null,Ve=q,Ge=q=0,Kt=null;Ve!==null&&Ge<Q.length;Ge++){Ve.index>Ge?(Kt=Ve,Ve=null):Kt=Ve.sibling;var it=fe(X,Ve,Q[Ge],xe);if(it===null){Ve===null&&(Ve=Kt);break}i&&Ve&&it.alternate===null&&l(X,Ve),q=P(it,q,Ge),Fe===null?je=it:Fe.sibling=it,Fe=it,Ve=Kt}if(Ge===Q.length)return f(X,Ve),_t&&wo(X,Ge),je;if(Ve===null){for(;Ge<Q.length;Ge++)Ve=ve(X,Q[Ge],xe),Ve!==null&&(q=P(Ve,q,Ge),Fe===null?je=Ve:Fe.sibling=Ve,Fe=Ve);return _t&&wo(X,Ge),je}for(Ve=v(X,Ve);Ge<Q.length;Ge++)Kt=Ce(Ve,X,Ge,Q[Ge],xe),Kt!==null&&(i&&Kt.alternate!==null&&Ve.delete(Kt.key===null?Ge:Kt.key),q=P(Kt,q,Ge),Fe===null?je=Kt:Fe.sibling=Kt,Fe=Kt);return i&&Ve.forEach(function(Ls){return l(X,Ls)}),_t&&wo(X,Ge),je}function Ne(X,q,Q,xe){var je=me(Q);if(typeof je!="function")throw Error(n(150));if(Q=je.call(Q),Q==null)throw Error(n(151));for(var Fe=je=null,Ve=q,Ge=q=0,Kt=null,it=Q.next();Ve!==null&&!it.done;Ge++,it=Q.next()){Ve.index>Ge?(Kt=Ve,Ve=null):Kt=Ve.sibling;var Ls=fe(X,Ve,it.value,xe);if(Ls===null){Ve===null&&(Ve=Kt);break}i&&Ve&&Ls.alternate===null&&l(X,Ve),q=P(Ls,q,Ge),Fe===null?je=Ls:Fe.sibling=Ls,Fe=Ls,Ve=Kt}if(it.done)return f(X,Ve),_t&&wo(X,Ge),je;if(Ve===null){for(;!it.done;Ge++,it=Q.next())it=ve(X,it.value,xe),it!==null&&(q=P(it,q,Ge),Fe===null?je=it:Fe.sibling=it,Fe=it);return _t&&wo(X,Ge),je}for(Ve=v(X,Ve);!it.done;Ge++,it=Q.next())it=Ce(Ve,X,Ge,it.value,xe),it!==null&&(i&&it.alternate!==null&&Ve.delete(it.key===null?Ge:it.key),q=P(it,q,Ge),Fe===null?je=it:Fe.sibling=it,Fe=it);return i&&Ve.forEach(function(oT){return l(X,oT)}),_t&&wo(X,Ge),je}function It(X,q,Q,xe){if(typeof Q=="object"&&Q!==null&&Q.type===M&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case V:e:{for(var je=Q.key,Fe=q;Fe!==null;){if(Fe.key===je){if(je=Q.type,je===M){if(Fe.tag===7){f(X,Fe.sibling),q=S(Fe,Q.props.children),q.return=X,X=q;break e}}else if(Fe.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===ye&&Qy(je)===Fe.type){f(X,Fe.sibling),q=S(Fe,Q.props),q.ref=vu(X,Fe,Q),q.return=X,X=q;break e}f(X,Fe);break}else l(X,Fe);Fe=Fe.sibling}Q.type===M?(q=Ro(Q.props.children,X.mode,xe,Q.key),q.return=X,X=q):(xe=Kd(Q.type,Q.key,Q.props,null,X.mode,xe),xe.ref=vu(X,q,Q),xe.return=X,X=xe)}return j(X);case Z:e:{for(Fe=Q.key;q!==null;){if(q.key===Fe)if(q.tag===4&&q.stateNode.containerInfo===Q.containerInfo&&q.stateNode.implementation===Q.implementation){f(X,q.sibling),q=S(q,Q.children||[]),q.return=X,X=q;break e}else{f(X,q);break}else l(X,q);q=q.sibling}q=sm(Q,X.mode,xe),q.return=X,X=q}return j(X);case ye:return Fe=Q._init,It(X,q,Fe(Q._payload),xe)}if(Hr(Q))return Te(X,q,Q,xe);if(me(Q))return Ne(X,q,Q,xe);kd(X,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,q!==null&&q.tag===6?(f(X,q.sibling),q=S(q,Q),q.return=X,X=q):(f(X,q),q=im(Q,X.mode,xe),q.return=X,X=q),j(X)):f(X,q)}return It}var Oa=e_(!0),t_=e_(!1),Pd=_s(null),Ed=null,Ma=null,pp=null;function mp(){pp=Ma=Ed=null}function gp(i){var l=Pd.current;vt(Pd),i._currentValue=l}function vp(i,l,f){for(;i!==null;){var v=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),i===f)break;i=i.return}}function Da(i,l){Ed=i,pp=Ma=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(Ln=!0),i.firstContext=null)}function dr(i){var l=i._currentValue;if(pp!==i)if(i={context:i,memoizedValue:l,next:null},Ma===null){if(Ed===null)throw Error(n(308));Ma=i,Ed.dependencies={lanes:0,firstContext:i}}else Ma=Ma.next=i;return l}var bo=null;function yp(i){bo===null?bo=[i]:bo.push(i)}function n_(i,l,f,v){var S=l.interleaved;return S===null?(f.next=f,yp(l)):(f.next=S.next,S.next=f),l.interleaved=f,Ii(i,v)}function Ii(i,l){i.lanes|=l;var f=i.alternate;for(f!==null&&(f.lanes|=l),f=i,i=i.return;i!==null;)i.childLanes|=l,f=i.alternate,f!==null&&(f.childLanes|=l),f=i,i=i.return;return f.tag===3?f.stateNode:null}var bs=!1;function _p(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function r_(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Oi(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function Ss(i,l,f){var v=i.updateQueue;if(v===null)return null;if(v=v.shared,(rt&2)!==0){var S=v.pending;return S===null?l.next=l:(l.next=S.next,S.next=l),v.pending=l,Ii(i,f)}return S=v.interleaved,S===null?(l.next=l,yp(v)):(l.next=S.next,S.next=l),v.interleaved=l,Ii(i,f)}function Td(i,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var v=l.lanes;v&=i.pendingLanes,f|=v,l.lanes=f,br(i,f)}}function i_(i,l){var f=i.updateQueue,v=i.alternate;if(v!==null&&(v=v.updateQueue,f===v)){var S=null,P=null;if(f=f.firstBaseUpdate,f!==null){do{var j={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};P===null?S=P=j:P=P.next=j,f=f.next}while(f!==null);P===null?S=P=l:P=P.next=l}else S=P=l;f={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:P,shared:v.shared,effects:v.effects},i.updateQueue=f;return}i=f.lastBaseUpdate,i===null?f.firstBaseUpdate=l:i.next=l,f.lastBaseUpdate=l}function Rd(i,l,f,v){var S=i.updateQueue;bs=!1;var P=S.firstBaseUpdate,j=S.lastBaseUpdate,z=S.shared.pending;if(z!==null){S.shared.pending=null;var W=z,ne=W.next;W.next=null,j===null?P=ne:j.next=ne,j=W;var pe=i.alternate;pe!==null&&(pe=pe.updateQueue,z=pe.lastBaseUpdate,z!==j&&(z===null?pe.firstBaseUpdate=ne:z.next=ne,pe.lastBaseUpdate=W))}if(P!==null){var ve=S.baseState;j=0,pe=ne=W=null,z=P;do{var fe=z.lane,Ce=z.eventTime;if((v&fe)===fe){pe!==null&&(pe=pe.next={eventTime:Ce,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Te=i,Ne=z;switch(fe=l,Ce=f,Ne.tag){case 1:if(Te=Ne.payload,typeof Te=="function"){ve=Te.call(Ce,ve,fe);break e}ve=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Ne.payload,fe=typeof Te=="function"?Te.call(Ce,ve,fe):Te,fe==null)break e;ve=re({},ve,fe);break e;case 2:bs=!0}}z.callback!==null&&z.lane!==0&&(i.flags|=64,fe=S.effects,fe===null?S.effects=[z]:fe.push(z))}else Ce={eventTime:Ce,lane:fe,tag:z.tag,payload:z.payload,callback:z.callback,next:null},pe===null?(ne=pe=Ce,W=ve):pe=pe.next=Ce,j|=fe;if(z=z.next,z===null){if(z=S.shared.pending,z===null)break;fe=z,z=fe.next,fe.next=null,S.lastBaseUpdate=fe,S.shared.pending=null}}while(!0);if(pe===null&&(W=ve),S.baseState=W,S.firstBaseUpdate=ne,S.lastBaseUpdate=pe,l=S.shared.interleaved,l!==null){S=l;do j|=S.lane,S=S.next;while(S!==l)}else P===null&&(S.shared.lanes=0);ko|=j,i.lanes=j,i.memoizedState=ve}}function s_(i,l,f){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var v=i[l],S=v.callback;if(S!==null){if(v.callback=null,v=f,typeof S!="function")throw Error(n(191,S));S.call(v)}}}var yu={},ei=_s(yu),_u=_s(yu),xu=_s(yu);function So(i){if(i===yu)throw Error(n(174));return i}function xp(i,l){switch(ft(xu,l),ft(_u,i),ft(ei,yu),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:ea(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=ea(l,i)}vt(ei),ft(ei,l)}function za(){vt(ei),vt(_u),vt(xu)}function o_(i){So(xu.current);var l=So(ei.current),f=ea(l,i.type);l!==f&&(ft(_u,i),ft(ei,f))}function wp(i){_u.current===i&&(vt(ei),vt(_u))}var bt=_s(0);function Ld(i){for(var l=i;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var bp=[];function Sp(){for(var i=0;i<bp.length;i++)bp[i]._workInProgressVersionPrimary=null;bp.length=0}var Nd=D.ReactCurrentDispatcher,Cp=D.ReactCurrentBatchConfig,Co=0,St=null,$t=null,Zt=null,Ad=!1,wu=!1,bu=0,TE=0;function un(){throw Error(n(321))}function kp(i,l){if(l===null)return!1;for(var f=0;f<l.length&&f<i.length;f++)if(!$n(i[f],l[f]))return!1;return!0}function Pp(i,l,f,v,S,P){if(Co=P,St=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Nd.current=i===null||i.memoizedState===null?AE:jE,i=f(v,S),wu){P=0;do{if(wu=!1,bu=0,25<=P)throw Error(n(301));P+=1,Zt=$t=null,l.updateQueue=null,Nd.current=IE,i=f(v,S)}while(wu)}if(Nd.current=Od,l=$t!==null&&$t.next!==null,Co=0,Zt=$t=St=null,Ad=!1,l)throw Error(n(300));return i}function Ep(){var i=bu!==0;return bu=0,i}function ti(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?St.memoizedState=Zt=i:Zt=Zt.next=i,Zt}function hr(){if($t===null){var i=St.alternate;i=i!==null?i.memoizedState:null}else i=$t.next;var l=Zt===null?St.memoizedState:Zt.next;if(l!==null)Zt=l,$t=i;else{if(i===null)throw Error(n(310));$t=i,i={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Zt===null?St.memoizedState=Zt=i:Zt=Zt.next=i}return Zt}function Su(i,l){return typeof l=="function"?l(i):l}function Tp(i){var l=hr(),f=l.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=i;var v=$t,S=v.baseQueue,P=f.pending;if(P!==null){if(S!==null){var j=S.next;S.next=P.next,P.next=j}v.baseQueue=S=P,f.pending=null}if(S!==null){P=S.next,v=v.baseState;var z=j=null,W=null,ne=P;do{var pe=ne.lane;if((Co&pe)===pe)W!==null&&(W=W.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),v=ne.hasEagerState?ne.eagerState:i(v,ne.action);else{var ve={lane:pe,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};W===null?(z=W=ve,j=v):W=W.next=ve,St.lanes|=pe,ko|=pe}ne=ne.next}while(ne!==null&&ne!==P);W===null?j=v:W.next=z,$n(v,l.memoizedState)||(Ln=!0),l.memoizedState=v,l.baseState=j,l.baseQueue=W,f.lastRenderedState=v}if(i=f.interleaved,i!==null){S=i;do P=S.lane,St.lanes|=P,ko|=P,S=S.next;while(S!==i)}else S===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function Rp(i){var l=hr(),f=l.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=i;var v=f.dispatch,S=f.pending,P=l.memoizedState;if(S!==null){f.pending=null;var j=S=S.next;do P=i(P,j.action),j=j.next;while(j!==S);$n(P,l.memoizedState)||(Ln=!0),l.memoizedState=P,l.baseQueue===null&&(l.baseState=P),f.lastRenderedState=P}return[P,v]}function a_(){}function l_(i,l){var f=St,v=hr(),S=l(),P=!$n(v.memoizedState,S);if(P&&(v.memoizedState=S,Ln=!0),v=v.queue,Lp(d_.bind(null,f,v,i),[i]),v.getSnapshot!==l||P||Zt!==null&&Zt.memoizedState.tag&1){if(f.flags|=2048,Cu(9,c_.bind(null,f,v,S,l),void 0,null),qt===null)throw Error(n(349));(Co&30)!==0||u_(f,l,S)}return S}function u_(i,l,f){i.flags|=16384,i={getSnapshot:l,value:f},l=St.updateQueue,l===null?(l={lastEffect:null,stores:null},St.updateQueue=l,l.stores=[i]):(f=l.stores,f===null?l.stores=[i]:f.push(i))}function c_(i,l,f,v){l.value=f,l.getSnapshot=v,h_(l)&&f_(i)}function d_(i,l,f){return f(function(){h_(l)&&f_(i)})}function h_(i){var l=i.getSnapshot;i=i.value;try{var f=l();return!$n(i,f)}catch{return!0}}function f_(i){var l=Ii(i,1);l!==null&&Nr(l,i,1,-1)}function p_(i){var l=ti();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Su,lastRenderedState:i},l.queue=i,i=i.dispatch=NE.bind(null,St,i),[l.memoizedState,i]}function Cu(i,l,f,v){return i={tag:i,create:l,destroy:f,deps:v,next:null},l=St.updateQueue,l===null?(l={lastEffect:null,stores:null},St.updateQueue=l,l.lastEffect=i.next=i):(f=l.lastEffect,f===null?l.lastEffect=i.next=i:(v=f.next,f.next=i,i.next=v,l.lastEffect=i)),i}function m_(){return hr().memoizedState}function jd(i,l,f,v){var S=ti();St.flags|=i,S.memoizedState=Cu(1|l,f,void 0,v===void 0?null:v)}function Id(i,l,f,v){var S=hr();v=v===void 0?null:v;var P=void 0;if($t!==null){var j=$t.memoizedState;if(P=j.destroy,v!==null&&kp(v,j.deps)){S.memoizedState=Cu(l,f,P,v);return}}St.flags|=i,S.memoizedState=Cu(1|l,f,P,v)}function g_(i,l){return jd(8390656,8,i,l)}function Lp(i,l){return Id(2048,8,i,l)}function v_(i,l){return Id(4,2,i,l)}function y_(i,l){return Id(4,4,i,l)}function __(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function x_(i,l,f){return f=f!=null?f.concat([i]):null,Id(4,4,__.bind(null,l,i),f)}function Np(){}function w_(i,l){var f=hr();l=l===void 0?null:l;var v=f.memoizedState;return v!==null&&l!==null&&kp(l,v[1])?v[0]:(f.memoizedState=[i,l],i)}function b_(i,l){var f=hr();l=l===void 0?null:l;var v=f.memoizedState;return v!==null&&l!==null&&kp(l,v[1])?v[0]:(i=i(),f.memoizedState=[i,l],i)}function S_(i,l,f){return(Co&21)===0?(i.baseState&&(i.baseState=!1,Ln=!0),i.memoizedState=f):($n(f,l)||(f=Yc(),St.lanes|=f,ko|=f,i.baseState=!0),l)}function RE(i,l){var f=nt;nt=f!==0&&4>f?f:4,i(!0);var v=Cp.transition;Cp.transition={};try{i(!1),l()}finally{nt=f,Cp.transition=v}}function C_(){return hr().memoizedState}function LE(i,l,f){var v=Es(i);if(f={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null},k_(i))P_(l,f);else if(f=n_(i,l,f,v),f!==null){var S=wn();Nr(f,i,v,S),E_(f,l,v)}}function NE(i,l,f){var v=Es(i),S={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null};if(k_(i))P_(l,S);else{var P=i.alternate;if(i.lanes===0&&(P===null||P.lanes===0)&&(P=l.lastRenderedReducer,P!==null))try{var j=l.lastRenderedState,z=P(j,f);if(S.hasEagerState=!0,S.eagerState=z,$n(z,j)){var W=l.interleaved;W===null?(S.next=S,yp(l)):(S.next=W.next,W.next=S),l.interleaved=S;return}}catch{}f=n_(i,l,S,v),f!==null&&(S=wn(),Nr(f,i,v,S),E_(f,l,v))}}function k_(i){var l=i.alternate;return i===St||l!==null&&l===St}function P_(i,l){wu=Ad=!0;var f=i.pending;f===null?l.next=l:(l.next=f.next,f.next=l),i.pending=l}function E_(i,l,f){if((f&4194240)!==0){var v=l.lanes;v&=i.pendingLanes,f|=v,l.lanes=f,br(i,f)}}var Od={readContext:dr,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useInsertionEffect:un,useLayoutEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useMutableSource:un,useSyncExternalStore:un,useId:un,unstable_isNewReconciler:!1},AE={readContext:dr,useCallback:function(i,l){return ti().memoizedState=[i,l===void 0?null:l],i},useContext:dr,useEffect:g_,useImperativeHandle:function(i,l,f){return f=f!=null?f.concat([i]):null,jd(4194308,4,__.bind(null,l,i),f)},useLayoutEffect:function(i,l){return jd(4194308,4,i,l)},useInsertionEffect:function(i,l){return jd(4,2,i,l)},useMemo:function(i,l){var f=ti();return l=l===void 0?null:l,i=i(),f.memoizedState=[i,l],i},useReducer:function(i,l,f){var v=ti();return l=f!==void 0?f(l):l,v.memoizedState=v.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},v.queue=i,i=i.dispatch=LE.bind(null,St,i),[v.memoizedState,i]},useRef:function(i){var l=ti();return i={current:i},l.memoizedState=i},useState:p_,useDebugValue:Np,useDeferredValue:function(i){return ti().memoizedState=i},useTransition:function(){var i=p_(!1),l=i[0];return i=RE.bind(null,i[1]),ti().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,f){var v=St,S=ti();if(_t){if(f===void 0)throw Error(n(407));f=f()}else{if(f=l(),qt===null)throw Error(n(349));(Co&30)!==0||u_(v,l,f)}S.memoizedState=f;var P={value:f,getSnapshot:l};return S.queue=P,g_(d_.bind(null,v,P,i),[i]),v.flags|=2048,Cu(9,c_.bind(null,v,P,f,l),void 0,null),f},useId:function(){var i=ti(),l=qt.identifierPrefix;if(_t){var f=ji,v=Ai;f=(v&~(1<<32-Ye(v)-1)).toString(32)+f,l=":"+l+"R"+f,f=bu++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=TE++,l=":"+l+"r"+f.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},jE={readContext:dr,useCallback:w_,useContext:dr,useEffect:Lp,useImperativeHandle:x_,useInsertionEffect:v_,useLayoutEffect:y_,useMemo:b_,useReducer:Tp,useRef:m_,useState:function(){return Tp(Su)},useDebugValue:Np,useDeferredValue:function(i){var l=hr();return S_(l,$t.memoizedState,i)},useTransition:function(){var i=Tp(Su)[0],l=hr().memoizedState;return[i,l]},useMutableSource:a_,useSyncExternalStore:l_,useId:C_,unstable_isNewReconciler:!1},IE={readContext:dr,useCallback:w_,useContext:dr,useEffect:Lp,useImperativeHandle:x_,useInsertionEffect:v_,useLayoutEffect:y_,useMemo:b_,useReducer:Rp,useRef:m_,useState:function(){return Rp(Su)},useDebugValue:Np,useDeferredValue:function(i){var l=hr();return $t===null?l.memoizedState=i:S_(l,$t.memoizedState,i)},useTransition:function(){var i=Rp(Su)[0],l=hr().memoizedState;return[i,l]},useMutableSource:a_,useSyncExternalStore:l_,useId:C_,unstable_isNewReconciler:!1};function Tr(i,l){if(i&&i.defaultProps){l=re({},l),i=i.defaultProps;for(var f in i)l[f]===void 0&&(l[f]=i[f]);return l}return l}function Ap(i,l,f,v){l=i.memoizedState,f=f(v,l),f=f==null?l:re({},l,f),i.memoizedState=f,i.lanes===0&&(i.updateQueue.baseState=f)}var Md={isMounted:function(i){return(i=i._reactInternals)?Wr(i)===i:!1},enqueueSetState:function(i,l,f){i=i._reactInternals;var v=wn(),S=Es(i),P=Oi(v,S);P.payload=l,f!=null&&(P.callback=f),l=Ss(i,P,S),l!==null&&(Nr(l,i,S,v),Td(l,i,S))},enqueueReplaceState:function(i,l,f){i=i._reactInternals;var v=wn(),S=Es(i),P=Oi(v,S);P.tag=1,P.payload=l,f!=null&&(P.callback=f),l=Ss(i,P,S),l!==null&&(Nr(l,i,S,v),Td(l,i,S))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var f=wn(),v=Es(i),S=Oi(f,v);S.tag=2,l!=null&&(S.callback=l),l=Ss(i,S,v),l!==null&&(Nr(l,i,v,f),Td(l,i,v))}};function T_(i,l,f,v,S,P,j){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(v,P,j):l.prototype&&l.prototype.isPureReactComponent?!Yr(f,v)||!Yr(S,P):!0}function R_(i,l,f){var v=!1,S=xs,P=l.contextType;return typeof P=="object"&&P!==null?P=dr(P):(S=Rn(l)?_o:ln.current,v=l.contextTypes,P=(v=v!=null)?Na(i,S):xs),l=new l(f,P),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Md,i.stateNode=l,l._reactInternals=i,v&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=S,i.__reactInternalMemoizedMaskedChildContext=P),l}function L_(i,l,f,v){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,v),l.state!==i&&Md.enqueueReplaceState(l,l.state,null)}function jp(i,l,f,v){var S=i.stateNode;S.props=f,S.state=i.memoizedState,S.refs={},_p(i);var P=l.contextType;typeof P=="object"&&P!==null?S.context=dr(P):(P=Rn(l)?_o:ln.current,S.context=Na(i,P)),S.state=i.memoizedState,P=l.getDerivedStateFromProps,typeof P=="function"&&(Ap(i,l,P,f),S.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(l=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),l!==S.state&&Md.enqueueReplaceState(S,S.state,null),Rd(i,f,S,v),S.state=i.memoizedState),typeof S.componentDidMount=="function"&&(i.flags|=4194308)}function Ba(i,l){try{var f="",v=l;do f+=ue(v),v=v.return;while(v);var S=f}catch(P){S=`
Error generating stack: `+P.message+`
`+P.stack}return{value:i,source:l,stack:S,digest:null}}function Ip(i,l,f){return{value:i,source:null,stack:f??null,digest:l??null}}function Op(i,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var OE=typeof WeakMap=="function"?WeakMap:Map;function N_(i,l,f){f=Oi(-1,f),f.tag=3,f.payload={element:null};var v=l.value;return f.callback=function(){Ud||(Ud=!0,Yp=v),Op(i,l)},f}function A_(i,l,f){f=Oi(-1,f),f.tag=3;var v=i.type.getDerivedStateFromError;if(typeof v=="function"){var S=l.value;f.payload=function(){return v(S)},f.callback=function(){Op(i,l)}}var P=i.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(f.callback=function(){Op(i,l),typeof v!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var j=l.stack;this.componentDidCatch(l.value,{componentStack:j!==null?j:""})}),f}function j_(i,l,f){var v=i.pingCache;if(v===null){v=i.pingCache=new OE;var S=new Set;v.set(l,S)}else S=v.get(l),S===void 0&&(S=new Set,v.set(l,S));S.has(f)||(S.add(f),i=KE.bind(null,i,l,f),l.then(i,i))}function I_(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function O_(i,l,f,v,S){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=Oi(-1,1),l.tag=2,Ss(f,l,1))),f.lanes|=1),i):(i.flags|=65536,i.lanes=S,i)}var ME=D.ReactCurrentOwner,Ln=!1;function xn(i,l,f,v){l.child=i===null?t_(l,null,f,v):Oa(l,i.child,f,v)}function M_(i,l,f,v,S){f=f.render;var P=l.ref;return Da(l,S),v=Pp(i,l,f,v,P,S),f=Ep(),i!==null&&!Ln?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~S,Mi(i,l,S)):(_t&&f&&up(l),l.flags|=1,xn(i,l,v,S),l.child)}function D_(i,l,f,v,S){if(i===null){var P=f.type;return typeof P=="function"&&!rm(P)&&P.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=P,z_(i,l,P,v,S)):(i=Kd(f.type,null,v,l,l.mode,S),i.ref=l.ref,i.return=l,l.child=i)}if(P=i.child,(i.lanes&S)===0){var j=P.memoizedProps;if(f=f.compare,f=f!==null?f:Yr,f(j,v)&&i.ref===l.ref)return Mi(i,l,S)}return l.flags|=1,i=Rs(P,v),i.ref=l.ref,i.return=l,l.child=i}function z_(i,l,f,v,S){if(i!==null){var P=i.memoizedProps;if(Yr(P,v)&&i.ref===l.ref)if(Ln=!1,l.pendingProps=v=P,(i.lanes&S)!==0)(i.flags&131072)!==0&&(Ln=!0);else return l.lanes=i.lanes,Mi(i,l,S)}return Mp(i,l,f,v,S)}function B_(i,l,f){var v=l.pendingProps,S=v.children,P=i!==null?i.memoizedState:null;if(v.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(Va,Gn),Gn|=f;else{if((f&1073741824)===0)return i=P!==null?P.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,ft(Va,Gn),Gn|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=P!==null?P.baseLanes:f,ft(Va,Gn),Gn|=v}else P!==null?(v=P.baseLanes|f,l.memoizedState=null):v=f,ft(Va,Gn),Gn|=v;return xn(i,l,S,f),l.child}function F_(i,l){var f=l.ref;(i===null&&f!==null||i!==null&&i.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function Mp(i,l,f,v,S){var P=Rn(f)?_o:ln.current;return P=Na(l,P),Da(l,S),f=Pp(i,l,f,v,P,S),v=Ep(),i!==null&&!Ln?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~S,Mi(i,l,S)):(_t&&v&&up(l),l.flags|=1,xn(i,l,f,S),l.child)}function V_(i,l,f,v,S){if(Rn(f)){var P=!0;xd(l)}else P=!1;if(Da(l,S),l.stateNode===null)zd(i,l),R_(l,f,v),jp(l,f,v,S),v=!0;else if(i===null){var j=l.stateNode,z=l.memoizedProps;j.props=z;var W=j.context,ne=f.contextType;typeof ne=="object"&&ne!==null?ne=dr(ne):(ne=Rn(f)?_o:ln.current,ne=Na(l,ne));var pe=f.getDerivedStateFromProps,ve=typeof pe=="function"||typeof j.getSnapshotBeforeUpdate=="function";ve||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(z!==v||W!==ne)&&L_(l,j,v,ne),bs=!1;var fe=l.memoizedState;j.state=fe,Rd(l,v,j,S),W=l.memoizedState,z!==v||fe!==W||Tn.current||bs?(typeof pe=="function"&&(Ap(l,f,pe,v),W=l.memoizedState),(z=bs||T_(l,f,z,v,fe,W,ne))?(ve||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(l.flags|=4194308)):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=W),j.props=v,j.state=W,j.context=ne,v=z):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{j=l.stateNode,r_(i,l),z=l.memoizedProps,ne=l.type===l.elementType?z:Tr(l.type,z),j.props=ne,ve=l.pendingProps,fe=j.context,W=f.contextType,typeof W=="object"&&W!==null?W=dr(W):(W=Rn(f)?_o:ln.current,W=Na(l,W));var Ce=f.getDerivedStateFromProps;(pe=typeof Ce=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(z!==ve||fe!==W)&&L_(l,j,v,W),bs=!1,fe=l.memoizedState,j.state=fe,Rd(l,v,j,S);var Te=l.memoizedState;z!==ve||fe!==Te||Tn.current||bs?(typeof Ce=="function"&&(Ap(l,f,Ce,v),Te=l.memoizedState),(ne=bs||T_(l,f,ne,v,fe,Te,W)||!1)?(pe||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(v,Te,W),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(v,Te,W)),typeof j.componentDidUpdate=="function"&&(l.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof j.componentDidUpdate!="function"||z===i.memoizedProps&&fe===i.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&fe===i.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=Te),j.props=v,j.state=Te,j.context=W,v=ne):(typeof j.componentDidUpdate!="function"||z===i.memoizedProps&&fe===i.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&fe===i.memoizedState||(l.flags|=1024),v=!1)}return Dp(i,l,f,v,P,S)}function Dp(i,l,f,v,S,P){F_(i,l);var j=(l.flags&128)!==0;if(!v&&!j)return S&&Gy(l,f,!1),Mi(i,l,P);v=l.stateNode,ME.current=l;var z=j&&typeof f.getDerivedStateFromError!="function"?null:v.render();return l.flags|=1,i!==null&&j?(l.child=Oa(l,i.child,null,P),l.child=Oa(l,null,z,P)):xn(i,l,z,P),l.memoizedState=v.state,S&&Gy(l,f,!0),l.child}function $_(i){var l=i.stateNode;l.pendingContext?Hy(i,l.pendingContext,l.pendingContext!==l.context):l.context&&Hy(i,l.context,!1),xp(i,l.containerInfo)}function U_(i,l,f,v,S){return Ia(),fp(S),l.flags|=256,xn(i,l,f,v),l.child}var zp={dehydrated:null,treeContext:null,retryLane:0};function Bp(i){return{baseLanes:i,cachePool:null,transitions:null}}function H_(i,l,f){var v=l.pendingProps,S=bt.current,P=!1,j=(l.flags&128)!==0,z;if((z=j)||(z=i!==null&&i.memoizedState===null?!1:(S&2)!==0),z?(P=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(S|=1),ft(bt,S&1),i===null)return hp(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(j=v.children,i=v.fallback,P?(v=l.mode,P=l.child,j={mode:"hidden",children:j},(v&1)===0&&P!==null?(P.childLanes=0,P.pendingProps=j):P=Yd(j,v,0,null),i=Ro(i,v,f,null),P.return=l,i.return=l,P.sibling=i,l.child=P,l.child.memoizedState=Bp(f),l.memoizedState=zp,i):Fp(l,j));if(S=i.memoizedState,S!==null&&(z=S.dehydrated,z!==null))return DE(i,l,j,v,z,S,f);if(P){P=v.fallback,j=l.mode,S=i.child,z=S.sibling;var W={mode:"hidden",children:v.children};return(j&1)===0&&l.child!==S?(v=l.child,v.childLanes=0,v.pendingProps=W,l.deletions=null):(v=Rs(S,W),v.subtreeFlags=S.subtreeFlags&14680064),z!==null?P=Rs(z,P):(P=Ro(P,j,f,null),P.flags|=2),P.return=l,v.return=l,v.sibling=P,l.child=v,v=P,P=l.child,j=i.child.memoizedState,j=j===null?Bp(f):{baseLanes:j.baseLanes|f,cachePool:null,transitions:j.transitions},P.memoizedState=j,P.childLanes=i.childLanes&~f,l.memoizedState=zp,v}return P=i.child,i=P.sibling,v=Rs(P,{mode:"visible",children:v.children}),(l.mode&1)===0&&(v.lanes=f),v.return=l,v.sibling=null,i!==null&&(f=l.deletions,f===null?(l.deletions=[i],l.flags|=16):f.push(i)),l.child=v,l.memoizedState=null,v}function Fp(i,l){return l=Yd({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function Dd(i,l,f,v){return v!==null&&fp(v),Oa(l,i.child,null,f),i=Fp(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function DE(i,l,f,v,S,P,j){if(f)return l.flags&256?(l.flags&=-257,v=Ip(Error(n(422))),Dd(i,l,j,v)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(P=v.fallback,S=l.mode,v=Yd({mode:"visible",children:v.children},S,0,null),P=Ro(P,S,j,null),P.flags|=2,v.return=l,P.return=l,v.sibling=P,l.child=v,(l.mode&1)!==0&&Oa(l,i.child,null,j),l.child.memoizedState=Bp(j),l.memoizedState=zp,P);if((l.mode&1)===0)return Dd(i,l,j,null);if(S.data==="$!"){if(v=S.nextSibling&&S.nextSibling.dataset,v)var z=v.dgst;return v=z,P=Error(n(419)),v=Ip(P,v,void 0),Dd(i,l,j,v)}if(z=(j&i.childLanes)!==0,Ln||z){if(v=qt,v!==null){switch(j&-j){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(v.suspendedLanes|j))!==0?0:S,S!==0&&S!==P.retryLane&&(P.retryLane=S,Ii(i,S),Nr(v,i,S,-1))}return nm(),v=Ip(Error(n(421))),Dd(i,l,j,v)}return S.data==="$?"?(l.flags|=128,l.child=i.child,l=YE.bind(null,i),S._reactRetry=l,null):(i=P.treeContext,Wn=Qr(S.nextSibling),Hn=l,_t=!0,Er=null,i!==null&&(ur[cr++]=Ai,ur[cr++]=ji,ur[cr++]=xo,Ai=i.id,ji=i.overflow,xo=l),l=Fp(l,v.children),l.flags|=4096,l)}function W_(i,l,f){i.lanes|=l;var v=i.alternate;v!==null&&(v.lanes|=l),vp(i.return,l,f)}function Vp(i,l,f,v,S){var P=i.memoizedState;P===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:f,tailMode:S}:(P.isBackwards=l,P.rendering=null,P.renderingStartTime=0,P.last=v,P.tail=f,P.tailMode=S)}function G_(i,l,f){var v=l.pendingProps,S=v.revealOrder,P=v.tail;if(xn(i,l,v.children,f),v=bt.current,(v&2)!==0)v=v&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&W_(i,f,l);else if(i.tag===19)W_(i,f,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}v&=1}if(ft(bt,v),(l.mode&1)===0)l.memoizedState=null;else switch(S){case"forwards":for(f=l.child,S=null;f!==null;)i=f.alternate,i!==null&&Ld(i)===null&&(S=f),f=f.sibling;f=S,f===null?(S=l.child,l.child=null):(S=f.sibling,f.sibling=null),Vp(l,!1,S,f,P);break;case"backwards":for(f=null,S=l.child,l.child=null;S!==null;){if(i=S.alternate,i!==null&&Ld(i)===null){l.child=S;break}i=S.sibling,S.sibling=f,f=S,S=i}Vp(l,!0,f,null,P);break;case"together":Vp(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function zd(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function Mi(i,l,f){if(i!==null&&(l.dependencies=i.dependencies),ko|=l.lanes,(f&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(n(153));if(l.child!==null){for(i=l.child,f=Rs(i,i.pendingProps),l.child=f,f.return=l;i.sibling!==null;)i=i.sibling,f=f.sibling=Rs(i,i.pendingProps),f.return=l;f.sibling=null}return l.child}function zE(i,l,f){switch(l.tag){case 3:$_(l),Ia();break;case 5:o_(l);break;case 1:Rn(l.type)&&xd(l);break;case 4:xp(l,l.stateNode.containerInfo);break;case 10:var v=l.type._context,S=l.memoizedProps.value;ft(Pd,v._currentValue),v._currentValue=S;break;case 13:if(v=l.memoizedState,v!==null)return v.dehydrated!==null?(ft(bt,bt.current&1),l.flags|=128,null):(f&l.child.childLanes)!==0?H_(i,l,f):(ft(bt,bt.current&1),i=Mi(i,l,f),i!==null?i.sibling:null);ft(bt,bt.current&1);break;case 19:if(v=(f&l.childLanes)!==0,(i.flags&128)!==0){if(v)return G_(i,l,f);l.flags|=128}if(S=l.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),ft(bt,bt.current),v)break;return null;case 22:case 23:return l.lanes=0,B_(i,l,f)}return Mi(i,l,f)}var Z_,$p,q_,K_;Z_=function(i,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},$p=function(){},q_=function(i,l,f,v){var S=i.memoizedProps;if(S!==v){i=l.stateNode,So(ei.current);var P=null;switch(f){case"input":S=lt(i,S),v=lt(i,v),P=[];break;case"select":S=re({},S,{value:void 0}),v=re({},v,{value:void 0}),P=[];break;case"textarea":S=pi(i,S),v=pi(i,v),P=[];break;default:typeof S.onClick!="function"&&typeof v.onClick=="function"&&(i.onclick=he)}Dl(f,v);var j;f=null;for(ne in S)if(!v.hasOwnProperty(ne)&&S.hasOwnProperty(ne)&&S[ne]!=null)if(ne==="style"){var z=S[ne];for(j in z)z.hasOwnProperty(j)&&(f||(f={}),f[j]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(s.hasOwnProperty(ne)?P||(P=[]):(P=P||[]).push(ne,null));for(ne in v){var W=v[ne];if(z=S?.[ne],v.hasOwnProperty(ne)&&W!==z&&(W!=null||z!=null))if(ne==="style")if(z){for(j in z)!z.hasOwnProperty(j)||W&&W.hasOwnProperty(j)||(f||(f={}),f[j]="");for(j in W)W.hasOwnProperty(j)&&z[j]!==W[j]&&(f||(f={}),f[j]=W[j])}else f||(P||(P=[]),P.push(ne,f)),f=W;else ne==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,z=z?z.__html:void 0,W!=null&&z!==W&&(P=P||[]).push(ne,W)):ne==="children"?typeof W!="string"&&typeof W!="number"||(P=P||[]).push(ne,""+W):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(s.hasOwnProperty(ne)?(W!=null&&ne==="onScroll"&&ct("scroll",i),P||z===W||(P=[])):(P=P||[]).push(ne,W))}f&&(P=P||[]).push("style",f);var ne=P;(l.updateQueue=ne)&&(l.flags|=4)}},K_=function(i,l,f,v){f!==v&&(l.flags|=4)};function ku(i,l){if(!_t)switch(i.tailMode){case"hidden":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?i.tail=null:f.sibling=null;break;case"collapsed":f=i.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:v.sibling=null}}function cn(i){var l=i.alternate!==null&&i.alternate.child===i.child,f=0,v=0;if(l)for(var S=i.child;S!==null;)f|=S.lanes|S.childLanes,v|=S.subtreeFlags&14680064,v|=S.flags&14680064,S.return=i,S=S.sibling;else for(S=i.child;S!==null;)f|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=i,S=S.sibling;return i.subtreeFlags|=v,i.childLanes=f,l}function BE(i,l,f){var v=l.pendingProps;switch(cp(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(l),null;case 1:return Rn(l.type)&&_d(),cn(l),null;case 3:return v=l.stateNode,za(),vt(Tn),vt(ln),Sp(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(i===null||i.child===null)&&(Cd(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Er!==null&&(Qp(Er),Er=null))),$p(i,l),cn(l),null;case 5:wp(l);var S=So(xu.current);if(f=l.type,i!==null&&l.stateNode!=null)q_(i,l,f,v,S),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!v){if(l.stateNode===null)throw Error(n(166));return cn(l),null}if(i=So(ei.current),Cd(l)){v=l.stateNode,f=l.type;var P=l.memoizedProps;switch(v[lr]=l,v[vs]=P,i=(l.mode&1)!==0,f){case"dialog":ct("cancel",v),ct("close",v);break;case"iframe":case"object":case"embed":ct("load",v);break;case"video":case"audio":for(S=0;S<ps.length;S++)ct(ps[S],v);break;case"source":ct("error",v);break;case"img":case"image":case"link":ct("error",v),ct("load",v);break;case"details":ct("toggle",v);break;case"input":mn(v,P),ct("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!P.multiple},ct("invalid",v);break;case"textarea":Qs(v,P),ct("invalid",v)}Dl(f,P),S=null;for(var j in P)if(P.hasOwnProperty(j)){var z=P[j];j==="children"?typeof z=="string"?v.textContent!==z&&(P.suppressHydrationWarning!==!0&&te(v.textContent,z,i),S=["children",z]):typeof z=="number"&&v.textContent!==""+z&&(P.suppressHydrationWarning!==!0&&te(v.textContent,z,i),S=["children",""+z]):s.hasOwnProperty(j)&&z!=null&&j==="onScroll"&&ct("scroll",v)}switch(f){case"input":Oe(v),Pt(v,P,!0);break;case"textarea":Oe(v),Mc(v);break;case"select":case"option":break;default:typeof P.onClick=="function"&&(v.onclick=he)}v=S,l.updateQueue=v,v!==null&&(l.flags|=4)}else{j=S.nodeType===9?S:S.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Qo(f)),i==="http://www.w3.org/1999/xhtml"?f==="script"?(i=j.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof v.is=="string"?i=j.createElement(f,{is:v.is}):(i=j.createElement(f),f==="select"&&(j=i,v.multiple?j.multiple=!0:v.size&&(j.size=v.size))):i=j.createElementNS(i,f),i[lr]=l,i[vs]=v,Z_(i,l,!1,!1),l.stateNode=i;e:{switch(j=mi(f,v),f){case"dialog":ct("cancel",i),ct("close",i),S=v;break;case"iframe":case"object":case"embed":ct("load",i),S=v;break;case"video":case"audio":for(S=0;S<ps.length;S++)ct(ps[S],i);S=v;break;case"source":ct("error",i),S=v;break;case"img":case"image":case"link":ct("error",i),ct("load",i),S=v;break;case"details":ct("toggle",i),S=v;break;case"input":mn(i,v),S=lt(i,v),ct("invalid",i);break;case"option":S=v;break;case"select":i._wrapperState={wasMultiple:!!v.multiple},S=re({},v,{value:void 0}),ct("invalid",i);break;case"textarea":Qs(i,v),S=pi(i,v),ct("invalid",i);break;default:S=v}Dl(f,S),z=S;for(P in z)if(z.hasOwnProperty(P)){var W=z[P];P==="style"?ta(i,W):P==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&Dc(i,W)):P==="children"?typeof W=="string"?(f!=="textarea"||W!=="")&&Yi(i,W):typeof W=="number"&&Yi(i,""+W):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(s.hasOwnProperty(P)?W!=null&&P==="onScroll"&&ct("scroll",i):W!=null&&I(i,P,W,j))}switch(f){case"input":Oe(i),Pt(i,v,!1);break;case"textarea":Oe(i),Mc(i);break;case"option":v.value!=null&&i.setAttribute("value",""+K(v.value));break;case"select":i.multiple=!!v.multiple,P=v.value,P!=null?nn(i,!!v.multiple,P,!1):v.defaultValue!=null&&nn(i,!!v.multiple,v.defaultValue,!0);break;default:typeof S.onClick=="function"&&(i.onclick=he)}switch(f){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return cn(l),null;case 6:if(i&&l.stateNode!=null)K_(i,l,i.memoizedProps,v);else{if(typeof v!="string"&&l.stateNode===null)throw Error(n(166));if(f=So(xu.current),So(ei.current),Cd(l)){if(v=l.stateNode,f=l.memoizedProps,v[lr]=l,(P=v.nodeValue!==f)&&(i=Hn,i!==null))switch(i.tag){case 3:te(v.nodeValue,f,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&te(v.nodeValue,f,(i.mode&1)!==0)}P&&(l.flags|=4)}else v=(f.nodeType===9?f:f.ownerDocument).createTextNode(v),v[lr]=l,l.stateNode=v}return cn(l),null;case 13:if(vt(bt),v=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(_t&&Wn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Jy(),Ia(),l.flags|=98560,P=!1;else if(P=Cd(l),v!==null&&v.dehydrated!==null){if(i===null){if(!P)throw Error(n(318));if(P=l.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(n(317));P[lr]=l}else Ia(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;cn(l),P=!1}else Er!==null&&(Qp(Er),Er=null),P=!0;if(!P)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=f,l):(v=v!==null,v!==(i!==null&&i.memoizedState!==null)&&v&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(bt.current&1)!==0?Ut===0&&(Ut=3):nm())),l.updateQueue!==null&&(l.flags|=4),cn(l),null);case 4:return za(),$p(i,l),i===null&&ms(l.stateNode.containerInfo),cn(l),null;case 10:return gp(l.type._context),cn(l),null;case 17:return Rn(l.type)&&_d(),cn(l),null;case 19:if(vt(bt),P=l.memoizedState,P===null)return cn(l),null;if(v=(l.flags&128)!==0,j=P.rendering,j===null)if(v)ku(P,!1);else{if(Ut!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(j=Ld(i),j!==null){for(l.flags|=128,ku(P,!1),v=j.updateQueue,v!==null&&(l.updateQueue=v,l.flags|=4),l.subtreeFlags=0,v=f,f=l.child;f!==null;)P=f,i=v,P.flags&=14680066,j=P.alternate,j===null?(P.childLanes=0,P.lanes=i,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=j.childLanes,P.lanes=j.lanes,P.child=j.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=j.memoizedProps,P.memoizedState=j.memoizedState,P.updateQueue=j.updateQueue,P.type=j.type,i=j.dependencies,P.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),f=f.sibling;return ft(bt,bt.current&1|2),l.child}i=i.sibling}P.tail!==null&&xt()>$a&&(l.flags|=128,v=!0,ku(P,!1),l.lanes=4194304)}else{if(!v)if(i=Ld(j),i!==null){if(l.flags|=128,v=!0,f=i.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),ku(P,!0),P.tail===null&&P.tailMode==="hidden"&&!j.alternate&&!_t)return cn(l),null}else 2*xt()-P.renderingStartTime>$a&&f!==1073741824&&(l.flags|=128,v=!0,ku(P,!1),l.lanes=4194304);P.isBackwards?(j.sibling=l.child,l.child=j):(f=P.last,f!==null?f.sibling=j:l.child=j,P.last=j)}return P.tail!==null?(l=P.tail,P.rendering=l,P.tail=l.sibling,P.renderingStartTime=xt(),l.sibling=null,f=bt.current,ft(bt,v?f&1|2:f&1),l):(cn(l),null);case 22:case 23:return tm(),v=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==v&&(l.flags|=8192),v&&(l.mode&1)!==0?(Gn&1073741824)!==0&&(cn(l),l.subtreeFlags&6&&(l.flags|=8192)):cn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function FE(i,l){switch(cp(l),l.tag){case 1:return Rn(l.type)&&_d(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return za(),vt(Tn),vt(ln),Sp(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return wp(l),null;case 13:if(vt(bt),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Ia()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return vt(bt),null;case 4:return za(),null;case 10:return gp(l.type._context),null;case 22:case 23:return tm(),null;case 24:return null;default:return null}}var Bd=!1,dn=!1,VE=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Fa(i,l){var f=i.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(v){Tt(i,l,v)}else f.current=null}function Up(i,l,f){try{f()}catch(v){Tt(i,l,v)}}var Y_=!1;function $E(i,l){if(Se=co,i=lu(),uu(i)){if("selectionStart"in i)var f={start:i.selectionStart,end:i.selectionEnd};else e:{f=(f=i.ownerDocument)&&f.defaultView||window;var v=f.getSelection&&f.getSelection();if(v&&v.rangeCount!==0){f=v.anchorNode;var S=v.anchorOffset,P=v.focusNode;v=v.focusOffset;try{f.nodeType,P.nodeType}catch{f=null;break e}var j=0,z=-1,W=-1,ne=0,pe=0,ve=i,fe=null;t:for(;;){for(var Ce;ve!==f||S!==0&&ve.nodeType!==3||(z=j+S),ve!==P||v!==0&&ve.nodeType!==3||(W=j+v),ve.nodeType===3&&(j+=ve.nodeValue.length),(Ce=ve.firstChild)!==null;)fe=ve,ve=Ce;for(;;){if(ve===i)break t;if(fe===f&&++ne===S&&(z=j),fe===P&&++pe===v&&(W=j),(Ce=ve.nextSibling)!==null)break;ve=fe,fe=ve.parentNode}ve=Ce}f=z===-1||W===-1?null:{start:z,end:W}}else f=null}f=f||{start:0,end:0}}else f=null;for(ze={focusedElem:i,selectionRange:f},co=!1,Pe=l;Pe!==null;)if(l=Pe,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,Pe=i;else for(;Pe!==null;){l=Pe;try{var Te=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var Ne=Te.memoizedProps,It=Te.memoizedState,X=l.stateNode,q=X.getSnapshotBeforeUpdate(l.elementType===l.type?Ne:Tr(l.type,Ne),It);X.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var Q=l.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(xe){Tt(l,l.return,xe)}if(i=l.sibling,i!==null){i.return=l.return,Pe=i;break}Pe=l.return}return Te=Y_,Y_=!1,Te}function Pu(i,l,f){var v=l.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var S=v=v.next;do{if((S.tag&i)===i){var P=S.destroy;S.destroy=void 0,P!==void 0&&Up(l,f,P)}S=S.next}while(S!==v)}}function Fd(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&i)===i){var v=f.create;f.destroy=v()}f=f.next}while(f!==l)}}function Hp(i){var l=i.ref;if(l!==null){var f=i.stateNode;i.tag,i=f,typeof l=="function"?l(i):l.current=i}}function X_(i){var l=i.alternate;l!==null&&(i.alternate=null,X_(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[lr],delete l[vs],delete l[ys],delete l[sp],delete l[op])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function J_(i){return i.tag===5||i.tag===3||i.tag===4}function Q_(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||J_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wp(i,l,f){var v=i.tag;if(v===5||v===6)i=i.stateNode,l?f.nodeType===8?f.parentNode.insertBefore(i,l):f.insertBefore(i,l):(f.nodeType===8?(l=f.parentNode,l.insertBefore(i,f)):(l=f,l.appendChild(i)),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=he));else if(v!==4&&(i=i.child,i!==null))for(Wp(i,l,f),i=i.sibling;i!==null;)Wp(i,l,f),i=i.sibling}function Gp(i,l,f){var v=i.tag;if(v===5||v===6)i=i.stateNode,l?f.insertBefore(i,l):f.appendChild(i);else if(v!==4&&(i=i.child,i!==null))for(Gp(i,l,f),i=i.sibling;i!==null;)Gp(i,l,f),i=i.sibling}var Yt=null,Rr=!1;function Cs(i,l,f){for(f=f.child;f!==null;)e0(i,l,f),f=f.sibling}function e0(i,l,f){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(io,f)}catch{}switch(f.tag){case 5:dn||Fa(f,l);case 6:var v=Yt,S=Rr;Yt=null,Cs(i,l,f),Yt=v,Rr=S,Yt!==null&&(Rr?(i=Yt,f=f.stateNode,i.nodeType===8?i.parentNode.removeChild(f):i.removeChild(f)):Yt.removeChild(f.stateNode));break;case 18:Yt!==null&&(Rr?(i=Yt,f=f.stateNode,i.nodeType===8?gu(i.parentNode,f):i.nodeType===1&&gu(i,f),Bn(i)):gu(Yt,f.stateNode));break;case 4:v=Yt,S=Rr,Yt=f.stateNode.containerInfo,Rr=!0,Cs(i,l,f),Yt=v,Rr=S;break;case 0:case 11:case 14:case 15:if(!dn&&(v=f.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){S=v=v.next;do{var P=S,j=P.destroy;P=P.tag,j!==void 0&&((P&2)!==0||(P&4)!==0)&&Up(f,l,j),S=S.next}while(S!==v)}Cs(i,l,f);break;case 1:if(!dn&&(Fa(f,l),v=f.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=f.memoizedProps,v.state=f.memoizedState,v.componentWillUnmount()}catch(z){Tt(f,l,z)}Cs(i,l,f);break;case 21:Cs(i,l,f);break;case 22:f.mode&1?(dn=(v=dn)||f.memoizedState!==null,Cs(i,l,f),dn=v):Cs(i,l,f);break;default:Cs(i,l,f)}}function t0(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var f=i.stateNode;f===null&&(f=i.stateNode=new VE),l.forEach(function(v){var S=XE.bind(null,i,v);f.has(v)||(f.add(v),v.then(S,S))})}}function Lr(i,l){var f=l.deletions;if(f!==null)for(var v=0;v<f.length;v++){var S=f[v];try{var P=i,j=l,z=j;e:for(;z!==null;){switch(z.tag){case 5:Yt=z.stateNode,Rr=!1;break e;case 3:Yt=z.stateNode.containerInfo,Rr=!0;break e;case 4:Yt=z.stateNode.containerInfo,Rr=!0;break e}z=z.return}if(Yt===null)throw Error(n(160));e0(P,j,S),Yt=null,Rr=!1;var W=S.alternate;W!==null&&(W.return=null),S.return=null}catch(ne){Tt(S,l,ne)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)n0(l,i),l=l.sibling}function n0(i,l){var f=i.alternate,v=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Lr(l,i),ni(i),v&4){try{Pu(3,i,i.return),Fd(3,i)}catch(Ne){Tt(i,i.return,Ne)}try{Pu(5,i,i.return)}catch(Ne){Tt(i,i.return,Ne)}}break;case 1:Lr(l,i),ni(i),v&512&&f!==null&&Fa(f,f.return);break;case 5:if(Lr(l,i),ni(i),v&512&&f!==null&&Fa(f,f.return),i.flags&32){var S=i.stateNode;try{Yi(S,"")}catch(Ne){Tt(i,i.return,Ne)}}if(v&4&&(S=i.stateNode,S!=null)){var P=i.memoizedProps,j=f!==null?f.memoizedProps:P,z=i.type,W=i.updateQueue;if(i.updateQueue=null,W!==null)try{z==="input"&&P.type==="radio"&&P.name!=null&&kn(S,P),mi(z,j);var ne=mi(z,P);for(j=0;j<W.length;j+=2){var pe=W[j],ve=W[j+1];pe==="style"?ta(S,ve):pe==="dangerouslySetInnerHTML"?Dc(S,ve):pe==="children"?Yi(S,ve):I(S,pe,ve,ne)}switch(z){case"input":gn(S,P);break;case"textarea":Oc(S,P);break;case"select":var fe=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!P.multiple;var Ce=P.value;Ce!=null?nn(S,!!P.multiple,Ce,!1):fe!==!!P.multiple&&(P.defaultValue!=null?nn(S,!!P.multiple,P.defaultValue,!0):nn(S,!!P.multiple,P.multiple?[]:"",!1))}S[vs]=P}catch(Ne){Tt(i,i.return,Ne)}}break;case 6:if(Lr(l,i),ni(i),v&4){if(i.stateNode===null)throw Error(n(162));S=i.stateNode,P=i.memoizedProps;try{S.nodeValue=P}catch(Ne){Tt(i,i.return,Ne)}}break;case 3:if(Lr(l,i),ni(i),v&4&&f!==null&&f.memoizedState.isDehydrated)try{Bn(l.containerInfo)}catch(Ne){Tt(i,i.return,Ne)}break;case 4:Lr(l,i),ni(i);break;case 13:Lr(l,i),ni(i),S=i.child,S.flags&8192&&(P=S.memoizedState!==null,S.stateNode.isHidden=P,!P||S.alternate!==null&&S.alternate.memoizedState!==null||(Kp=xt())),v&4&&t0(i);break;case 22:if(pe=f!==null&&f.memoizedState!==null,i.mode&1?(dn=(ne=dn)||pe,Lr(l,i),dn=ne):Lr(l,i),ni(i),v&8192){if(ne=i.memoizedState!==null,(i.stateNode.isHidden=ne)&&!pe&&(i.mode&1)!==0)for(Pe=i,pe=i.child;pe!==null;){for(ve=Pe=pe;Pe!==null;){switch(fe=Pe,Ce=fe.child,fe.tag){case 0:case 11:case 14:case 15:Pu(4,fe,fe.return);break;case 1:Fa(fe,fe.return);var Te=fe.stateNode;if(typeof Te.componentWillUnmount=="function"){v=fe,f=fe.return;try{l=v,Te.props=l.memoizedProps,Te.state=l.memoizedState,Te.componentWillUnmount()}catch(Ne){Tt(v,f,Ne)}}break;case 5:Fa(fe,fe.return);break;case 22:if(fe.memoizedState!==null){s0(ve);continue}}Ce!==null?(Ce.return=fe,Pe=Ce):s0(ve)}pe=pe.sibling}e:for(pe=null,ve=i;;){if(ve.tag===5){if(pe===null){pe=ve;try{S=ve.stateNode,ne?(P=S.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"):(z=ve.stateNode,W=ve.memoizedProps.style,j=W!=null&&W.hasOwnProperty("display")?W.display:null,z.style.display=Ml("display",j))}catch(Ne){Tt(i,i.return,Ne)}}}else if(ve.tag===6){if(pe===null)try{ve.stateNode.nodeValue=ne?"":ve.memoizedProps}catch(Ne){Tt(i,i.return,Ne)}}else if((ve.tag!==22&&ve.tag!==23||ve.memoizedState===null||ve===i)&&ve.child!==null){ve.child.return=ve,ve=ve.child;continue}if(ve===i)break e;for(;ve.sibling===null;){if(ve.return===null||ve.return===i)break e;pe===ve&&(pe=null),ve=ve.return}pe===ve&&(pe=null),ve.sibling.return=ve.return,ve=ve.sibling}}break;case 19:Lr(l,i),ni(i),v&4&&t0(i);break;case 21:break;default:Lr(l,i),ni(i)}}function ni(i){var l=i.flags;if(l&2){try{e:{for(var f=i.return;f!==null;){if(J_(f)){var v=f;break e}f=f.return}throw Error(n(160))}switch(v.tag){case 5:var S=v.stateNode;v.flags&32&&(Yi(S,""),v.flags&=-33);var P=Q_(i);Gp(i,P,S);break;case 3:case 4:var j=v.stateNode.containerInfo,z=Q_(i);Wp(i,z,j);break;default:throw Error(n(161))}}catch(W){Tt(i,i.return,W)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function UE(i,l,f){Pe=i,r0(i)}function r0(i,l,f){for(var v=(i.mode&1)!==0;Pe!==null;){var S=Pe,P=S.child;if(S.tag===22&&v){var j=S.memoizedState!==null||Bd;if(!j){var z=S.alternate,W=z!==null&&z.memoizedState!==null||dn;z=Bd;var ne=dn;if(Bd=j,(dn=W)&&!ne)for(Pe=S;Pe!==null;)j=Pe,W=j.child,j.tag===22&&j.memoizedState!==null?o0(S):W!==null?(W.return=j,Pe=W):o0(S);for(;P!==null;)Pe=P,r0(P),P=P.sibling;Pe=S,Bd=z,dn=ne}i0(i)}else(S.subtreeFlags&8772)!==0&&P!==null?(P.return=S,Pe=P):i0(i)}}function i0(i){for(;Pe!==null;){var l=Pe;if((l.flags&8772)!==0){var f=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:dn||Fd(5,l);break;case 1:var v=l.stateNode;if(l.flags&4&&!dn)if(f===null)v.componentDidMount();else{var S=l.elementType===l.type?f.memoizedProps:Tr(l.type,f.memoizedProps);v.componentDidUpdate(S,f.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var P=l.updateQueue;P!==null&&s_(l,P,v);break;case 3:var j=l.updateQueue;if(j!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=l.child.stateNode;break;case 1:f=l.child.stateNode}s_(l,j,f)}break;case 5:var z=l.stateNode;if(f===null&&l.flags&4){f=z;var W=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&f.focus();break;case"img":W.src&&(f.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ne=l.alternate;if(ne!==null){var pe=ne.memoizedState;if(pe!==null){var ve=pe.dehydrated;ve!==null&&Bn(ve)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}dn||l.flags&512&&Hp(l)}catch(fe){Tt(l,l.return,fe)}}if(l===i){Pe=null;break}if(f=l.sibling,f!==null){f.return=l.return,Pe=f;break}Pe=l.return}}function s0(i){for(;Pe!==null;){var l=Pe;if(l===i){Pe=null;break}var f=l.sibling;if(f!==null){f.return=l.return,Pe=f;break}Pe=l.return}}function o0(i){for(;Pe!==null;){var l=Pe;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{Fd(4,l)}catch(W){Tt(l,f,W)}break;case 1:var v=l.stateNode;if(typeof v.componentDidMount=="function"){var S=l.return;try{v.componentDidMount()}catch(W){Tt(l,S,W)}}var P=l.return;try{Hp(l)}catch(W){Tt(l,P,W)}break;case 5:var j=l.return;try{Hp(l)}catch(W){Tt(l,j,W)}}}catch(W){Tt(l,l.return,W)}if(l===i){Pe=null;break}var z=l.sibling;if(z!==null){z.return=l.return,Pe=z;break}Pe=l.return}}var HE=Math.ceil,Vd=D.ReactCurrentDispatcher,Zp=D.ReactCurrentOwner,fr=D.ReactCurrentBatchConfig,rt=0,qt=null,Mt=null,Xt=0,Gn=0,Va=_s(0),Ut=0,Eu=null,ko=0,$d=0,qp=0,Tu=null,Nn=null,Kp=0,$a=1/0,Di=null,Ud=!1,Yp=null,ks=null,Hd=!1,Ps=null,Wd=0,Ru=0,Xp=null,Gd=-1,Zd=0;function wn(){return(rt&6)!==0?xt():Gd!==-1?Gd:Gd=xt()}function Es(i){return(i.mode&1)===0?1:(rt&2)!==0&&Xt!==0?Xt&-Xt:EE.transition!==null?(Zd===0&&(Zd=Yc()),Zd):(i=nt,i!==0||(i=window.event,i=i===void 0?16:tt(i.type)),i)}function Nr(i,l,f,v){if(50<Ru)throw Ru=0,Xp=null,Error(n(185));Dn(i,f,v),((rt&2)===0||i!==qt)&&(i===qt&&((rt&2)===0&&($d|=f),Ut===4&&Ts(i,Xt)),An(i,v),f===1&&rt===0&&(l.mode&1)===0&&($a=xt()+500,wd&&ws()))}function An(i,l){var f=i.callbackNode;la(i,l);var v=ht(i,i===qt?Xt:0);if(v===0)f!==null&&Hl(f),i.callbackNode=null,i.callbackPriority=0;else if(l=v&-v,i.callbackPriority!==l){if(f!=null&&Hl(f),l===1)i.tag===0?PE(l0.bind(null,i)):Zy(l0.bind(null,i)),an(function(){(rt&6)===0&&ws()}),f=null;else{switch(ns(v)){case 1:f=Wl;break;case 4:f=Kc;break;case 16:f=oa;break;case 536870912:f=Ji;break;default:f=oa}f=g0(f,a0.bind(null,i))}i.callbackPriority=l,i.callbackNode=f}}function a0(i,l){if(Gd=-1,Zd=0,(rt&6)!==0)throw Error(n(327));var f=i.callbackNode;if(Ua()&&i.callbackNode!==f)return null;var v=ht(i,i===qt?Xt:0);if(v===0)return null;if((v&30)!==0||(v&i.expiredLanes)!==0||l)l=qd(i,v);else{l=v;var S=rt;rt|=2;var P=c0();(qt!==i||Xt!==l)&&(Di=null,$a=xt()+500,Eo(i,l));do try{ZE();break}catch(z){u0(i,z)}while(!0);mp(),Vd.current=P,rt=S,Mt!==null?l=0:(qt=null,Xt=0,l=Ut)}if(l!==0){if(l===2&&(S=sn(i),S!==0&&(v=S,l=Jp(i,S))),l===1)throw f=Eu,Eo(i,0),Ts(i,v),An(i,xt()),f;if(l===6)Ts(i,v);else{if(S=i.current.alternate,(v&30)===0&&!WE(S)&&(l=qd(i,v),l===2&&(P=sn(i),P!==0&&(v=P,l=Jp(i,P))),l===1))throw f=Eu,Eo(i,0),Ts(i,v),An(i,xt()),f;switch(i.finishedWork=S,i.finishedLanes=v,l){case 0:case 1:throw Error(n(345));case 2:To(i,Nn,Di);break;case 3:if(Ts(i,v),(v&130023424)===v&&(l=Kp+500-xt(),10<l)){if(ht(i,0)!==0)break;if(S=i.suspendedLanes,(S&v)!==v){wn(),i.pingedLanes|=i.suspendedLanes&S;break}i.timeoutHandle=Vt(To.bind(null,i,Nn,Di),l);break}To(i,Nn,Di);break;case 4:if(Ts(i,v),(v&4194240)===v)break;for(l=i.eventTimes,S=-1;0<v;){var j=31-Ye(v);P=1<<j,j=l[j],j>S&&(S=j),v&=~P}if(v=S,v=xt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*HE(v/1960))-v,10<v){i.timeoutHandle=Vt(To.bind(null,i,Nn,Di),v);break}To(i,Nn,Di);break;case 5:To(i,Nn,Di);break;default:throw Error(n(329))}}}return An(i,xt()),i.callbackNode===f?a0.bind(null,i):null}function Jp(i,l){var f=Tu;return i.current.memoizedState.isDehydrated&&(Eo(i,l).flags|=256),i=qd(i,l),i!==2&&(l=Nn,Nn=f,l!==null&&Qp(l)),i}function Qp(i){Nn===null?Nn=i:Nn.push.apply(Nn,i)}function WE(i){for(var l=i;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var v=0;v<f.length;v++){var S=f[v],P=S.getSnapshot;S=S.value;try{if(!$n(P(),S))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ts(i,l){for(l&=~qp,l&=~$d,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var f=31-Ye(l),v=1<<f;i[f]=-1,l&=~v}}function l0(i){if((rt&6)!==0)throw Error(n(327));Ua();var l=ht(i,0);if((l&1)===0)return An(i,xt()),null;var f=qd(i,l);if(i.tag!==0&&f===2){var v=sn(i);v!==0&&(l=v,f=Jp(i,v))}if(f===1)throw f=Eu,Eo(i,0),Ts(i,l),An(i,xt()),f;if(f===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,To(i,Nn,Di),An(i,xt()),null}function em(i,l){var f=rt;rt|=1;try{return i(l)}finally{rt=f,rt===0&&($a=xt()+500,wd&&ws())}}function Po(i){Ps!==null&&Ps.tag===0&&(rt&6)===0&&Ua();var l=rt;rt|=1;var f=fr.transition,v=nt;try{if(fr.transition=null,nt=1,i)return i()}finally{nt=v,fr.transition=f,rt=l,(rt&6)===0&&ws()}}function tm(){Gn=Va.current,vt(Va)}function Eo(i,l){i.finishedWork=null,i.finishedLanes=0;var f=i.timeoutHandle;if(f!==-1&&(i.timeoutHandle=-1,Ot(f)),Mt!==null)for(f=Mt.return;f!==null;){var v=f;switch(cp(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&_d();break;case 3:za(),vt(Tn),vt(ln),Sp();break;case 5:wp(v);break;case 4:za();break;case 13:vt(bt);break;case 19:vt(bt);break;case 10:gp(v.type._context);break;case 22:case 23:tm()}f=f.return}if(qt=i,Mt=i=Rs(i.current,null),Xt=Gn=l,Ut=0,Eu=null,qp=$d=ko=0,Nn=Tu=null,bo!==null){for(l=0;l<bo.length;l++)if(f=bo[l],v=f.interleaved,v!==null){f.interleaved=null;var S=v.next,P=f.pending;if(P!==null){var j=P.next;P.next=S,v.next=j}f.pending=v}bo=null}return i}function u0(i,l){do{var f=Mt;try{if(mp(),Nd.current=Od,Ad){for(var v=St.memoizedState;v!==null;){var S=v.queue;S!==null&&(S.pending=null),v=v.next}Ad=!1}if(Co=0,Zt=$t=St=null,wu=!1,bu=0,Zp.current=null,f===null||f.return===null){Ut=1,Eu=l,Mt=null;break}e:{var P=i,j=f.return,z=f,W=l;if(l=Xt,z.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var ne=W,pe=z,ve=pe.tag;if((pe.mode&1)===0&&(ve===0||ve===11||ve===15)){var fe=pe.alternate;fe?(pe.updateQueue=fe.updateQueue,pe.memoizedState=fe.memoizedState,pe.lanes=fe.lanes):(pe.updateQueue=null,pe.memoizedState=null)}var Ce=I_(j);if(Ce!==null){Ce.flags&=-257,O_(Ce,j,z,P,l),Ce.mode&1&&j_(P,ne,l),l=Ce,W=ne;var Te=l.updateQueue;if(Te===null){var Ne=new Set;Ne.add(W),l.updateQueue=Ne}else Te.add(W);break e}else{if((l&1)===0){j_(P,ne,l),nm();break e}W=Error(n(426))}}else if(_t&&z.mode&1){var It=I_(j);if(It!==null){(It.flags&65536)===0&&(It.flags|=256),O_(It,j,z,P,l),fp(Ba(W,z));break e}}P=W=Ba(W,z),Ut!==4&&(Ut=2),Tu===null?Tu=[P]:Tu.push(P),P=j;do{switch(P.tag){case 3:P.flags|=65536,l&=-l,P.lanes|=l;var X=N_(P,W,l);i_(P,X);break e;case 1:z=W;var q=P.type,Q=P.stateNode;if((P.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(ks===null||!ks.has(Q)))){P.flags|=65536,l&=-l,P.lanes|=l;var xe=A_(P,z,l);i_(P,xe);break e}}P=P.return}while(P!==null)}h0(f)}catch(je){l=je,Mt===f&&f!==null&&(Mt=f=f.return);continue}break}while(!0)}function c0(){var i=Vd.current;return Vd.current=Od,i===null?Od:i}function nm(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),qt===null||(ko&268435455)===0&&($d&268435455)===0||Ts(qt,Xt)}function qd(i,l){var f=rt;rt|=2;var v=c0();(qt!==i||Xt!==l)&&(Di=null,Eo(i,l));do try{GE();break}catch(S){u0(i,S)}while(!0);if(mp(),rt=f,Vd.current=v,Mt!==null)throw Error(n(261));return qt=null,Xt=0,Ut}function GE(){for(;Mt!==null;)d0(Mt)}function ZE(){for(;Mt!==null&&!Uf();)d0(Mt)}function d0(i){var l=m0(i.alternate,i,Gn);i.memoizedProps=i.pendingProps,l===null?h0(i):Mt=l,Zp.current=null}function h0(i){var l=i;do{var f=l.alternate;if(i=l.return,(l.flags&32768)===0){if(f=BE(f,l,Gn),f!==null){Mt=f;return}}else{if(f=FE(f,l),f!==null){f.flags&=32767,Mt=f;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Ut=6,Mt=null;return}}if(l=l.sibling,l!==null){Mt=l;return}Mt=l=i}while(l!==null);Ut===0&&(Ut=5)}function To(i,l,f){var v=nt,S=fr.transition;try{fr.transition=null,nt=1,qE(i,l,f,v)}finally{fr.transition=S,nt=v}return null}function qE(i,l,f,v){do Ua();while(Ps!==null);if((rt&6)!==0)throw Error(n(327));f=i.finishedWork;var S=i.finishedLanes;if(f===null)return null;if(i.finishedWork=null,i.finishedLanes=0,f===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var P=f.lanes|f.childLanes;if(Et(i,P),i===qt&&(Mt=qt=null,Xt=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Hd||(Hd=!0,g0(oa,function(){return Ua(),null})),P=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||P){P=fr.transition,fr.transition=null;var j=nt;nt=1;var z=rt;rt|=4,Zp.current=null,$E(i,f),n0(f,i),or(ze),co=!!Se,ze=Se=null,i.current=f,UE(f),sa(),rt=z,nt=j,fr.transition=P}else i.current=f;if(Hd&&(Hd=!1,Ps=i,Wd=S),P=i.pendingLanes,P===0&&(ks=null),so(f.stateNode),An(i,xt()),l!==null)for(v=i.onRecoverableError,f=0;f<l.length;f++)S=l[f],v(S.value,{componentStack:S.stack,digest:S.digest});if(Ud)throw Ud=!1,i=Yp,Yp=null,i;return(Wd&1)!==0&&i.tag!==0&&Ua(),P=i.pendingLanes,(P&1)!==0?i===Xp?Ru++:(Ru=0,Xp=i):Ru=0,ws(),null}function Ua(){if(Ps!==null){var i=ns(Wd),l=fr.transition,f=nt;try{if(fr.transition=null,nt=16>i?16:i,Ps===null)var v=!1;else{if(i=Ps,Ps=null,Wd=0,(rt&6)!==0)throw Error(n(331));var S=rt;for(rt|=4,Pe=i.current;Pe!==null;){var P=Pe,j=P.child;if((Pe.flags&16)!==0){var z=P.deletions;if(z!==null){for(var W=0;W<z.length;W++){var ne=z[W];for(Pe=ne;Pe!==null;){var pe=Pe;switch(pe.tag){case 0:case 11:case 15:Pu(8,pe,P)}var ve=pe.child;if(ve!==null)ve.return=pe,Pe=ve;else for(;Pe!==null;){pe=Pe;var fe=pe.sibling,Ce=pe.return;if(X_(pe),pe===ne){Pe=null;break}if(fe!==null){fe.return=Ce,Pe=fe;break}Pe=Ce}}}var Te=P.alternate;if(Te!==null){var Ne=Te.child;if(Ne!==null){Te.child=null;do{var It=Ne.sibling;Ne.sibling=null,Ne=It}while(Ne!==null)}}Pe=P}}if((P.subtreeFlags&2064)!==0&&j!==null)j.return=P,Pe=j;else e:for(;Pe!==null;){if(P=Pe,(P.flags&2048)!==0)switch(P.tag){case 0:case 11:case 15:Pu(9,P,P.return)}var X=P.sibling;if(X!==null){X.return=P.return,Pe=X;break e}Pe=P.return}}var q=i.current;for(Pe=q;Pe!==null;){j=Pe;var Q=j.child;if((j.subtreeFlags&2064)!==0&&Q!==null)Q.return=j,Pe=Q;else e:for(j=q;Pe!==null;){if(z=Pe,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:Fd(9,z)}}catch(je){Tt(z,z.return,je)}if(z===j){Pe=null;break e}var xe=z.sibling;if(xe!==null){xe.return=z.return,Pe=xe;break e}Pe=z.return}}if(rt=S,ws(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(io,i)}catch{}v=!0}return v}finally{nt=f,fr.transition=l}}return!1}function f0(i,l,f){l=Ba(f,l),l=N_(i,l,1),i=Ss(i,l,1),l=wn(),i!==null&&(Dn(i,1,l),An(i,l))}function Tt(i,l,f){if(i.tag===3)f0(i,i,f);else for(;l!==null;){if(l.tag===3){f0(l,i,f);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(ks===null||!ks.has(v))){i=Ba(f,i),i=A_(l,i,1),l=Ss(l,i,1),i=wn(),l!==null&&(Dn(l,1,i),An(l,i));break}}l=l.return}}function KE(i,l,f){var v=i.pingCache;v!==null&&v.delete(l),l=wn(),i.pingedLanes|=i.suspendedLanes&f,qt===i&&(Xt&f)===f&&(Ut===4||Ut===3&&(Xt&130023424)===Xt&&500>xt()-Kp?Eo(i,0):qp|=f),An(i,l)}function p0(i,l){l===0&&((i.mode&1)===0?l=1:(l=es,es<<=1,(es&130023424)===0&&(es=4194304)));var f=wn();i=Ii(i,l),i!==null&&(Dn(i,l,f),An(i,f))}function YE(i){var l=i.memoizedState,f=0;l!==null&&(f=l.retryLane),p0(i,f)}function XE(i,l){var f=0;switch(i.tag){case 13:var v=i.stateNode,S=i.memoizedState;S!==null&&(f=S.retryLane);break;case 19:v=i.stateNode;break;default:throw Error(n(314))}v!==null&&v.delete(l),p0(i,f)}var m0;m0=function(i,l,f){if(i!==null)if(i.memoizedProps!==l.pendingProps||Tn.current)Ln=!0;else{if((i.lanes&f)===0&&(l.flags&128)===0)return Ln=!1,zE(i,l,f);Ln=(i.flags&131072)!==0}else Ln=!1,_t&&(l.flags&1048576)!==0&&qy(l,Sd,l.index);switch(l.lanes=0,l.tag){case 2:var v=l.type;zd(i,l),i=l.pendingProps;var S=Na(l,ln.current);Da(l,f),S=Pp(null,l,v,i,S,f);var P=Ep();return l.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Rn(v)?(P=!0,xd(l)):P=!1,l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,_p(l),S.updater=Md,l.stateNode=S,S._reactInternals=l,jp(l,v,i,f),l=Dp(null,l,v,!0,P,f)):(l.tag=0,_t&&P&&up(l),xn(null,l,S,f),l=l.child),l;case 16:v=l.elementType;e:{switch(zd(i,l),i=l.pendingProps,S=v._init,v=S(v._payload),l.type=v,S=l.tag=QE(v),i=Tr(v,i),S){case 0:l=Mp(null,l,v,i,f);break e;case 1:l=V_(null,l,v,i,f);break e;case 11:l=M_(null,l,v,i,f);break e;case 14:l=D_(null,l,v,Tr(v.type,i),f);break e}throw Error(n(306,v,""))}return l;case 0:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:Tr(v,S),Mp(i,l,v,S,f);case 1:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:Tr(v,S),V_(i,l,v,S,f);case 3:e:{if($_(l),i===null)throw Error(n(387));v=l.pendingProps,P=l.memoizedState,S=P.element,r_(i,l),Rd(l,v,null,f);var j=l.memoizedState;if(v=j.element,P.isDehydrated)if(P={element:v,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},l.updateQueue.baseState=P,l.memoizedState=P,l.flags&256){S=Ba(Error(n(423)),l),l=U_(i,l,v,f,S);break e}else if(v!==S){S=Ba(Error(n(424)),l),l=U_(i,l,v,f,S);break e}else for(Wn=Qr(l.stateNode.containerInfo.firstChild),Hn=l,_t=!0,Er=null,f=t_(l,null,v,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Ia(),v===S){l=Mi(i,l,f);break e}xn(i,l,v,f)}l=l.child}return l;case 5:return o_(l),i===null&&hp(l),v=l.type,S=l.pendingProps,P=i!==null?i.memoizedProps:null,j=S.children,Xe(v,S)?j=null:P!==null&&Xe(v,P)&&(l.flags|=32),F_(i,l),xn(i,l,j,f),l.child;case 6:return i===null&&hp(l),null;case 13:return H_(i,l,f);case 4:return xp(l,l.stateNode.containerInfo),v=l.pendingProps,i===null?l.child=Oa(l,null,v,f):xn(i,l,v,f),l.child;case 11:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:Tr(v,S),M_(i,l,v,S,f);case 7:return xn(i,l,l.pendingProps,f),l.child;case 8:return xn(i,l,l.pendingProps.children,f),l.child;case 12:return xn(i,l,l.pendingProps.children,f),l.child;case 10:e:{if(v=l.type._context,S=l.pendingProps,P=l.memoizedProps,j=S.value,ft(Pd,v._currentValue),v._currentValue=j,P!==null)if($n(P.value,j)){if(P.children===S.children&&!Tn.current){l=Mi(i,l,f);break e}}else for(P=l.child,P!==null&&(P.return=l);P!==null;){var z=P.dependencies;if(z!==null){j=P.child;for(var W=z.firstContext;W!==null;){if(W.context===v){if(P.tag===1){W=Oi(-1,f&-f),W.tag=2;var ne=P.updateQueue;if(ne!==null){ne=ne.shared;var pe=ne.pending;pe===null?W.next=W:(W.next=pe.next,pe.next=W),ne.pending=W}}P.lanes|=f,W=P.alternate,W!==null&&(W.lanes|=f),vp(P.return,f,l),z.lanes|=f;break}W=W.next}}else if(P.tag===10)j=P.type===l.type?null:P.child;else if(P.tag===18){if(j=P.return,j===null)throw Error(n(341));j.lanes|=f,z=j.alternate,z!==null&&(z.lanes|=f),vp(j,f,l),j=P.sibling}else j=P.child;if(j!==null)j.return=P;else for(j=P;j!==null;){if(j===l){j=null;break}if(P=j.sibling,P!==null){P.return=j.return,j=P;break}j=j.return}P=j}xn(i,l,S.children,f),l=l.child}return l;case 9:return S=l.type,v=l.pendingProps.children,Da(l,f),S=dr(S),v=v(S),l.flags|=1,xn(i,l,v,f),l.child;case 14:return v=l.type,S=Tr(v,l.pendingProps),S=Tr(v.type,S),D_(i,l,v,S,f);case 15:return z_(i,l,l.type,l.pendingProps,f);case 17:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:Tr(v,S),zd(i,l),l.tag=1,Rn(v)?(i=!0,xd(l)):i=!1,Da(l,f),R_(l,v,S),jp(l,v,S,f),Dp(null,l,v,!0,i,f);case 19:return G_(i,l,f);case 22:return B_(i,l,f)}throw Error(n(156,l.tag))};function g0(i,l){return qc(i,l)}function JE(i,l,f,v){this.tag=i,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(i,l,f,v){return new JE(i,l,f,v)}function rm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function QE(i){if(typeof i=="function")return rm(i)?1:0;if(i!=null){if(i=i.$$typeof,i===G)return 11;if(i===be)return 14}return 2}function Rs(i,l){var f=i.alternate;return f===null?(f=pr(i.tag,l,i.key,i.mode),f.elementType=i.elementType,f.type=i.type,f.stateNode=i.stateNode,f.alternate=i,i.alternate=f):(f.pendingProps=l,f.type=i.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=i.flags&14680064,f.childLanes=i.childLanes,f.lanes=i.lanes,f.child=i.child,f.memoizedProps=i.memoizedProps,f.memoizedState=i.memoizedState,f.updateQueue=i.updateQueue,l=i.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=i.sibling,f.index=i.index,f.ref=i.ref,f}function Kd(i,l,f,v,S,P){var j=2;if(v=i,typeof i=="function")rm(i)&&(j=1);else if(typeof i=="string")j=5;else e:switch(i){case M:return Ro(f.children,S,P,l);case B:j=8,S|=8;break;case ee:return i=pr(12,f,l,S|2),i.elementType=ee,i.lanes=P,i;case ge:return i=pr(13,f,l,S),i.elementType=ge,i.lanes=P,i;case le:return i=pr(19,f,l,S),i.elementType=le,i.lanes=P,i;case _e:return Yd(f,S,P,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ce:j=10;break e;case U:j=9;break e;case G:j=11;break e;case be:j=14;break e;case ye:j=16,v=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return l=pr(j,f,l,S),l.elementType=i,l.type=v,l.lanes=P,l}function Ro(i,l,f,v){return i=pr(7,i,v,l),i.lanes=f,i}function Yd(i,l,f,v){return i=pr(22,i,v,l),i.elementType=_e,i.lanes=f,i.stateNode={isHidden:!1},i}function im(i,l,f){return i=pr(6,i,null,l),i.lanes=f,i}function sm(i,l,f){return l=pr(4,i.children!==null?i.children:[],i.key,l),l.lanes=f,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function eT(i,l,f,v,S){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ts(0),this.expirationTimes=ts(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ts(0),this.identifierPrefix=v,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function om(i,l,f,v,S,P,j,z,W){return i=new eT(i,l,f,z,W),l===1?(l=1,P===!0&&(l|=8)):l=0,P=pr(3,null,null,l),i.current=P,P.stateNode=i,P.memoizedState={element:v,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},_p(P),i}function tT(i,l,f){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:v==null?null:""+v,children:i,containerInfo:l,implementation:f}}function v0(i){if(!i)return xs;i=i._reactInternals;e:{if(Wr(i)!==i||i.tag!==1)throw Error(n(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Rn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(i.tag===1){var f=i.type;if(Rn(f))return Wy(i,f,l)}return l}function y0(i,l,f,v,S,P,j,z,W){return i=om(f,v,!0,i,S,P,j,z,W),i.context=v0(null),f=i.current,v=wn(),S=Es(f),P=Oi(v,S),P.callback=l??null,Ss(f,P,S),i.current.lanes=S,Dn(i,S,v),An(i,v),i}function Xd(i,l,f,v){var S=l.current,P=wn(),j=Es(S);return f=v0(f),l.context===null?l.context=f:l.pendingContext=f,l=Oi(P,j),l.payload={element:i},v=v===void 0?null:v,v!==null&&(l.callback=v),i=Ss(S,l,j),i!==null&&(Nr(i,S,j,P),Td(i,S,j)),j}function Jd(i){return i=i.current,i.child?(i.child.tag===5,i.child.stateNode):null}function _0(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var f=i.retryLane;i.retryLane=f!==0&&f<l?f:l}}function am(i,l){_0(i,l),(i=i.alternate)&&_0(i,l)}function nT(){return null}var x0=typeof reportError=="function"?reportError:function(i){console.error(i)};function lm(i){this._internalRoot=i}Qd.prototype.render=lm.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(n(409));Xd(i,l,null,null)},Qd.prototype.unmount=lm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;Po(function(){Xd(null,i,null,null)}),l[at]=null}};function Qd(i){this._internalRoot=i}Qd.prototype.unstable_scheduleHydration=function(i){if(i){var l=da();i={blockedOn:null,target:i,priority:l};for(var f=0;f<Ft.length&&l!==0&&l<Ft[f].priority;f++);Ft.splice(f,0,i),f===0&&ha(i)}};function um(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function eh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function w0(){}function rT(i,l,f,v,S){if(S){if(typeof v=="function"){var P=v;v=function(){var ne=Jd(j);P.call(ne)}}var j=y0(l,v,i,0,null,!1,!1,"",w0);return i._reactRootContainer=j,i[at]=j.current,ms(i.nodeType===8?i.parentNode:i),Po(),j}for(;S=i.lastChild;)i.removeChild(S);if(typeof v=="function"){var z=v;v=function(){var ne=Jd(W);z.call(ne)}}var W=om(i,0,!1,null,null,!1,!1,"",w0);return i._reactRootContainer=W,i[at]=W.current,ms(i.nodeType===8?i.parentNode:i),Po(function(){Xd(l,W,f,v)}),W}function th(i,l,f,v,S){var P=f._reactRootContainer;if(P){var j=P;if(typeof S=="function"){var z=S;S=function(){var W=Jd(j);z.call(W)}}Xd(l,j,i,S)}else j=rT(f,l,i,S,v);return Jd(j)}ua=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var f=Ke(l.pendingLanes);f!==0&&(br(l,f|1),An(l,xt()),(rt&6)===0&&($a=xt()+500,ws()))}break;case 13:Po(function(){var v=Ii(i,1);if(v!==null){var S=wn();Nr(v,i,1,S)}}),am(i,1)}},_i=function(i){if(i.tag===13){var l=Ii(i,134217728);if(l!==null){var f=wn();Nr(l,i,134217728,f)}am(i,134217728)}},ca=function(i){if(i.tag===13){var l=Es(i),f=Ii(i,l);if(f!==null){var v=wn();Nr(f,i,l,v)}am(i,l)}},da=function(){return nt},oo=function(i,l){var f=nt;try{return nt=i,l()}finally{nt=f}},na=function(i,l,f){switch(l){case"input":if(gn(i,f),l=f.name,f.type==="radio"&&l!=null){for(f=i;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<f.length;l++){var v=f[l];if(v!==i&&v.form===i.form){var S=Ra(v);if(!S)throw Error(n(90));Be(v),gn(v,S)}}}break;case"textarea":Oc(i,f);break;case"select":l=f.value,l!=null&&nn(i,!!f.multiple,l,!1)}},$c=em,Uc=Po;var iT={usingClientEntryPoint:!1,Events:[Ri,Li,Ra,Fc,Vc,em]},Lu={findFiberByHostInstance:Ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sT={bundleType:Lu.bundleType,version:Lu.version,rendererPackageName:Lu.rendererPackageName,rendererConfig:Lu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Gc(i),i===null?null:i.stateNode},findFiberByHostInstance:Lu.findFiberByHostInstance||nT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{io=nh.inject(sT),Mn=nh}catch{}}return jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iT,jn.createPortal=function(i,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!um(l))throw Error(n(200));return tT(i,l,null,f)},jn.createRoot=function(i,l){if(!um(i))throw Error(n(299));var f=!1,v="",S=x0;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),l=om(i,1,!1,null,null,f,!1,v,S),i[at]=l.current,ms(i.nodeType===8?i.parentNode:i),new lm(l)},jn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Gc(l),i=i===null?null:i.stateNode,i},jn.flushSync=function(i){return Po(i)},jn.hydrate=function(i,l,f){if(!eh(l))throw Error(n(200));return th(null,i,l,!0,f)},jn.hydrateRoot=function(i,l,f){if(!um(i))throw Error(n(405));var v=f!=null&&f.hydratedSources||null,S=!1,P="",j=x0;if(f!=null&&(f.unstable_strictMode===!0&&(S=!0),f.identifierPrefix!==void 0&&(P=f.identifierPrefix),f.onRecoverableError!==void 0&&(j=f.onRecoverableError)),l=y0(l,null,i,1,f??null,S,!1,P,j),i[at]=l.current,ms(i),v)for(i=0;i<v.length;i++)f=v[i],S=f._getVersion,S=S(f._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[f,S]:l.mutableSourceEagerHydrationData.push(f,S);return new Qd(l)},jn.render=function(i,l,f){if(!eh(l))throw Error(n(200));return th(null,i,l,!1,f)},jn.unmountComponentAtNode=function(i){if(!eh(i))throw Error(n(40));return i._reactRootContainer?(Po(function(){th(null,null,i,!1,function(){i._reactRootContainer=null,i[at]=null})}),!0):!1},jn.unstable_batchedUpdates=em,jn.unstable_renderSubtreeIntoContainer=function(i,l,f,v){if(!eh(f))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return th(i,l,f,!1,v)},jn.version="18.3.1-next-f1338f8080-20240426",jn}var R0;function Pb(){if(R0)return hm.exports;R0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),hm.exports=fT(),hm.exports}var L0;function pT(){if(L0)return rh;L0=1;var e=Pb();return rh.createRoot=e.createRoot,rh.hydrateRoot=e.hydrateRoot,rh}var mT=pT();const gT=_c(mT);var Sl=Pb();const vT=_c(Sl);function tc(){return tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tc.apply(this,arguments)}var zs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(zs||(zs={}));const N0="popstate";function yT(e){e===void 0&&(e={});function t(s,o){let{pathname:u="/",search:c="",hash:h=""}=Xo(s.location.hash.substr(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),mg("",{pathname:u,search:c,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let u=s.document.querySelector("base"),c="";if(u&&u.getAttribute("href")){let h=s.location.href,p=h.indexOf("#");c=p===-1?h:h.slice(0,p)}return c+"#"+(typeof o=="string"?o:Dh(o))}function r(s,o){hf(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return xT(t,n,r,e)}function jt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _T(){return Math.random().toString(36).substr(2,8)}function A0(e,t){return{usr:e.state,key:e.key,idx:t}}function mg(e,t,n,r){return n===void 0&&(n=null),tc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Xo(t):t,{state:n,key:t&&t.key||r||_T()})}function Dh(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Xo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function xT(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,u=s.history,c=zs.Pop,h=null,p=y();p==null&&(p=0,u.replaceState(tc({},u.state,{idx:p}),""));function y(){return(u.state||{idx:null}).idx}function _(){c=zs.Pop;let R=y(),N=R==null?null:R-p;p=R,h&&h({action:c,location:k.location,delta:N})}function x(R,N){c=zs.Push;let A=mg(k.location,R,N);n&&n(A,R),p=y()+1;let I=A0(A,p),D=k.createHref(A);try{u.pushState(I,"",D)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(D)}o&&h&&h({action:c,location:k.location,delta:1})}function w(R,N){c=zs.Replace;let A=mg(k.location,R,N);n&&n(A,R),p=y();let I=A0(A,p),D=k.createHref(A);u.replaceState(I,"",D),o&&h&&h({action:c,location:k.location,delta:0})}function E(R){let N=s.location.origin!=="null"?s.location.origin:s.location.href,A=typeof R=="string"?R:Dh(R);return A=A.replace(/ $/,"%20"),jt(N,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,N)}let k={get action(){return c},get location(){return e(s,u)},listen(R){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(N0,_),h=R,()=>{s.removeEventListener(N0,_),h=null}},createHref(R){return t(s,R)},createURL:E,encodeLocation(R){let N=E(R);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:x,replace:w,go(R){return u.go(R)}};return k}var j0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(j0||(j0={}));function wT(e,t,n){return n===void 0&&(n="/"),bT(e,t,n)}function bT(e,t,n,r){let s=typeof t=="string"?Xo(t):t,o=_l(s.pathname||"/",n);if(o==null)return null;let u=Eb(e);ST(u);let c=null;for(let h=0;c==null&&h<u.length;++h){let p=IT(o);c=AT(u[h],p)}return c}function Eb(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,u,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};h.relativePath.startsWith("/")&&(jt(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let p=Vs([r,h.relativePath]),y=n.concat(h);o.children&&o.children.length>0&&(jt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Eb(o.children,t,y,p)),!(o.path==null&&!o.index)&&t.push({path:p,score:LT(p,o.index),routesMeta:y})};return e.forEach((o,u)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,u);else for(let h of Tb(o.path))s(o,u,h)}),t}function Tb(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let u=Tb(r.join("/")),c=[];return c.push(...u.map(h=>h===""?o:[o,h].join("/"))),s&&c.push(...u),c.map(h=>e.startsWith("/")&&h===""?"/":h)}function ST(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:NT(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const CT=/^:[\w-]+$/,kT=3,PT=2,ET=1,TT=10,RT=-2,I0=e=>e==="*";function LT(e,t){let n=e.split("/"),r=n.length;return n.some(I0)&&(r+=RT),t&&(r+=PT),n.filter(s=>!I0(s)).reduce((s,o)=>s+(CT.test(o)?kT:o===""?ET:TT),r)}function NT(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function AT(e,t,n){let{routesMeta:r}=e,s={},o="/",u=[];for(let c=0;c<r.length;++c){let h=r[c],p=c===r.length-1,y=o==="/"?t:t.slice(o.length)||"/",_=gg({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},y),x=h.route;if(!_)return null;Object.assign(s,_.params),u.push({params:s,pathname:Vs([o,_.pathname]),pathnameBase:BT(Vs([o,_.pathnameBase])),route:x}),_.pathnameBase!=="/"&&(o=Vs([o,_.pathnameBase]))}return u}function gg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=jT(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((p,y,_)=>{let{paramName:x,isOptional:w}=y;if(x==="*"){let k=c[_]||"";u=o.slice(0,o.length-k.length).replace(/(.)\/+$/,"$1")}const E=c[_];return w&&!E?p[x]=void 0:p[x]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:u,pattern:e}}function jT(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),hf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function IT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function _l(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const OT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MT=e=>OT.test(e);function DT(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Xo(e):e,o;if(n)if(MT(n))o=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),hf(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+n))}n.startsWith("/")?o=O0(n.substring(1),"/"):o=O0(n,t)}else o=t;return{pathname:o,search:FT(r),hash:VT(s)}}function O0(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function mm(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zT(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Rb(e,t){let n=zT(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Lb(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Xo(e):(s=tc({},e),jt(!s.pathname||!s.pathname.includes("?"),mm("?","pathname","search",s)),jt(!s.pathname||!s.pathname.includes("#"),mm("#","pathname","hash",s)),jt(!s.search||!s.search.includes("#"),mm("#","search","hash",s)));let o=e===""||s.pathname==="",u=o?"/":s.pathname,c;if(u==null)c=n;else{let _=t.length-1;if(!r&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),_-=1;s.pathname=x.join("/")}c=_>=0?t[_]:"/"}let h=DT(s,c),p=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||y)&&(h.pathname+="/"),h}const Vs=e=>e.join("/").replace(/\/\/+/g,"/"),BT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),FT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,VT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $T(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Nb=["post","put","patch","delete"];new Set(Nb);const UT=["get",...Nb];new Set(UT);function nc(){return nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nc.apply(this,arguments)}const ff=C.createContext(null),Ab=C.createContext(null),Zs=C.createContext(null),pf=C.createContext(null),Jo=C.createContext({outlet:null,matches:[],isDataRoute:!1}),jb=C.createContext(null);function HT(e,t){let{relative:n}=t===void 0?{}:t;wc()||jt(!1);let{basename:r,navigator:s}=C.useContext(Zs),{hash:o,pathname:u,search:c}=mf(e,{relative:n}),h=u;return r!=="/"&&(h=u==="/"?r:Vs([r,u])),s.createHref({pathname:h,search:c,hash:o})}function wc(){return C.useContext(pf)!=null}function bc(){return wc()||jt(!1),C.useContext(pf).location}function Ib(e){C.useContext(Zs).static||C.useLayoutEffect(e)}function WT(){let{isDataRoute:e}=C.useContext(Jo);return e?iR():GT()}function GT(){wc()||jt(!1);let e=C.useContext(ff),{basename:t,future:n,navigator:r}=C.useContext(Zs),{matches:s}=C.useContext(Jo),{pathname:o}=bc(),u=JSON.stringify(Rb(s,n.v7_relativeSplatPath)),c=C.useRef(!1);return Ib(()=>{c.current=!0}),C.useCallback(function(p,y){if(y===void 0&&(y={}),!c.current)return;if(typeof p=="number"){r.go(p);return}let _=Lb(p,JSON.parse(u),o,y.relative==="path");e==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:Vs([t,_.pathname])),(y.replace?r.replace:r.push)(_,y.state,y)},[t,r,u,o,e])}function mf(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=C.useContext(Zs),{matches:s}=C.useContext(Jo),{pathname:o}=bc(),u=JSON.stringify(Rb(s,r.v7_relativeSplatPath));return C.useMemo(()=>Lb(e,JSON.parse(u),o,n==="path"),[e,u,o,n])}function ZT(e,t){return qT(e,t)}function qT(e,t,n,r){wc()||jt(!1);let{navigator:s}=C.useContext(Zs),{matches:o}=C.useContext(Jo),u=o[o.length-1],c=u?u.params:{};u&&u.pathname;let h=u?u.pathnameBase:"/";u&&u.route;let p=bc(),y;if(t){var _;let R=typeof t=="string"?Xo(t):t;h==="/"||(_=R.pathname)!=null&&_.startsWith(h)||jt(!1),y=R}else y=p;let x=y.pathname||"/",w=x;if(h!=="/"){let R=h.replace(/^\//,"").split("/");w="/"+x.replace(/^\//,"").split("/").slice(R.length).join("/")}let E=wT(e,{pathname:w}),k=QT(E&&E.map(R=>Object.assign({},R,{params:Object.assign({},c,R.params),pathname:Vs([h,s.encodeLocation?s.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?h:Vs([h,s.encodeLocation?s.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),o,n,r);return t&&k?C.createElement(pf.Provider,{value:{location:nc({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:zs.Pop}},k):k}function KT(){let e=rR(),t=$T(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),n?C.createElement("pre",{style:s},n):null,null)}const YT=C.createElement(KT,null);class XT extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?C.createElement(Jo.Provider,{value:this.props.routeContext},C.createElement(jb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JT(e){let{routeContext:t,match:n,children:r}=e,s=C.useContext(ff);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(Jo.Provider,{value:t},r)}function QT(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let u=e,c=(s=n)==null?void 0:s.errors;if(c!=null){let y=u.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);y>=0||jt(!1),u=u.slice(0,Math.min(u.length,y+1))}let h=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let y=0;y<u.length;y++){let _=u[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=y),_.route.id){let{loaderData:x,errors:w}=n,E=_.route.loader&&x[_.route.id]===void 0&&(!w||w[_.route.id]===void 0);if(_.route.lazy||E){h=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((y,_,x)=>{let w,E=!1,k=null,R=null;n&&(w=c&&_.route.id?c[_.route.id]:void 0,k=_.route.errorElement||YT,h&&(p<0&&x===0?(sR("route-fallback"),E=!0,R=null):p===x&&(E=!0,R=_.route.hydrateFallbackElement||null)));let N=t.concat(u.slice(0,x+1)),A=()=>{let I;return w?I=k:E?I=R:_.route.Component?I=C.createElement(_.route.Component,null):_.route.element?I=_.route.element:I=y,C.createElement(JT,{match:_,routeContext:{outlet:y,matches:N,isDataRoute:n!=null},children:I})};return n&&(_.route.ErrorBoundary||_.route.errorElement||x===0)?C.createElement(XT,{location:n.location,revalidation:n.revalidation,component:k,error:w,children:A(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):A()},null)}var Ob=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(Ob||{}),Mb=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(Mb||{});function eR(e){let t=C.useContext(ff);return t||jt(!1),t}function tR(e){let t=C.useContext(Ab);return t||jt(!1),t}function nR(e){let t=C.useContext(Jo);return t||jt(!1),t}function Db(e){let t=nR(),n=t.matches[t.matches.length-1];return n.route.id||jt(!1),n.route.id}function rR(){var e;let t=C.useContext(jb),n=tR(),r=Db();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function iR(){let{router:e}=eR(Ob.UseNavigateStable),t=Db(Mb.UseNavigateStable),n=C.useRef(!1);return Ib(()=>{n.current=!0}),C.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,nc({fromRouteId:t},o)))},[e,t])}const M0={};function sR(e,t,n){M0[e]||(M0[e]=!0)}function oR(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function ii(e){jt(!1)}function aR(e){let{basename:t="/",children:n=null,location:r,navigationType:s=zs.Pop,navigator:o,static:u=!1,future:c}=e;wc()&&jt(!1);let h=t.replace(/^\/*/,"/"),p=C.useMemo(()=>({basename:h,navigator:o,static:u,future:nc({v7_relativeSplatPath:!1},c)}),[h,c,o,u]);typeof r=="string"&&(r=Xo(r));let{pathname:y="/",search:_="",hash:x="",state:w=null,key:E="default"}=r,k=C.useMemo(()=>{let R=_l(y,h);return R==null?null:{location:{pathname:R,search:_,hash:x,state:w,key:E},navigationType:s}},[h,y,_,x,w,E,s]);return k==null?null:C.createElement(Zs.Provider,{value:p},C.createElement(pf.Provider,{children:n,value:k}))}function lR(e){let{children:t,location:n}=e;return ZT(vg(t),n)}new Promise(()=>{});function vg(e,t){t===void 0&&(t=[]);let n=[];return C.Children.forEach(e,(r,s)=>{if(!C.isValidElement(r))return;let o=[...t,s];if(r.type===C.Fragment){n.push.apply(n,vg(r.props.children,o));return}r.type!==ii&&jt(!1),!r.props.index||!r.props.children||jt(!1);let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=vg(r.props.children,o)),n.push(u)}),n}function zh(){return zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zh.apply(this,arguments)}function zb(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function uR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function cR(e,t){return e.button===0&&(!t||t==="_self")&&!uR(e)}const dR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hR=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],fR="6";try{window.__reactRouterVersion=fR}catch{}const pR=C.createContext({isTransitioning:!1}),mR="startTransition",D0=xc[mR];function gR(e){let{basename:t,children:n,future:r,window:s}=e,o=C.useRef();o.current==null&&(o.current=yT({window:s,v5Compat:!0}));let u=o.current,[c,h]=C.useState({action:u.action,location:u.location}),{v7_startTransition:p}=r||{},y=C.useCallback(_=>{p&&D0?D0(()=>h(_)):h(_)},[h,p]);return C.useLayoutEffect(()=>u.listen(y),[u,y]),C.useEffect(()=>oR(r),[r]),C.createElement(aR,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:u,future:r})}const vR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_R=C.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:u,state:c,target:h,to:p,preventScrollReset:y,viewTransition:_}=t,x=zb(t,dR),{basename:w}=C.useContext(Zs),E,k=!1;if(typeof p=="string"&&yR.test(p)&&(E=p,vR))try{let I=new URL(window.location.href),D=p.startsWith("//")?new URL(I.protocol+p):new URL(p),V=_l(D.pathname,w);D.origin===I.origin&&V!=null?p=V+D.search+D.hash:k=!0}catch{}let R=HT(p,{relative:s}),N=bR(p,{replace:u,state:c,target:h,preventScrollReset:y,relative:s,viewTransition:_});function A(I){r&&r(I),I.defaultPrevented||N(I)}return C.createElement("a",zh({},x,{href:E||R,onClick:k||o?r:A,ref:n,target:h}))}),xR=C.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:o="",end:u=!1,style:c,to:h,viewTransition:p,children:y}=t,_=zb(t,hR),x=mf(h,{relative:_.relative}),w=bc(),E=C.useContext(Ab),{navigator:k,basename:R}=C.useContext(Zs),N=E!=null&&SR(x)&&p===!0,A=k.encodeLocation?k.encodeLocation(x).pathname:x.pathname,I=w.pathname,D=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;s||(I=I.toLowerCase(),D=D?D.toLowerCase():null,A=A.toLowerCase()),D&&R&&(D=_l(D,R)||D);const V=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let Z=I===A||!u&&I.startsWith(A)&&I.charAt(V)==="/",M=D!=null&&(D===A||!u&&D.startsWith(A)&&D.charAt(A.length)==="/"),B={isActive:Z,isPending:M,isTransitioning:N},ee=Z?r:void 0,ce;typeof o=="function"?ce=o(B):ce=[o,Z?"active":null,M?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let U=typeof c=="function"?c(B):c;return C.createElement(_R,zh({},_,{"aria-current":ee,className:ce,ref:n,style:U,to:h,viewTransition:p}),typeof y=="function"?y(B):y)});var yg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(yg||(yg={}));var z0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(z0||(z0={}));function wR(e){let t=C.useContext(ff);return t||jt(!1),t}function bR(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:u,viewTransition:c}=t===void 0?{}:t,h=WT(),p=bc(),y=mf(e,{relative:u});return C.useCallback(_=>{if(cR(_,n)){_.preventDefault();let x=r!==void 0?r:Dh(p)===Dh(y);h(e,{replace:x,state:s,preventScrollReset:o,relative:u,viewTransition:c})}},[p,h,y,r,s,n,e,o,u,c])}function SR(e,t){t===void 0&&(t={});let n=C.useContext(pR);n==null&&jt(!1);let{basename:r}=wR(yg.useViewTransitionState),s=mf(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=_l(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=_l(n.nextLocation.pathname,r)||n.nextLocation.pathname;return gg(s.pathname,u)!=null||gg(s.pathname,o)!=null}const Bb=C.createContext();function CR({children:e}){const[t,n]=C.useState("");return m.jsx(Bb.Provider,{value:{query:t,setQuery:n},children:e})}function Fb(){const e=C.useContext(Bb);if(e===void 0)throw new Error("useSearch must be used within a SearchProvider");return e}const Vb=C.createContext(),gm={antigravity:{name:"Antigravity Pro",light:{background:"240 5% 98%",secondary:"240 5% 94%",card:"0 0% 100%",border:"240 6% 90%"},dark:{background:"240 5% 8%",secondary:"240 5% 5%",card:"240 5% 12%",border:"240 5% 16%"}},github:{name:"GitHub Dark",light:{background:"210 20% 98%",secondary:"210 20% 95%",card:"0 0% 100%",border:"210 20% 88%"},dark:{background:"222 13% 6%",secondary:"222 13% 4%",card:"222 13% 9%",border:"210 12% 18%"}},mocha:{name:"Catppuccin Mocha",light:{background:"30 15% 97%",secondary:"30 15% 92%",card:"0 0% 100%",border:"30 10% 85%"},dark:{background:"240 21% 12%",secondary:"240 21% 15%",card:"240 21% 18%",border:"240 21% 25%"}},cloud:{name:"Lighter Cloud",light:{background:"210 20% 99%",secondary:"210 20% 94%",card:"0 0% 100%",border:"210 20% 88%"},dark:{background:"210 10% 22%",secondary:"210 10% 18%",card:"210 10% 26%",border:"210 10% 32%"}},ivory:{name:"Soft Ivory",light:{background:"45 20% 98%",secondary:"45 15% 93%",card:"0 0% 100%",border:"45 10% 86%"},dark:{background:"45 5% 22%",secondary:"45 5% 18%",card:"45 5% 26%",border:"45 5% 32%"}},zinc:{name:"Industrial Zinc",light:{background:"240 5% 99%",secondary:"240 5% 92%",card:"0 0% 100%",border:"240 5% 86%"},dark:{background:"240 4% 20%",secondary:"240 4% 16%",card:"240 4% 24%",border:"240 4% 30%"}},obsidian:{name:"Graphite Slate",light:{background:"0 0% 100%",secondary:"0 0% 96%",card:"0 0% 100%",border:"0 0% 90%"},dark:{background:"240 4% 16%",secondary:"240 4% 12%",card:"240 4% 20%",border:"240 4% 26%"}},emerald:{name:"Himalayan Ridge",light:{background:"142.1 40% 98%",secondary:"142.1 30% 93%",card:"0 0% 100%",border:"142.1 30% 88%"},dark:{background:"142.1 20% 20%",secondary:"142.1 20% 16%",card:"142.1 20% 24%",border:"142.1 20% 30%"}},supabase:{name:"Supabase Studio",light:{background:"0 0% 100%",secondary:"154 6% 96%",card:"0 0% 100%",border:"154 6% 90%"},dark:{background:"160 2% 9%",secondary:"160 2% 12%",card:"160 2% 15%",border:"160 2% 20%"}}},vm={indigo:{name:"Quantum Indigo",light:{primary:"239 84% 67%",foreground:"0 0% 100%"},dark:{primary:"239 84% 67%",foreground:"0 0% 100%"}},sky:{name:"Sky Blue",light:{primary:"199 89% 48%",foreground:"0 0% 100%"},dark:{primary:"199 89% 48%",foreground:"0 0% 100%"}},github_blue:{name:"GitHub Blue",light:{primary:"212 92% 45%",foreground:"0 0% 100%"},dark:{primary:"212 92% 45%",foreground:"0 0% 100%"}},emerald:{name:"Bio-Green",light:{primary:"142 71% 45%",foreground:"0 0% 100%"},dark:{primary:"142 71% 45%",foreground:"0 0% 100%"}},rose:{name:"Cyber Rose",light:{primary:"347 77% 50%",foreground:"0 0% 100%"},dark:{primary:"347 77% 50%",foreground:"0 0% 100%"}},amber:{name:"Atomic Amber",light:{primary:"38 92% 50%",foreground:"0 0% 100%"},dark:{primary:"38 92% 50%",foreground:"38 92% 5%"}},steel:{name:"Steel Grey",light:{primary:"210 10% 40%",foreground:"0 0% 100%"},dark:{primary:"210 10% 60%",foreground:"210 10% 10%"}},slate_grey:{name:"Cool Slate",light:{primary:"215 15% 45%",foreground:"0 0% 100%"},dark:{primary:"215 20% 65%",foreground:"215 20% 10%"}},graphite:{name:"Lead Graphite",light:{primary:"240 6% 25%",foreground:"0 0% 98%"},dark:{primary:"240 6% 45%",foreground:"240 6% 5%"}},zinc:{name:"Basic Lead",light:{primary:"240 6% 10%",foreground:"0 0% 98%"},dark:{primary:"0 0% 98%",foreground:"240 6% 10%"}},supabase_emerald:{name:"Supabase Emerald",light:{primary:"153 60% 53%",foreground:"0 0% 0%"},dark:{primary:"153 60% 53%",foreground:"0 0% 0%"}}},Au={inter:{name:"Modern Sans (Inter)",sans:'"Inter", sans-serif',display:'"Inter", sans-serif',mono:'"JetBrains Mono", monospace'},geist:{name:"Geist Technical",sans:'"Geist", sans-serif',display:'"Geist", sans-serif',mono:'"Geist", monospace'},outfit:{name:"Geometric Pro (Outfit)",sans:'"Outfit", sans-serif',display:'"Outfit", sans-serif',mono:'"JetBrains Mono", monospace'},mono:{name:"Data Focus (Mono)",sans:'"JetBrains Mono", monospace',display:'"JetBrains Mono", monospace',mono:'"JetBrains Mono", monospace'}},kR=({children:e})=>{const[t,n]=C.useState(()=>localStorage.getItem("theme")||"light"),[r,s]=C.useState(()=>localStorage.getItem("surfacePalette")||"github"),[o,u]=C.useState(()=>localStorage.getItem("accentColor")||"slate_grey"),[c,h]=C.useState(()=>localStorage.getItem("fontFamily")||"inter"),[p,y]=C.useState(()=>parseFloat(localStorage.getItem("headingSize")||"1")),[_,x]=C.useState(()=>parseFloat(localStorage.getItem("subtextSize")||"1")),[w,E]=C.useState(()=>parseFloat(localStorage.getItem("baseSize")||"1")),[k,R]=C.useState(()=>localStorage.getItem("textContrast")||"zinc"),N=C.useCallback(A=>{const I=window.document.documentElement,D=Au[A]||Au.inter;I.style.setProperty("--font-sans",D.sans),I.style.setProperty("--font-display",D.display),I.style.setProperty("--font-mono",D.mono)},[]);return C.useEffect(()=>{const A=window.document.documentElement;A.classList.add("theme-transitioning"),A.classList.remove("dark","light"),A.classList.add(t),localStorage.setItem("theme",t),setTimeout(()=>A.classList.remove("theme-transitioning"),300)},[t]),C.useEffect(()=>{const A=window.document.documentElement,I=gm[r]||gm.antigravity,D=t==="dark"?I.dark:I.light;A.style.setProperty("--background",D.background),A.style.setProperty("--secondary",D.secondary),A.style.setProperty("--card",D.card),A.style.setProperty("--border",D.border),A.style.setProperty("--muted",D.secondary),A.style.setProperty("--accent",D.secondary);const V=vm[o]||vm.indigo,Z=t==="dark"?V.dark:V.light;A.style.setProperty("--primary",Z.primary),A.style.setProperty("--ring",Z.primary),A.style.setProperty("--primary-foreground",Z.foreground);const M=Au[c]||Au.inter;A.style.setProperty("--font-sans",M.sans),A.style.setProperty("--font-display",M.display),A.style.setProperty("--font-mono",M.mono),A.style.setProperty("--heading-size",p),A.style.setProperty("--subtext-size",_),A.style.setProperty("--base-size",w);const B={black:{light:"0 0% 0%",dark:"0 0% 100%"},charcoal:{light:"222 15% 15%",dark:"0 0% 90%"},zinc:{light:"240 6% 30%",dark:"240 5% 82%"},slate:{light:"215 25% 40%",dark:"215 20% 75%"},midnight:{light:"222 47% 20%",dark:"217 33% 65%"}},ee=B[k]||B.zinc;A.style.setProperty("--foreground",t==="dark"?ee.dark:ee.light),localStorage.setItem("surfacePalette",r),localStorage.setItem("accentColor",o),localStorage.setItem("fontFamily",c),localStorage.setItem("headingSize",p.toString()),localStorage.setItem("subtextSize",_.toString()),localStorage.setItem("baseSize",w.toString()),localStorage.setItem("textContrast",k)},[t,r,o,c,p,_,w,k]),m.jsx(Vb.Provider,{value:{theme:t,toggleTheme:()=>n(A=>A==="light"?"dark":"light"),setTargetTheme:n,surfacePalette:r,setSurfacePalette:s,palettes:gm,accentColor:o,setAccentColor:u,accents:vm,fontFamily:c,setFontFamily:h,fonts:Au,applyFontPreview:N,headingSize:p,setHeadingSize:y,subtextSize:_,setSubtextSize:x,baseSize:w,setBaseSize:E,textContrast:k,setTextContrast:R},children:e})},gf=()=>{const e=C.useContext(Vb);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},$b=C.createContext();function PR({children:e}){const[t,n]=C.useState(null),[r,s]=C.useState(null),[o,u]=C.useState(!1),[c,h]=C.useState(!1),p=()=>{n(null),s(null)},y=_=>{if(!_){n(null);return}n(_),s(_)};return m.jsx($b.Provider,{value:{selectedSurveyId:t,setSelectedSurveyId:y,highlightedId:r,setHighlightedId:s,clearSelection:p,isSidebarOpen:o,setIsSidebarOpen:u,isSidebarCollapsed:c,setIsSidebarCollapsed:h},children:e})}function Sc(){const e=C.useContext($b);if(e===void 0)throw new Error("useUI must be used within a UIProvider");return e}var oi=function(){return oi=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},oi.apply(this,arguments)};function Cl(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function ER(e,t,n,r){function s(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function c(y){try{p(r.next(y))}catch(_){u(_)}}function h(y){try{p(r.throw(y))}catch(_){u(_)}}function p(y){y.done?o(y.value):s(y.value).then(c,h)}p((r=r.apply(e,t||[])).next())})}function TR(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}const RR=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Cv extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class LR extends Cv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class B0 extends Cv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class F0 extends Cv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var _g;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(_g||(_g={}));class NR{constructor(t,{headers:n={},customFetch:r,region:s=_g.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=RR(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ER(this,arguments,void 0,function*(n,r={}){var s;let o,u;try{const{headers:c,method:h,body:p,signal:y,timeout:_}=r;let x={},{region:w}=r;w||(w=this.region);const E=new URL(`${this.url}/${n}`);w&&w!=="any"&&(x["x-region"]=w,E.searchParams.set("forceFunctionRegion",w));let k;p&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",k=p):typeof p=="string"?(x["Content-Type"]="text/plain",k=p):typeof FormData<"u"&&p instanceof FormData?k=p:(x["Content-Type"]="application/json",k=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?k=JSON.stringify(p):k=p;let R=y;_&&(u=new AbortController,o=setTimeout(()=>u.abort(),_),y?(R=u.signal,y.addEventListener("abort",()=>u.abort())):R=u.signal);const N=yield this.fetch(E.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),c),body:k,signal:R}).catch(V=>{throw new LR(V)}),A=N.headers.get("x-relay-error");if(A&&A==="true")throw new B0(N);if(!N.ok)throw new F0(N);let I=((s=N.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),D;return I==="application/json"?D=yield N.json():I==="application/octet-stream"||I==="application/pdf"?D=yield N.blob():I==="text/event-stream"?D=N:I==="multipart/form-data"?D=yield N.formData():D=yield N.text(),{data:D,error:null,response:N}}catch(c){return{data:null,error:c,response:c instanceof F0||c instanceof B0?c.context:void 0}}finally{o&&clearTimeout(o)}})}}var AR=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},jR=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let u=null,c=null,h=null,p=o.status,y=o.statusText;if(o.ok){var _,x;if(n.method!=="HEAD"){var w;const N=await o.text();N===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((w=n.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?c=N:c=JSON.parse(N))}const k=(_=n.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),R=(x=o.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");k&&R&&R.length>1&&(h=parseInt(R[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,p=406,y="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var E;const k=await o.text();try{u=JSON.parse(k),Array.isArray(u)&&o.status===404&&(c=[],u=null,p=200,y="OK")}catch{o.status===404&&k===""?(p=204,y="No Content"):u={message:k}}if(u&&n.isMaybeSingle&&(!(u==null||(E=u.details)===null||E===void 0)&&E.includes("0 rows"))&&(u=null,p=200,y="OK"),u&&n.shouldThrowOnError)throw new AR(u)}return{error:u,data:c,count:h,status:p,statusText:y}});return this.shouldThrowOnError||(s=s.catch(o=>{var u;let c="";const h=o?.cause;if(h){var p,y,_,x;const E=(p=h?.message)!==null&&p!==void 0?p:"",k=(y=h?.code)!==null&&y!==void 0?y:"";c=`${(_=o?.name)!==null&&_!==void 0?_:"FetchError"}: ${o?.message}`,c+=`

Caused by: ${(x=h?.name)!==null&&x!==void 0?x:"Error"}: ${E}`,k&&(c+=` (${k})`),h?.stack&&(c+=`
${h.stack}`)}else{var w;c=(w=o?.stack)!==null&&w!==void 0?w:""}return{error:{message:`${(u=o?.name)!==null&&u!==void 0?u:"FetchError"}: ${o?.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},IR=class extends jR{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const o=s?`${s}.order`:"order",u=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${u?`${u},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:o="text"}={}){var u;const c=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${h}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const V0=new RegExp("[,()]");var tl=class extends IR{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&V0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&V0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},OR=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let o=!1;const u=(e??"*").split("").map(p=>/\s/.test(p)&&!o?"":(p==='"'&&(o=!o),p)).join(""),{url:c,headers:h}=this.cloneRequestState();return c.searchParams.set("select",u),r&&h.append("Prefer",`count=${r}`),new tl({method:s,url:c,headers:h,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:o,headers:u}=this.cloneRequestState();if(t&&u.append("Prefer",`count=${t}`),n||u.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(c.length>0){const h=[...new Set(c)].map(p=>`"${p}"`);o.searchParams.set("columns",h.join(","))}}return new tl({method:s,url:o,headers:u,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var o;const u="POST",{url:c,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&c.searchParams.set("on_conflict",t),r&&h.append("Prefer",`count=${r}`),s||h.append("Prefer","missing=default"),Array.isArray(e)){const p=e.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(p.length>0){const y=[...new Set(p)].map(_=>`"${_}"`);c.searchParams.set("columns",y.join(","))}}return new tl({method:u,url:c,headers:h,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new tl({method:r,url:s,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new tl({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},MR=class Ub{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new OR(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Ub(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){var u;let c;const h=new URL(`${this.url}/rpc/${t}`);let p;const y=w=>w!==null&&typeof w=="object"&&(!Array.isArray(w)||w.some(y)),_=r&&Object.values(n).some(y);_?(c="POST",p=n):r||s?(c=r?"HEAD":"GET",Object.entries(n).filter(([w,E])=>E!==void 0).map(([w,E])=>[w,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([w,E])=>{h.searchParams.append(w,E)})):(c="POST",p=n);const x=new Headers(this.headers);return _?x.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&x.set("Prefer",`count=${o}`),new tl({method:c,url:h,headers:x,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class DR{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const zR="2.90.1",BR=`realtime-js/${zR}`,Hb="1.0.0",FR="2.0.0",$0=Hb,xg=1e4,VR=1e3,$R=100;var Is;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Is||(Is={}));var Wt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Wt||(Wt={}));var zr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(zr||(zr={}));var wg;(function(e){e.websocket="websocket"})(wg||(wg={}));var Do;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Do||(Do={}));class UR{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},u=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(t,n,r){var s,o;const u=t.topic,c=(s=t.ref)!==null&&s!==void 0?s:"",h=(o=t.join_ref)!==null&&o!==void 0?o:"",p=t.payload.event,y=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},_=Object.keys(y).length===0?"":JSON.stringify(y);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+c.length+u.length+p.length+_.length,w=new ArrayBuffer(this.HEADER_LENGTH+x);let E=new DataView(w),k=0;E.setUint8(k++,this.KINDS.userBroadcastPush),E.setUint8(k++,h.length),E.setUint8(k++,c.length),E.setUint8(k++,u.length),E.setUint8(k++,p.length),E.setUint8(k++,_.length),E.setUint8(k++,n),Array.from(h,N=>E.setUint8(k++,N.charCodeAt(0))),Array.from(c,N=>E.setUint8(k++,N.charCodeAt(0))),Array.from(u,N=>E.setUint8(k++,N.charCodeAt(0))),Array.from(p,N=>E.setUint8(k++,N.charCodeAt(0))),Array.from(_,N=>E.setUint8(k++,N.charCodeAt(0)));var R=new Uint8Array(w.byteLength+r.byteLength);return R.set(new Uint8Array(w),0),R.set(new Uint8Array(r),w.byteLength),R.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,o,u,c,h]=r;return n({join_ref:s,ref:o,topic:u,event:c,payload:h})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,n,s)}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2),u=n.getUint8(3),c=n.getUint8(4);let h=this.HEADER_LENGTH+4;const p=r.decode(t.slice(h,h+s));h=h+s;const y=r.decode(t.slice(h,h+o));h=h+o;const _=r.decode(t.slice(h,h+u));h=h+u;const x=t.slice(h,t.byteLength),w=c===this.JSON_ENCODING?JSON.parse(r.decode(x)):x,E={type:this.BROADCAST_EVENT,event:y,payload:w};return u>0&&(E.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class Wb{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(pt||(pt={}));const U0=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,u)=>(o[u]=HR(u,e,t,s),o),{}):{}},HR=(e,t,n,r)=>{const s=t.find(c=>c.name===e),o=s?.type,u=n[e];return o&&!r.includes(o)?Gb(o,u):bg(u)},Gb=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return qR(t,n)}switch(e){case pt.bool:return WR(t);case pt.float4:case pt.float8:case pt.int2:case pt.int4:case pt.int8:case pt.numeric:case pt.oid:return GR(t);case pt.json:case pt.jsonb:return ZR(t);case pt.timestamp:return KR(t);case pt.abstime:case pt.date:case pt.daterange:case pt.int4range:case pt.int8range:case pt.money:case pt.reltime:case pt.text:case pt.time:case pt.timestamptz:case pt.timetz:case pt.tsrange:case pt.tstzrange:return bg(t);default:return bg(t)}},bg=e=>e,WR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},GR=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ZR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},qR=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const u=e.slice(1,n);try{o=JSON.parse("["+u+"]")}catch{o=u?u.split(","):[]}return o.map(c=>Gb(t,c))}return e},KR=e=>typeof e=="string"?e.replace(" ","T"):e,Zb=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ym{constructor(t,n,r={},s=xg){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var H0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(H0||(H0={}));class Zu{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:u,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zu.syncState(this.state,s,o,u),this.pendingDiffs.forEach(h=>{this.state=Zu.syncDiff(this.state,h,o,u)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:u,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Zu.syncDiff(this.state,s,o,u),c())}),this.onJoin((s,o,u)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:u})}),this.onLeave((s,o,u)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),u=this.transformState(n),c={},h={};return this.map(o,(p,y)=>{u[p]||(h[p]=y)}),this.map(u,(p,y)=>{const _=o[p];if(_){const x=y.map(R=>R.presence_ref),w=_.map(R=>R.presence_ref),E=y.filter(R=>w.indexOf(R.presence_ref)<0),k=_.filter(R=>x.indexOf(R.presence_ref)<0);E.length>0&&(c[p]=E),k.length>0&&(h[p]=k)}else c[p]=y}),this.syncDiff(o,{joins:c,leaves:h},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(c,h)=>{var p;const y=(p=t[c])!==null&&p!==void 0?p:[];if(t[c]=this.cloneDeep(h),y.length>0){const _=t[c].map(w=>w.presence_ref),x=y.filter(w=>_.indexOf(w.presence_ref)<0);t[c].unshift(...x)}r(c,y,h)}),this.map(u,(c,h)=>{let p=t[c];if(!p)return;const y=h.map(_=>_.presence_ref);p=p.filter(_=>y.indexOf(_.presence_ref)<0),t[c]=p,s(c,p,h),p.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var W0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(W0||(W0={}));var qu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(qu||(qu={}));var Fi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Fi||(Fi={}));class sl{constructor(t,n={config:{}},r){var s,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Wt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ym(this,zr.join,this.params,this.timeout),this.rejoinTimer=new Wb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Wt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Wt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zr.reply,{},(u,c)=>{this._trigger(this._replyEventName(c),u)}),this.presence=new Zu(this),this.broadcastEndpointURL=Zb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Wt.closed){const{config:{broadcast:u,presence:c,private:h}}=this.params,p=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(w=>w.filter))!==null&&s!==void 0?s:[],y=!!this.bindings[qu.PRESENCE]&&this.bindings[qu.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,_={},x={broadcast:u,presence:Object.assign(Object.assign({},c),{enabled:y}),postgres_changes:p,private:h};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(w=>t?.(Fi.CHANNEL_ERROR,w)),this._onClose(()=>t?.(Fi.CLOSED)),this.updateJoinPayload(Object.assign({config:x},_)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){t?.(Fi.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,R=(E=k?.length)!==null&&E!==void 0?E:0,N=[];for(let A=0;A<R;A++){const I=k[A],{filter:{event:D,schema:V,table:Z,filter:M}}=I,B=w&&w[A];if(B&&B.event===D&&sl.isFilterValueEqual(B.schema,V)&&sl.isFilterValueEqual(B.table,Z)&&sl.isFilterValueEqual(B.filter,M))N.push(Object.assign(Object.assign({},I),{id:B.id}));else{this.unsubscribe(),this.state=Wt.errored,t?.(Fi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(Fi.SUBSCRIBED);return}}).receive("error",w=>{this.state=Wt.errored,t?.(Fi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t?.(Fi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Wt.joined&&t===qu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let h=c.statusText;try{const p=await c.json();h=p.error||p.message||h}catch{}return Promise.reject(new Error(h))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:u}=t,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=p.body)===null||s===void 0?void 0:s.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var u,c,h;const p=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(c=(u=this.params)===null||u===void 0?void 0:u.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.ack)&&o("ok"),p.receive("ok",()=>o("ok")),p.receive("error",()=>o("error")),p.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Wt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new ym(this,zr.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Wt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),u=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),u}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ym(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>$R){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const u=t.toLocaleLowerCase(),{close:c,error:h,leave:p,join:y}=zr;if(r&&[c,h,p,y].indexOf(u)>=0&&r!==this._joinRef())return;let x=this._onMessage(u,n,r);if(n&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(w=>{var E,k,R;return((E=w.filter)===null||E===void 0?void 0:E.event)==="*"||((R=(k=w.filter)===null||k===void 0?void 0:k.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===u}).map(w=>w.callback(x,r)):(o=this.bindings[u])===null||o===void 0||o.filter(w=>{var E,k,R,N,A,I,D,V;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in w){const Z=w.id,M=(E=w.filter)===null||E===void 0?void 0:E.event;return Z&&((k=n.ids)===null||k===void 0?void 0:k.includes(Z))&&(M==="*"||M?.toLocaleLowerCase()===((R=n.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))&&(!(!((N=w.filter)===null||N===void 0)&&N.table)||w.filter.table===((A=n.data)===null||A===void 0?void 0:A.table))}else{const Z=(D=(I=w?.filter)===null||I===void 0?void 0:I.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return Z==="*"||Z===((V=n?.event)===null||V===void 0?void 0:V.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===u}).map(w=>{if(typeof x=="object"&&"ids"in x){const E=x.data,{schema:k,table:R,commit_timestamp:N,type:A,errors:I}=E;x=Object.assign(Object.assign({},{schema:k,table:R,commit_timestamp:N,eventType:A,new:{},old:{},errors:I}),this._getPayloadRecords(E))}w.callback(x,r)})}_isClosed(){return this.state===Wt.closed}_isJoined(){return this.state===Wt.joined}_isJoining(){return this.state===Wt.joining}_isLeaving(){return this.state===Wt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&sl.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(zr.close,{},t)}_onError(t){this._on(zr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Wt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=U0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=U0(t.columns,t.old_record)),n}}const _m=()=>{},ih={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},YR=[1e3,2e3,5e3,1e4],XR=1e4,JR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class QR{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=xg,this.transport=null,this.heartbeatIntervalMs=ih.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_m,this.ref=0,this.reconnectTimer=null,this.vsn=$0,this.logger=_m,this.conn=null,this.sendBuffer=[],this.serializer=new UR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${wg.websocket}`,this.httpEndpoint=Zb(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=DR.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Is.connecting:return Do.Connecting;case Is.open:return Do.Open;case Is.closing:return Do.Closing;default:return Do.Closed}}isConnected(){return this.connectionState()===Do.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new sl(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,u=()=>{this.encode(t,c=>{var h;(h=this.conn)===null||h===void 0||h.send(c)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(VR,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ih.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",p)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:o,ref:u}=n,c=u?`(${u})`:"",h=o.status||"";this.log("receive",`${h} ${r} ${s} ${c}`.trim(),o),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(s,o,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Is.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Is.open||this.conn.readyState===Is.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(zr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([JR],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const o={access_token:n,version:BR};n&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(zr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Wb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ih.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,o,u,c,h,p,y,_,x,w;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:xg,this.heartbeatIntervalMs=(s=t?.heartbeatIntervalMs)!==null&&s!==void 0?s:ih.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(u=t?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(c=t?.heartbeatCallback)!==null&&c!==void 0?c:_m,this.vsn=(h=t?.vsn)!==null&&h!==void 0?h:$0,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=t?.reconnectAfterMs)!==null&&p!==void 0?p:(E=>YR[E-1]||XR),this.vsn){case Hb:this.encode=(y=t?.encode)!==null&&y!==void 0?y:((E,k)=>k(JSON.stringify(E))),this.decode=(_=t?.decode)!==null&&_!==void 0?_:((E,k)=>k(JSON.parse(E)));break;case FR:this.encode=(x=t?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(w=t?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var rc=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function eL(e,t,n){const r=new URL(t,e);if(n)for(const[s,o]of Object.entries(n))o!==void 0&&r.searchParams.set(s,o);return r.toString()}async function tL(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function nL(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:o,headers:u}){const c=eL(e.baseUrl,r,s),h=await tL(e.auth),p=await t(c,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...h,...u},body:o?JSON.stringify(o):void 0}),y=await p.text(),_=(p.headers.get("content-type")||"").includes("application/json"),x=_&&y?JSON.parse(y):y;if(!p.ok){const w=_?x:void 0,E=w?.error;throw new rc(E?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:E?.type,icebergCode:E?.code,details:w})}return{status:p.status,headers:p.headers,data:x}}}}function sh(e){return e.join("")}var rL=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:sh(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${sh(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${sh(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${sh(e.namespace)}`}),!0}catch(t){if(t instanceof rc&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof rc&&n.status===409)return;throw n}}};function Ha(e){return e.join("")}var iL=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ha(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ha(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ha(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ha(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ha(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ha(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof rc&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof rc&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},sL=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=nL({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new rL(this.client,t),this.tableOps=new iL(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},vf=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Ct(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var oL=class extends vf{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Sg=class extends vf{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const kv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),aL=()=>Response,Cg=e=>{if(Array.isArray(e))return e.map(n=>Cg(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Cg(r)}),t},lL=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},uL=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}function cL(e,t){if(ic(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dL(e){var t=cL(e,"string");return ic(t)=="symbol"?t:t+""}function hL(e,t,n){return(t=dL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G0(Object(n),!0).forEach(function(r){hL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const xm=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},fL=async(e,t,n)=>{e instanceof await aL()&&!n?.noResolveJson?e.json().then(r=>{const s=e.status||500,o=r?.statusCode||s+"";t(new oL(xm(r),s,o))}).catch(r=>{t(new Sg(xm(r),r))}):t(new Sg(xm(e),e))},pL=(e,t,n,r)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"||!r?s:(lL(r)?(s.headers=Ue({"Content-Type":"application/json"},t?.headers),s.body=JSON.stringify(r)):s.body=r,t?.duplex&&(s.duplex=t.duplex),Ue(Ue({},s),n))};async function Cc(e,t,n,r,s,o){return new Promise((u,c)=>{e(n,pL(t,r,s,o)).then(h=>{if(!h.ok)throw h;return r?.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>fL(h,c,r))})}async function sc(e,t,n,r){return Cc(e,"GET",t,n,r)}async function Mr(e,t,n,r,s){return Cc(e,"POST",t,r,s,n)}async function kg(e,t,n,r,s){return Cc(e,"PUT",t,r,s,n)}async function mL(e,t,n,r){return Cc(e,"HEAD",t,Ue(Ue({},n),{},{noResolveJson:!0}),r)}async function Pv(e,t,n,r,s){return Cc(e,"DELETE",t,r,s,n)}var gL=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ct(t))return{data:null,error:t};throw t}}};let qb;qb=Symbol.toStringTag;var vL=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[qb]="BlobDownloadBuilder",this.promise=null}asStream(){return new gL(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ct(t))return{data:null,error:t};throw t}}};const yL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Z0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var _L=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=kv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var s=this;try{let o;const u=Ue(Ue({},Z0),r);let c=Ue(Ue({},s.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),h&&o.append("metadata",s.encodeMetadata(h)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",u.cacheControl),h&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(h))):(o=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType,h&&(c["x-metadata"]=s.toBase64(s.encodeMetadata(h))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!u.duplex&&(u.duplex="half")),r?.headers&&(c=Ue(Ue({},c),r.headers));const p=s._removeEmptyFolders(t),y=s._getFinalPath(p),_=await(e=="PUT"?kg:Mr)(s.fetch,`${s.url}/object/${y}`,o,Ue({headers:c},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:_.Id,fullPath:_.Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ct(o))return{data:null,error:o};throw o}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const o=s._removeEmptyFolders(e),u=s._getFinalPath(o),c=new URL(s.url+`/object/upload/sign/${u}`);c.searchParams.set("token",t);try{let h;const p=Ue({upsert:Z0.upsert},r),y=Ue(Ue({},s.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",p.cacheControl)):(h=n,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType),{data:{path:o,fullPath:(await kg(s.fetch,c.toString(),h,{headers:y})).Key},error:null}}catch(h){if(s.shouldThrowOnError)throw h;if(Ct(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const s=Ue({},n.headers);t?.upsert&&(s["x-upsert"]="true");const o=await Mr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),u=new URL(n.url+o.url),c=u.searchParams.get("token");if(!c)throw new vf("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:c},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await Mr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Ct(s))return{data:null,error:s};throw s}}async copy(e,t,n){var r=this;try{return{data:{path:(await Mr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Ct(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,n){var r=this;try{let s=r._getFinalPath(e),o=await Mr(r.fetch,`${r.url}/object/sign/${s}`,Ue({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:r.headers});const u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${u}`)},{data:o,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Ct(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,n){var r=this;try{const s=await Mr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(u=>Ue(Ue({},u),{},{signedUrl:u.signedURL?encodeURI(`${r.url}${u.signedURL}${o}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Ct(s))return{data:null,error:s};throw s}}download(e,t){const n=typeof t?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(t?.transform||{}),s=r?`?${r}`:"",o=this._getFinalPath(e),u=()=>sc(this.fetch,`${this.url}/${n}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new vL(u,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:Cg(await sc(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await mL(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ct(r)&&r instanceof Sg){const s=r.originalError;if([400,404].includes(s?.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t?.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const o=typeof t?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(t?.transform||{});u!==""&&r.push(u);let c=r.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}async remove(e){var t=this;try{return{data:await Pv(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const s=Ue(Ue(Ue({},yL),t),{},{prefix:e||""});return{data:await Mr(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Ct(s))return{data:null,error:s};throw s}}async listV2(e,t){var n=this;try{const r=Ue({},e);return{data:await Mr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Kb="2.90.1",Yb={"X-Client-Info":`storage-js/${Kb}`};var xL=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const s=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Ue(Ue({},Yb),t),this.fetch=kv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await sc(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await sc(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await Mr(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await kg(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await Mr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Pv(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},wL=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ue(Ue({},Yb),t),this.fetch=kv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Mr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await sc(t.fetch,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Pv(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!uL(e))throw new vf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new sL({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,o){const u=s[o];return typeof u!="function"?u:async(...c)=>{try{return{data:await u.apply(s,c),error:null}}catch(h){if(r)throw h;return{data:null,error:h}}}}})}};const Ev={"X-Client-Info":`storage-js/${Kb}`,"Content-Type":"application/json"};var Xb=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Jn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var wm=class extends Xb{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},bL=class extends Xb{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Tv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),SL=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},q0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),CL=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const r=e.status||500,s=e;if(typeof s.json=="function")s.json().then(o=>{const u=o?.statusCode||o?.code||r+"";t(new wm(q0(o),r,u))}).catch(()=>{const o=r+"";t(new wm(s.statusText||`HTTP ${r} error`,r,o))});else{const o=r+"";t(new wm(s.statusText||`HTTP ${r} error`,r,o))}}else t(new bL(q0(e),e))},kL=(e,t,n,r)=>{const s={method:e,headers:t?.headers||{}};return r?(SL(r)?(s.headers=Ue({"Content-Type":"application/json"},t?.headers),s.body=JSON.stringify(r)):s.body=r,Ue(Ue({},s),n)):s};async function PL(e,t,n,r,s,o){return new Promise((u,c)=>{e(n,kL(t,r,s,o)).then(h=>{if(!h.ok)throw h;if(r?.noResolveJson)return h;const p=h.headers.get("content-type");return!p||!p.includes("application/json")?{}:h.json()}).then(h=>u(h)).catch(h=>CL(h,c,r))})}async function Qn(e,t,n,r,s){return PL(e,"POST",t,r,s,n)}var EL=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ue(Ue({},Ev),t),this.fetch=Tv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Qn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Jn(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await Qn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Jn(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await Qn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Jn(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await Qn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Jn(r))return{data:null,error:r};throw r}}},TL=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ue(Ue({},Ev),t),this.fetch=Tv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Qn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Jn(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await Qn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Jn(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Qn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Jn(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await Qn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Jn(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Qn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Jn(n))return{data:null,error:n};throw n}}},RL=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ue(Ue({},Ev),t),this.fetch=Tv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Qn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Jn(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Qn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Jn(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await Qn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Jn(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Qn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Jn(n))return{data:null,error:n};throw n}}},LL=class extends RL{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new NL(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},NL=class extends EL{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,Ue(Ue({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,Ue(Ue({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new AL(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},AL=class extends TL{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,Ue(Ue({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,Ue(Ue({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,Ue(Ue({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,Ue(Ue({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,Ue(Ue({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},jL=class extends xL{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new _L(this.url,this.headers,e,this.fetch)}get vectors(){return new LL(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new wL(this.url+"/iceberg",this.headers,this.fetch)}};const Jb="2.90.1",nl=30*1e3,Pg=3,bm=Pg*nl,IL="http://localhost:9999",OL="supabase.auth.token",ML={"X-Client-Info":`gotrue-js/${Jb}`},Eg="X-Supabase-Api-Version",Qb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},DL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zL=600*1e3;class oc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ie(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class BL extends oc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function FL(e){return Ie(e)&&e.name==="AuthApiError"}class zo extends oc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class qi extends oc{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Zn extends qi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function VL(e){return Ie(e)&&e.name==="AuthSessionMissingError"}class Wa extends qi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class oh extends qi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ah extends qi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $L(e){return Ie(e)&&e.name==="AuthImplicitGrantRedirectError"}class K0 extends qi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class UL extends qi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Tg extends qi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Sm(e){return Ie(e)&&e.name==="AuthRetryableFetchError"}class Y0 extends qi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Rg extends qi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),X0=` 	
\r=`.split(""),HL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<X0.length;t+=1)e[X0[t].charCodeAt(0)]=-2;for(let t=0;t<Bh.length;t+=1)e[Bh[t].charCodeAt(0)]=t;return e})();function J0(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Bh[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Bh[r]),t.queuedBits-=6}}function eS(e,t,n){const r=HL[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Q0(e){const t=[],n=u=>{t.push(String.fromCodePoint(u))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=u=>{ZL(u,r,n)};for(let u=0;u<e.length;u+=1)eS(e.charCodeAt(u),s,o);return t.join("")}function WL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function GL(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}WL(r,t)}}function ZL(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function dl(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)eS(e.charCodeAt(s),n,r);return new Uint8Array(t)}function qL(e){const t=[];return GL(e,n=>t.push(n)),new Uint8Array(t)}function Fo(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>J0(s,n,r)),J0(null,n,r),t.join("")}function KL(e){return Math.round(Date.now()/1e3)+e}function YL(){return Symbol("auth-callback")}const Qt=()=>typeof window<"u"&&typeof document<"u",Lo={tested:!1,writable:!1},tS=()=>{if(!Qt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Lo.tested)return Lo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Lo.tested=!0,Lo.writable=!0}catch{Lo.tested=!0,Lo.writable=!1}return Lo.writable};function XL(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const nS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),JL=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",rl=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},No=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Jt=async(e,t)=>{await e.removeItem(t)};class yf{constructor(){this.promise=new yf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}yf.promiseConstructor=Promise;function Cm(e){const t=e.split(".");if(t.length!==3)throw new Rg("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!DL.test(t[r]))throw new Rg("JWT not in base64url format");return{header:JSON.parse(Q0(t[0])),payload:JSON.parse(Q0(t[1])),signature:dl(t[2]),raw:{header:t[0],payload:t[1]}}}async function QL(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function eN(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const u=await e(o);if(!t(o,null,u)){r(u);return}}catch(u){if(!t(o,u)){s(u);return}}})()})}function tN(e){return("0"+e.toString(16)).substr(-2)}function nN(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,tN).join("")}async function rN(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function iN(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await rN(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ga(e,t,n=!1){const r=nN();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await rl(e,`${t}-code-verifier`,s);const o=await iN(r);return[o,r===o?"plain":"s256"]}const sN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function oN(e){const t=e.headers.get(Eg);if(!t||!t.match(sN))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function aN(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function lN(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const uN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Za(e){if(!uN.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function km(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function cN(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function ex(e){return JSON.parse(JSON.stringify(e))}const Oo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dN=[502,503,504];async function tx(e){var t;if(!JL(e))throw new Tg(Oo(e),0);if(dN.includes(e.status))throw new Tg(Oo(e),e.status);let n;try{n=await e.json()}catch(o){throw new zo(Oo(o),o)}let r;const s=oN(e);if(s&&s.getTime()>=Qb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Y0(Oo(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Zn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0))throw new Y0(Oo(n),e.status,n.weak_password.reasons);throw new BL(Oo(n),e.status||500,r)}const hN=(e,t,n,r)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function $e(e,t,n,r){var s;const o=Object.assign({},r?.headers);o[Eg]||(o[Eg]=Qb["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const u=(s=r?.query)!==null&&s!==void 0?s:{};r?.redirectTo&&(u.redirect_to=r.redirectTo);const c=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await fN(e,t,n+c,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(h):{data:Object.assign({},h),error:null}}async function fN(e,t,n,r,s,o){const u=hN(t,r,s,o);let c;try{c=await e(n,Object.assign({},u))}catch(h){throw console.error(h),new Tg(Oo(h),0)}if(c.ok||await tx(c),r?.noResolveJson)return c;try{return await c.json()}catch(h){await tx(h)}}function jr(e){var t;let n=null;gN(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=KL(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function nx(e){const t=jr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Os(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function pN(e){return{data:e,error:null}}function mN(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,u=Cl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},h=Object.assign({},u);return{data:{properties:c,user:h},error:null}}function rx(e){return e}function gN(e){return e.access_token&&e.refresh_token&&e.expires_in}const Pm=["global","local","others"];class vN{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=nS(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Pm[0]){if(Pm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pm.join(", ")}`);try{return await $e(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await $e(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Os})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Cl(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r?.newEmail,delete s.newEmail),await $e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:mN,redirectTo:n?.redirectTo})}catch(n){if(Ie(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Os})}catch(n){if(Ie(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,u,c,h;try{const p={nextPage:null,lastPage:0,total:0},y=await $e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:rx});if(y.error)throw y.error;const _=await y.json(),x=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(h=(c=y.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(E=>{const k=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(E.split(";")[1].split("=")[1]);p[`${R}Page`]=k}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(Ie(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){Za(t);try{return await $e(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Os})}catch(n){if(Ie(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Za(t);try{return await $e(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Os})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Za(t);try{return await $e(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Os})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Za(t.userId);try{const{data:n,error:r}=await $e(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Za(t.userId),Za(t.id);try{return{data:await $e(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,o,u,c,h;try{const p={nextPage:null,lastPage:0,total:0},y=await $e(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:rx});if(y.error)throw y.error;const _=await y.json(),x=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(h=(c=y.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(E=>{const k=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(E.split(";")[1].split("=")[1]);p[`${R}Page`]=k}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(Ie(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await $e(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await $e(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await $e(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}}function ix(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const qa={debug:!!(globalThis&&tS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class rS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class yN extends rS{}async function _N(e,t,n){qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),qa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new yN(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(qa.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function xN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function iS(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function wN(e){return parseInt(e,16)}function bN(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function SN(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:o=new Date,nonce:u,notBefore:c,requestId:h,resources:p,scheme:y,uri:_,version:x}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const w=iS(e.address),E=y?`${y}://${r}`:r,k=e.statement?`${e.statement}
`:"",R=`${E} wants you to sign in with your Ethereum account:
${w}

${k}`;let N=`URI: ${_}
Version: ${x}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${o.toISOString()}`;if(s&&(N+=`
Expiration Time: ${s.toISOString()}`),c&&(N+=`
Not Before: ${c.toISOString()}`),h&&(N+=`
Request ID: ${h}`),p){let A=`
Resources:`;for(const I of p){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);A+=`
- ${I}`}N+=A}return`${R}
${N}`}class Dt extends Error{constructor({message:t,code:n,cause:r,name:s}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=s??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Fh extends Dt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function CN({error:e,options:t}){var n,r,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Dt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Dt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Dt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Dt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Dt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Dt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Dt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Dt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const u=window.location.hostname;if(sS(u)){if(o.rp.id!==u)return new Dt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Dt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Dt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function kN({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Dt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Dt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(sS(r)){if(n.rpId!==r)return new Dt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Dt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class PN{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const EN=new PN;function TN(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Cl(e,["challenge","user","excludeCredentials"]),o=dl(t).buffer,u=Object.assign(Object.assign({},n),{id:dl(n.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:o,user:u});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let h=0;h<r.length;h++){const p=r[h];c.excludeCredentials[h]=Object.assign(Object.assign({},p),{id:dl(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return c}function RN(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Cl(e,["challenge","allowCredentials"]),s=dl(t).buffer,o=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const c=n[u];o.allowCredentials[u]=Object.assign(Object.assign({},c),{id:dl(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function LN(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Fo(new Uint8Array(e.response.attestationObject)),clientDataJSON:Fo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function NN(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Fo(new Uint8Array(s.authenticatorData)),clientDataJSON:Fo(new Uint8Array(s.clientDataJSON)),signature:Fo(new Uint8Array(s.signature)),userHandle:s.userHandle?Fo(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function sS(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function sx(){var e,t;return!!(Qt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function AN(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Fh("Browser returned unexpected credential type",t)}:{data:null,error:new Fh("Empty credential response",t)}}catch(t){return{data:null,error:CN({error:t,options:e})}}}async function jN(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Fh("Browser returned unexpected credential type",t)}:{data:null,error:new Fh("Empty credential response",t)}}catch(t){return{data:null,error:kN({error:t,options:e})}}}const IN={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ON={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Vh(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const o in s){const u=s[o];if(u!==void 0)if(Array.isArray(u))r[o]=u;else if(n(u))r[o]=u;else if(t(u)){const c=r[o];t(c)?r[o]=Vh(c,u):r[o]=Vh(u)}else r[o]=u}return r}function MN(e,t){return Vh(IN,e,t||{})}function DN(e,t){return Vh(ON,e,t||{})}class zN{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},o){try{const{data:u,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!u)return{data:null,error:c};const h=s??EN.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${r}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=MN(u.webauthn.credential_options.publicKey,o?.create),{data:y,error:_}=await AN({publicKey:p,signal:h});return y?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:_}}case"request":{const p=DN(u.webauthn.credential_options.publicKey,o?.request),{data:y,error:_}=await jN(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:h}));return y?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:_}}}}catch(u){return Ie(u)?{data:null,error:u}:{data:null,error:new zo("Unexpected error in challenge",u)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new oc("rpId is required for WebAuthn authentication")};try{if(!sx())return{data:null,error:new zo("Browser does not support WebAuthn",null)};const{data:u,error:c}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:o});if(!u)return{data:null,error:c};const{webauthn:h}=u;return this._verify({factorId:t,challengeId:u.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:r,credential_response:h.credential_response}})}catch(u){return Ie(u)?{data:null,error:u}:{data:null,error:new zo("Unexpected error in authenticate",u)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new oc("rpId is required for WebAuthn registration")};try{if(!sx())return{data:null,error:new zo("Browser does not support WebAuthn",null)};const{data:u,error:c}=await this._enroll({friendlyName:t});if(!u)return await this.client.mfa.listFactors().then(y=>{var _;return(_=y.data)===null||_===void 0?void 0:_.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===t&&x.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:c};const{data:h,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:o});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:r,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:p}}catch(u){return Ie(u)?{data:null,error:u}:{data:null,error:new zo("Unexpected error in register",u)}}}}xN();const BN={url:IL,storageKey:OL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ML,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function ox(e,t,n){return await n()}const Ka={};class ac{get jwks(){var t,n;return(n=(t=Ka[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ka[this.storageKey]=Object.assign(Object.assign({},Ka[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ka[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ka[this.storageKey]=Object.assign(Object.assign({},Ka[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},BN),t);if(this.storageKey=o.storageKey,this.instanceID=(n=ac.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ac.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Qt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new vN({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=nS(o.fetch),this.lock=o.lock||ox,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&Qt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=_N:this.lock=ox,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new zN(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:tS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ix(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=ix(this.memoryStorage)),Qt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Jb}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Qt()&&(n=XL(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Qt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),$L(o)){const h=(t=o.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:u,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",u,"redirect type",c),await this._saveSession(u),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ie(n)?this._returnResult({error:n}):this._returnResult({error:new zo("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t?.options)===null||s===void 0?void 0:s.captchaToken}},xform:jr}),{data:u,error:c}=o;if(c||!u)return this._returnResult({data:{user:null,session:null},error:c});const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(o){if(Ie(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:y,password:_,options:x}=t;let w=null,E=null;this.flowType==="pkce"&&([w,E]=await Ga(this.storage,this.storageKey)),o=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:y,password:_,data:(n=x?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:w,code_challenge_method:E},xform:jr})}else if("phone"in t){const{phone:y,password:_,options:x}=t;o=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:_,data:(r=x?.data)!==null&&r!==void 0?r:{},channel:(s=x?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:jr})}else throw new oh("You must provide either an email or phone number and a password");const{data:u,error:c}=o;if(c||!u)return await Jt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(o){if(await Jt(this.storage,`${this.storageKey}-code-verifier`),Ie(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:u,options:c}=t;n=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:nx})}else if("phone"in t){const{phone:o,password:u,options:c}=t;n=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:nx})}else throw new oh("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const o=new Wa;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,o,u,c,h,p,y,_,x;let w,E;if("message"in t)w=t.message,E=t.signature;else{const{chain:k,wallet:R,statement:N,options:A}=t;let I;if(Qt())if(typeof R=="object")I=R;else{const ee=window;if("ethereum"in ee&&typeof ee.ethereum=="object"&&"request"in ee.ethereum&&typeof ee.ethereum.request=="function")I=ee.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=R}const D=new URL((n=A?.url)!==null&&n!==void 0?n:window.location.href),V=await I.request({method:"eth_requestAccounts"}).then(ee=>ee).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!V||V.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Z=iS(V[0]);let M=(r=A?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!M){const ee=await I.request({method:"eth_chainId"});M=wN(ee)}const B={domain:D.host,address:Z,statement:N,uri:D.href,version:"1",chainId:M,nonce:(s=A?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(u=(o=A?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(c=A?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(h=A?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(p=A?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(y=A?.signInWithEthereum)===null||y===void 0?void 0:y.resources};w=SN(B),E=await I.request({method:"personal_sign",params:[bN(w),Z]})}try{const{data:k,error:R}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:E},!((_=t.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:jr});if(R)throw R;if(!k||!k.session||!k.user){const N=new Wa;return this._returnResult({data:{user:null,session:null},error:N})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:R})}catch(k){if(Ie(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(t){var n,r,s,o,u,c,h,p,y,_,x,w;let E,k;if("message"in t)E=t.message,k=t.signature;else{const{chain:R,wallet:N,statement:A,options:I}=t;let D;if(Qt())if(typeof N=="object")D=N;else{const Z=window;if("solana"in Z&&typeof Z.solana=="object"&&("signIn"in Z.solana&&typeof Z.solana.signIn=="function"||"signMessage"in Z.solana&&typeof Z.solana.signMessage=="function"))D=Z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=N}const V=new URL((n=I?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in D&&D.signIn){const Z=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I?.signInWithSolana),{version:"1",domain:V.host,uri:V.href}),A?{statement:A}:null));let M;if(Array.isArray(Z)&&Z[0]&&typeof Z[0]=="object")M=Z[0];else if(Z&&typeof Z=="object"&&"signedMessage"in Z&&"signature"in Z)M=Z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)E=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),k=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${V.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${V.href}`,`Issued At: ${(s=(r=I?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=I?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((u=I?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((c=I?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((h=I?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((p=I?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((_=(y=I?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||_===void 0)&&_.length?["Resources",...I.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const Z=await D.signMessage(new TextEncoder().encode(E),"utf8");if(!Z||!(Z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=Z}}try{const{data:R,error:N}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Fo(k)},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:jr});if(N)throw N;if(!R||!R.session||!R.user){const A=new Wa;return this._returnResult({data:{user:null,session:null},error:A})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:N})}catch(R){if(Ie(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async _exchangeCodeForSession(t){const n=await No(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new UL;const{data:o,error:u}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:jr});if(await Jt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!o||!o.session||!o.user){const c=new Wa;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:u})}catch(o){if(await Jt(this.storage,`${this.storageKey}-code-verifier`),Ie(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:u}=t,c=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:jr}),{data:h,error:p}=c;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h||!h.session||!h.user){const y=new Wa;return this._returnResult({data:{user:null,session:null},error:y})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:p})}catch(n){if(Ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,o,u;try{if("email"in t){const{email:c,options:h}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Ga(this.storage,this.storageKey));const{error:_}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=h?.data)!==null&&n!==void 0?n:{},create_user:(r=h?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in t){const{phone:c,options:h}=t,{data:p,error:y}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=h?.data)!==null&&s!==void 0?s:{},create_user:(o=h?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:y})}throw new oh("You must provide either an email or phone number.")}catch(c){if(await Jt(this.storage,`${this.storageKey}-code-verifier`),Ie(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:c}=await $e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:jr});if(c)throw c;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,p=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(s){if(Ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,o,u;try{let c=null,h=null;this.flowType==="pkce"&&([c,h]=await Ga(this.storage,this.storageKey));const p=await $e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:h}),headers:this.headers,xform:pN});return!((o=p.data)===null||o===void 0)&&o.url&&Qt()&&!(!((u=t.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(c){if(await Jt(this.storage,`${this.storageKey}-code-verifier`),Ie(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Zn;const{error:s}=await $e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Ie(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:u}=await $e(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:u,error:c}=await $e(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:c})}throw new oh("You must provide either an email or phone number and a type")}catch(n){if(Ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await No(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<bm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const u=await No(this.userStorage,this.storageKey+"-user");u?.user?t.user=u.user:t.user=km()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};t.user=cN(t.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Os}):await this._useSession(async n=>{var r,s,o;const{data:u,error:c}=n;if(c)throw c;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zn}:await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Os})})}catch(n){if(Ie(n))return VL(n)&&(await this._removeSession(),await Jt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new Zn;const u=s.session;let c=null,h=null;this.flowType==="pkce"&&t.email!=null&&([c,h]=await Ga(this.storage,this.storageKey));const{data:p,error:y}=await $e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:h}),jwt:u.access_token,xform:Os});if(y)throw y;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(r){if(await Jt(this.storage,`${this.storageKey}-code-verifier`),Ie(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Zn;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:u}=Cm(t.access_token);if(u.exp&&(r=u.exp,s=r<=n),s){const{data:c,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:h}=await this._getUser(t.access_token);if(h)throw h;o={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(Ie(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:u,error:c}=n;if(c)throw c;t=(r=u.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new Zn;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Qt())throw new ah("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ah(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new K0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ah("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new K0("No code detected.");const{data:A,error:I}=await this._exchangeCodeForSession(t.code);if(I)throw I;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:u,expires_in:c,expires_at:h,token_type:p}=t;if(!o||!c||!u||!p)throw new ah("No session defined in URL");const y=Math.round(Date.now()/1e3),_=parseInt(c);let x=y+_;h&&(x=parseInt(h));const w=x-y;w*1e3<=nl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${_}s`);const E=x-_;y-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,x,y):y-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,x,y);const{data:k,error:R}=await this._getUser(o);if(R)throw R;const N={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:_,expires_at:x,refresh_token:u,token_type:p,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:t.type},error:null})}catch(r){if(Ie(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await No(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({error:o});const u=(r=s.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:c}=await this.admin.signOut(u,t);if(c&&!(FL(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await Jt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=YL(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:u}=n;if(u)throw u;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ga(this.storage,this.storageKey,!0));try{return await $e(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await Jt(this.storage,`${this.storageKey}-code-verifier`),Ie(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var u,c,h,p,y;const{data:_,error:x}=o;if(x)throw x;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await $e(this.fetch,"GET",w,{headers:this.headers,jwt:(y=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(s)throw s;return Qt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(Ie(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:o}}=n;if(s)throw s;const{options:u,provider:c,token:h,access_token:p,nonce:y}=t,_=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:h,access_token:p,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:jr}),{data:x,error:w}=_;return w?this._returnResult({data:{user:null,session:null},error:w}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new Wa}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:w}))}catch(s){if(await Jt(this.storage,`${this.storageKey}-code-verifier`),Ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:u}=n;if(u)throw u;return await $e(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await eN(async s=>(s>0&&await QL(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await $e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:jr})),(s,o)=>{const u=200*Math.pow(2,s);return o&&Sm(o)&&Date.now()+u-r<nl})}catch(r){if(this._debug(n,"error",r),Ie(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Qt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await No(this.storage,this.storageKey);if(s&&this.userStorage){let u=await No(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:s.user},await rl(this.userStorage,this.storageKey+"-user",u)),s.user=(t=u?.user)!==null&&t!==void 0?t:km()}else if(s&&!s.user&&!s.user){const u=await No(this.storage,this.storageKey+"-user");u&&u?.user?(s.user=u.user,await Jt(this.storage,this.storageKey+"-user"),await rl(this.storage,this.storageKey,s)):s.user=km()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<bm;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${bm}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:u}=await this._callRefreshToken(s.refresh_token);u&&(console.error(u),Sm(u)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:c}=await this._getUser(s.access_token);!c&&u?.user?(s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(r,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Zn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new yf;const{data:o,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!o.session)throw new Zn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={data:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(s,"error",o),Ie(o)){const u={data:null,error:o};return Sm(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],u=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(h){o.push(h)}});if(await Promise.all(u),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Jt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await rl(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=ex(s);await rl(this.storage,this.storageKey,o)}else{const s=ex(n);await rl(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Jt(this.storage,this.storageKey),await Jt(this.storage,this.storageKey+"-code-verifier"),await Jt(this.storage,this.storageKey+"-user"),this.userStorage&&await Jt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Qt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),nl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/nl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${nl}ms, refresh threshold is ${Pg} ticks`),s<=Pg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof rS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,u]=await Ga(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(u)}`});s.push(c.toString())}if(r?.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r?.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?this._returnResult({data:null,error:o}):await $e(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:u}=n;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:h,error:p}=await $e(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(t.factorType==="totp"&&h.type==="totp"&&(!((s=h?.totp)===null||s===void 0)&&s.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const u=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?LN(t.webauthn.credential_response):NN(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:h}=await $e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:u,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:h}))})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const u=await $e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});if(u.error)return u;const{data:c}=u;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:TN(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:RN(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n?.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Cm(r.access_token);let u=null;o.aal&&(u=o.aal);let c=u;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const p=o.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await $e(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Zn})})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Zn});const u=await $e(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return u.data&&u.data.redirect_url&&Qt()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Zn});const u=await $e(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return u.data&&u.data.redirect_url&&Qt()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await $e(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Zn})})}catch(t){if(Ie(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await $e(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Zn})})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(c=>c.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(c=>c.kid===t),r&&this.jwks_cached_at+zL>s)return r;const{data:o,error:u}=await $e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(c=>c.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:w,error:E}=await this.getSession();if(E||!w.session)return this._returnResult({data:null,error:E});r=w.session.access_token}const{header:s,payload:o,signature:u,raw:{header:c,payload:h}}=Cm(r);n?.allowExpired||aN(o.exp);const p=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!p){const{error:w}=await this.getUser(r);if(w)throw w;return{data:{claims:o,header:s,signature:u},error:null}}const y=lN(s.alg),_=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,_,u,qL(`${c}.${h}`)))throw new Rg("Invalid JWT signature");return{data:{claims:o,header:s,signature:u},error:null}}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}}ac.nextInstanceID={};const FN=ac,VN="2.90.1";let zu="";typeof Deno<"u"?zu="deno":typeof document<"u"?zu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zu="react-native":zu="node";const $N={"X-Client-Info":`supabase-js-${zu}/${VN}`},UN={headers:$N},HN={schema:"public"},WN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},GN={};function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(e)}function ZN(e,t){if(lc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qN(e){var t=ZN(e,"string");return lc(t)=="symbol"?t:t+""}function KN(e,t,n){return(t=qN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ax(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ax(Object(n),!0).forEach(function(r){KN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ax(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const YN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),XN=()=>Headers,JN=(e,t,n)=>{const r=YN(n),s=XN();return async(o,u)=>{var c;const h=(c=await t())!==null&&c!==void 0?c:e;let p=new s(u?.headers);return p.has("apikey")||p.set("apikey",e),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),r(o,Rt(Rt({},u),{},{headers:p}))}};function QN(e){return e.endsWith("/")?e:e+"/"}function eA(e,t){var n,r;const{db:s,auth:o,realtime:u,global:c}=e,{db:h,auth:p,realtime:y,global:_}=t,x={db:Rt(Rt({},h),s),auth:Rt(Rt({},p),o),realtime:Rt(Rt({},y),u),storage:{},global:Rt(Rt(Rt({},_),c),{},{headers:Rt(Rt({},(n=_?.headers)!==null&&n!==void 0?n:{}),(r=c?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?x.accessToken=e.accessToken:delete x.accessToken,x}function tA(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(QN(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var nA=class extends FN{constructor(e){super(e)}},rA=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const o=tA(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const u=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:HN,realtime:GN,auth:Rt(Rt({},WN),{},{storageKey:u}),global:UN},h=eA(n??{},c);if(this.storageKey=(r=h.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(y,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=h.auth)!==null&&p!==void 0?p:{},this.headers,h.global.fetch)}this.fetch=JN(t,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Rt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new MR(new URL("rest/v1",o).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new jL(this.storageUrl.href,this.headers,this.fetch,n?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new NR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:o,flowType:u,lock:c,debug:h,throwOnError:p},y,_){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nA({url:this.authUrl.href,headers:Rt(Rt({},x),y),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:u,lock:c,debug:h,throwOnError:p,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new QR(this.realtimeUrl.href,Rt(Rt({},e),{},{params:Rt(Rt({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const oS=(e,t,n)=>new rA(e,t,n);function iA(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}iA()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const sA="https://ipegpbgcektdtbnfvhvc.supabase.co",oA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlwZWdwYmdjZWt0ZHRibmZ2aHZjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwOTYzNjMsImV4cCI6MjA4MDY3MjM2M30.FHe6qYLmqvvTjRbKQQqHWNpsDbCBCeT9hPMgnAyE2bE",ju=oS(sA,oA),aS=C.createContext(),lx={user:{map:!0,surveys:!0,financials:!1,performance:!0,tickets:!0,stats:!1,settings:!0,style_lab:!1},admin:{map:!0,surveys:!0,financials:!0,performance:!0,tickets:!0,stats:!0,settings:!0,style_lab:!0}};function aA({children:e}){const[t,n]=C.useState(null),[r,s]=C.useState(!0),[o,u]=C.useState(null),[c,h]=C.useState(null);C.useEffect(()=>{ju.auth.getSession().then(({data:{session:w}})=>{w?(n(w.user),p(w.user)):s(!1)});const{data:{subscription:x}}=ju.auth.onAuthStateChange((w,E)=>{E?(n(E.user),p(E.user)):(n(null),u(null),h(null),s(!1))});return()=>x.unsubscribe()},[]);const p=async x=>{if(x)try{let{data:w,error:E}=await ju.from("profiles").select("*").eq("id",x.id).single();if(E&&E.code==="PGRST116"){const k=x.email||"",R=k.includes("admin")?"admin":"user",N=k.split("@")[0].replace("."," ").toUpperCase(),A={id:x.id,role:R,full_name:N||"System User",permissions:lx[R]};u(A),h(A.permissions)}else w&&(u(w),h(w.permissions||lx[w.role||"user"]))}catch(w){console.error("Error fetching profile:",w)}finally{s(!1)}},y=async(x,w)=>{const{data:E,error:k}=await ju.auth.signInWithPassword({email:x,password:w});if(k)throw k;return E},_=async()=>{try{await ju.auth.signOut(),localStorage.clear(),sessionStorage.clear(),n(null),u(null),h(null),window.location.href="/"}catch(x){console.error("Logout error:",x),n(null),window.location.href="/"}};return m.jsx(aS.Provider,{value:{user:t,profile:o,permissions:c,loading:r,login:y,logout:_,isAdmin:o?.role==="admin"},children:e})}function kc(){const e=C.useContext(aS);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}var lA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),De=(e,t)=>{const n=C.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:u,className:c="",children:h,...p},y)=>C.createElement("svg",{ref:y,...lA,width:s,height:s,stroke:r,strokeWidth:u?Number(o)*24/Number(s):o,className:["lucide",`lucide-${uA(e)}`,c].join(" "),...p},[...t.map(([_,x])=>C.createElement(_,x)),...Array.isArray(h)?h:[h]]));return n.displayName=`${e}`,n};const cA=De("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const Wo=De("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const dA=De("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);const hA=De("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const lS=De("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const fA=De("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const pA=De("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const $h=De("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Dr=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Ku=De("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const hl=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const si=De("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const mA=De("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);const gA=De("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);const vA=De("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);const yA=De("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const uS=De("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const cS=De("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const _A=De("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const xA=De("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const wA=De("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const dS=De("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const bA=De("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const SA=De("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const ux=De("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const CA=De("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const hS=De("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const Pc=De("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const fS=De("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const pS=De("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const kA=De("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const PA=De("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const mS=De("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const Lg=De("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);const EA=De("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);const TA=De("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const gS=De("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const RA=De("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]);const Em=De("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const LA=De("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);const cx=De("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const NA=De("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const Rv=De("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const uc=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const vS=De("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Ng=De("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const yS=De("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);const dx=De("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const AA=De("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);const jA=De("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const IA=De("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const OA=De("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);const Ag=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const MA=De("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Lv=C.createContext({});function Nv(e){const t=C.useRef(null);return t.current===null&&(t.current=e()),t.current}const _S=typeof window<"u",xS=_S?C.useLayoutEffect:C.useEffect,_f=C.createContext(null);function Av(e,t){e.indexOf(t)===-1&&e.push(t)}function jv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ci=(e,t,n)=>n>t?t:n<e?e:n;let Iv=()=>{};const Hi={},wS=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function bS(e){return typeof e=="object"&&e!==null}const SS=e=>/^0[^.\s]+$/u.test(e);function Ov(e){let t;return()=>(t===void 0&&(t=e()),t)}const _r=e=>e,DA=(e,t)=>n=>t(e(n)),Ec=(...e)=>e.reduce(DA),cc=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Mv{constructor(){this.subscriptions=[]}add(t){return Av(this.subscriptions,t),()=>jv(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let o=0;o<s;o++){const u=this.subscriptions[o];u&&u(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ui=e=>e*1e3,yr=e=>e/1e3;function CS(e,t){return t?e*(1e3/t):0}const kS=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,zA=1e-7,BA=12;function FA(e,t,n,r,s){let o,u,c=0;do u=t+(n-t)/2,o=kS(u,r,s)-e,o>0?n=u:t=u;while(Math.abs(o)>zA&&++c<BA);return u}function Tc(e,t,n,r){if(e===t&&n===r)return _r;const s=o=>FA(o,0,1,e,n);return o=>o===0||o===1?o:kS(s(o),t,r)}const PS=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ES=e=>t=>1-e(1-t),TS=Tc(.33,1.53,.69,.99),Dv=ES(TS),RS=PS(Dv),LS=e=>(e*=2)<1?.5*Dv(e):.5*(2-Math.pow(2,-10*(e-1))),zv=e=>1-Math.sin(Math.acos(e)),NS=ES(zv),AS=PS(zv),VA=Tc(.42,0,1,1),$A=Tc(0,0,.58,1),jS=Tc(.42,0,.58,1),UA=e=>Array.isArray(e)&&typeof e[0]!="number",IS=e=>Array.isArray(e)&&typeof e[0]=="number",HA={linear:_r,easeIn:VA,easeInOut:jS,easeOut:$A,circIn:zv,circInOut:AS,circOut:NS,backIn:Dv,backInOut:RS,backOut:TS,anticipate:LS},WA=e=>typeof e=="string",hx=e=>{if(IS(e)){Iv(e.length===4);const[t,n,r,s]=e;return Tc(t,n,r,s)}else if(WA(e))return HA[e];return e},lh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function GA(e,t){let n=new Set,r=new Set,s=!1,o=!1;const u=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function h(y){u.has(y)&&(p.schedule(y),e()),y(c)}const p={schedule:(y,_=!1,x=!1)=>{const E=x&&s?n:r;return _&&u.add(y),E.has(y)||E.add(y),y},cancel:y=>{r.delete(y),u.delete(y)},process:y=>{if(c=y,s){o=!0;return}s=!0,[n,r]=[r,n],n.forEach(h),n.clear(),s=!1,o&&(o=!1,p.process(y))}};return p}const ZA=40;function OS(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,u=lh.reduce((I,D)=>(I[D]=GA(o),I),{}),{setup:c,read:h,resolveKeyframes:p,preUpdate:y,update:_,preRender:x,render:w,postRender:E}=u,k=()=>{const I=Hi.useManualTiming?s.timestamp:performance.now();n=!1,Hi.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(I-s.timestamp,ZA),1)),s.timestamp=I,s.isProcessing=!0,c.process(s),h.process(s),p.process(s),y.process(s),_.process(s),x.process(s),w.process(s),E.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(k))},R=()=>{n=!0,r=!0,s.isProcessing||e(k)};return{schedule:lh.reduce((I,D)=>{const V=u[D];return I[D]=(Z,M=!1,B=!1)=>(n||R(),V.schedule(Z,M,B)),I},{}),cancel:I=>{for(let D=0;D<lh.length;D++)u[lh[D]].cancel(I)},state:s,steps:u}}const{schedule:yt,cancel:$s,state:en,steps:Tm}=OS(typeof requestAnimationFrame<"u"?requestAnimationFrame:_r,!0);let kh;function qA(){kh=void 0}const Sn={now:()=>(kh===void 0&&Sn.set(en.isProcessing||Hi.useManualTiming?en.timestamp:performance.now()),kh),set:e=>{kh=e,queueMicrotask(qA)}},MS=e=>t=>typeof t=="string"&&t.startsWith(e),DS=MS("--"),KA=MS("var(--"),Bv=e=>KA(e)?YA.test(e.split("/*")[0].trim()):!1,YA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function fx(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const kl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},dc={...kl,transform:e=>ci(0,1,e)},uh={...kl,default:1},Yu=e=>Math.round(e*1e5)/1e5,Fv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function XA(e){return e==null}const JA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Vv=(e,t)=>n=>!!(typeof n=="string"&&JA.test(n)&&n.startsWith(e)||t&&!XA(n)&&Object.prototype.hasOwnProperty.call(n,t)),zS=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,o,u,c]=r.match(Fv);return{[e]:parseFloat(s),[t]:parseFloat(o),[n]:parseFloat(u),alpha:c!==void 0?parseFloat(c):1}},QA=e=>ci(0,255,e),Rm={...kl,transform:e=>Math.round(QA(e))},Vo={test:Vv("rgb","red"),parse:zS("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Rm.transform(e)+", "+Rm.transform(t)+", "+Rm.transform(n)+", "+Yu(dc.transform(r))+")"};function ej(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const jg={test:Vv("#"),parse:ej,transform:Vo.transform},Rc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),As=Rc("deg"),li=Rc("%"),ke=Rc("px"),tj=Rc("vh"),nj=Rc("vw"),px={...li,parse:e=>li.parse(e)/100,transform:e=>li.transform(e*100)},ol={test:Vv("hsl","hue"),parse:zS("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+li.transform(Yu(t))+", "+li.transform(Yu(n))+", "+Yu(dc.transform(r))+")"},zt={test:e=>Vo.test(e)||jg.test(e)||ol.test(e),parse:e=>Vo.test(e)?Vo.parse(e):ol.test(e)?ol.parse(e):jg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Vo.transform(e):ol.transform(e),getAnimatableNone:e=>{const t=zt.parse(e);return t.alpha=0,zt.transform(t)}},rj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ij(e){return isNaN(e)&&typeof e=="string"&&(e.match(Fv)?.length||0)+(e.match(rj)?.length||0)>0}const BS="number",FS="color",sj="var",oj="var(",mx="${}",aj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hc(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const c=t.replace(aj,h=>(zt.test(h)?(r.color.push(o),s.push(FS),n.push(zt.parse(h))):h.startsWith(oj)?(r.var.push(o),s.push(sj),n.push(h)):(r.number.push(o),s.push(BS),n.push(parseFloat(h))),++o,mx)).split(mx);return{values:n,split:c,indexes:r,types:s}}function VS(e){return hc(e).values}function $S(e){const{split:t,types:n}=hc(e),r=t.length;return s=>{let o="";for(let u=0;u<r;u++)if(o+=t[u],s[u]!==void 0){const c=n[u];c===BS?o+=Yu(s[u]):c===FS?o+=zt.transform(s[u]):o+=s[u]}return o}}const lj=e=>typeof e=="number"?0:zt.test(e)?zt.getAnimatableNone(e):e;function uj(e){const t=VS(e);return $S(e)(t.map(lj))}const Us={test:ij,parse:VS,createTransformer:$S,getAnimatableNone:uj};function Lm(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function cj({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,o=0,u=0;if(!t)s=o=u=n;else{const c=n<.5?n*(1+t):n+t-n*t,h=2*n-c;s=Lm(h,c,e+1/3),o=Lm(h,c,e),u=Lm(h,c,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:r}}function Uh(e,t){return n=>n>0?t:e}const kt=(e,t,n)=>e+(t-e)*n,Nm=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},dj=[jg,Vo,ol],hj=e=>dj.find(t=>t.test(e));function gx(e){const t=hj(e);if(!t)return!1;let n=t.parse(e);return t===ol&&(n=cj(n)),n}const vx=(e,t)=>{const n=gx(e),r=gx(t);if(!n||!r)return Uh(e,t);const s={...n};return o=>(s.red=Nm(n.red,r.red,o),s.green=Nm(n.green,r.green,o),s.blue=Nm(n.blue,r.blue,o),s.alpha=kt(n.alpha,r.alpha,o),Vo.transform(s))},Ig=new Set(["none","hidden"]);function fj(e,t){return Ig.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function pj(e,t){return n=>kt(e,t,n)}function $v(e){return typeof e=="number"?pj:typeof e=="string"?Bv(e)?Uh:zt.test(e)?vx:vj:Array.isArray(e)?US:typeof e=="object"?zt.test(e)?vx:mj:Uh}function US(e,t){const n=[...e],r=n.length,s=e.map((o,u)=>$v(o)(o,t[u]));return o=>{for(let u=0;u<r;u++)n[u]=s[u](o);return n}}function mj(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=$v(e[s])(e[s],t[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function gj(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],u=e.indexes[o][r[o]],c=e.values[u]??0;n[s]=c,r[o]++}return n}const vj=(e,t)=>{const n=Us.createTransformer(t),r=hc(e),s=hc(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Ig.has(e)&&!s.values.length||Ig.has(t)&&!r.values.length?fj(e,t):Ec(US(gj(r,s),s.values),n):Uh(e,t)};function HS(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?kt(e,t,n):$v(e)(e,t)}const yj=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>yt.update(t,n),stop:()=>$s(t),now:()=>en.isProcessing?en.timestamp:Sn.now()}},WS=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let o=0;o<s;o++)r+=Math.round(e(o/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Hh=2e4;function Uv(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Hh;)t+=n,r=e.next(t);return t>=Hh?1/0:t}function _j(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(Uv(r),Hh);return{type:"keyframes",ease:o=>r.next(s*o).value/t,duration:yr(s)}}const xj=5;function GS(e,t,n){const r=Math.max(t-xj,0);return CS(n-e(r),t-r)}const Lt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Am=.001;function wj({duration:e=Lt.duration,bounce:t=Lt.bounce,velocity:n=Lt.velocity,mass:r=Lt.mass}){let s,o,u=1-t;u=ci(Lt.minDamping,Lt.maxDamping,u),e=ci(Lt.minDuration,Lt.maxDuration,yr(e)),u<1?(s=p=>{const y=p*u,_=y*e,x=y-n,w=Og(p,u),E=Math.exp(-_);return Am-x/w*E},o=p=>{const _=p*u*e,x=_*n+n,w=Math.pow(u,2)*Math.pow(p,2)*e,E=Math.exp(-_),k=Og(Math.pow(p,2),u);return(-s(p)+Am>0?-1:1)*((x-w)*E)/k}):(s=p=>{const y=Math.exp(-p*e),_=(p-n)*e+1;return-Am+y*_},o=p=>{const y=Math.exp(-p*e),_=(n-p)*(e*e);return y*_});const c=5/e,h=Sj(s,o,c);if(e=Ui(e),isNaN(h))return{stiffness:Lt.stiffness,damping:Lt.damping,duration:e};{const p=Math.pow(h,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:e}}}const bj=12;function Sj(e,t,n){let r=n;for(let s=1;s<bj;s++)r=r-e(r)/t(r);return r}function Og(e,t){return e*Math.sqrt(1-t*t)}const Cj=["duration","bounce"],kj=["stiffness","damping","mass"];function yx(e,t){return t.some(n=>e[n]!==void 0)}function Pj(e){let t={velocity:Lt.velocity,stiffness:Lt.stiffness,damping:Lt.damping,mass:Lt.mass,isResolvedFromDuration:!1,...e};if(!yx(e,kj)&&yx(e,Cj))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,o=2*ci(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Lt.mass,stiffness:s,damping:o}}else{const n=wj(e);t={...t,...n,mass:Lt.mass},t.isResolvedFromDuration=!0}return t}function Wh(e=Lt.visualDuration,t=Lt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const o=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:h,damping:p,mass:y,duration:_,velocity:x,isResolvedFromDuration:w}=Pj({...n,velocity:-yr(n.velocity||0)}),E=x||0,k=p/(2*Math.sqrt(h*y)),R=u-o,N=yr(Math.sqrt(h/y)),A=Math.abs(R)<5;r||(r=A?Lt.restSpeed.granular:Lt.restSpeed.default),s||(s=A?Lt.restDelta.granular:Lt.restDelta.default);let I;if(k<1){const V=Og(N,k);I=Z=>{const M=Math.exp(-k*N*Z);return u-M*((E+k*N*R)/V*Math.sin(V*Z)+R*Math.cos(V*Z))}}else if(k===1)I=V=>u-Math.exp(-N*V)*(R+(E+N*R)*V);else{const V=N*Math.sqrt(k*k-1);I=Z=>{const M=Math.exp(-k*N*Z),B=Math.min(V*Z,300);return u-M*((E+k*N*R)*Math.sinh(B)+V*R*Math.cosh(B))/V}}const D={calculatedDuration:w&&_||null,next:V=>{const Z=I(V);if(w)c.done=V>=_;else{let M=V===0?E:0;k<1&&(M=V===0?Ui(E):GS(I,V,Z));const B=Math.abs(M)<=r,ee=Math.abs(u-Z)<=s;c.done=B&&ee}return c.value=c.done?u:Z,c},toString:()=>{const V=Math.min(Uv(D),Hh),Z=WS(M=>D.next(V*M).value,V,30);return V+"ms "+Z},toTransition:()=>{}};return D}Wh.applyToOptions=e=>{const t=_j(e,100,Wh);return e.ease=t.ease,e.duration=Ui(t.duration),e.type="keyframes",e};function Mg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:u,min:c,max:h,restDelta:p=.5,restSpeed:y}){const _=e[0],x={done:!1,value:_},w=B=>c!==void 0&&B<c||h!==void 0&&B>h,E=B=>c===void 0?h:h===void 0||Math.abs(c-B)<Math.abs(h-B)?c:h;let k=n*t;const R=_+k,N=u===void 0?R:u(R);N!==R&&(k=N-_);const A=B=>-k*Math.exp(-B/r),I=B=>N+A(B),D=B=>{const ee=A(B),ce=I(B);x.done=Math.abs(ee)<=p,x.value=x.done?N:ce};let V,Z;const M=B=>{w(x.value)&&(V=B,Z=Wh({keyframes:[x.value,E(x.value)],velocity:GS(I,B,x.value),damping:s,stiffness:o,restDelta:p,restSpeed:y}))};return M(0),{calculatedDuration:null,next:B=>{let ee=!1;return!Z&&V===void 0&&(ee=!0,D(B),M(B)),V!==void 0&&B>=V?Z.next(B-V):(!ee&&D(B),x)}}}function Ej(e,t,n){const r=[],s=n||Hi.mix||HS,o=e.length-1;for(let u=0;u<o;u++){let c=s(e[u],e[u+1]);if(t){const h=Array.isArray(t)?t[u]||_r:t;c=Ec(h,c)}r.push(c)}return r}function Tj(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const o=e.length;if(Iv(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=Ej(t,r,s),h=c.length,p=y=>{if(u&&y<e[0])return t[0];let _=0;if(h>1)for(;_<e.length-2&&!(y<e[_+1]);_++);const x=cc(e[_],e[_+1],y);return c[_](x)};return n?y=>p(ci(e[0],e[o-1],y)):p}function Rj(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=cc(0,t,r);e.push(kt(n,1,s))}}function Lj(e){const t=[0];return Rj(t,e.length-1),t}function Nj(e,t){return e.map(n=>n*t)}function Aj(e,t){return e.map(()=>t||jS).splice(0,e.length-1)}function Xu({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=UA(r)?r.map(hx):hx(r),o={done:!1,value:t[0]},u=Nj(n&&n.length===t.length?n:Lj(t),e),c=Tj(u,t,{ease:Array.isArray(s)?s:Aj(t,s)});return{calculatedDuration:e,next:h=>(o.value=c(h),o.done=h>=e,o)}}const jj=e=>e!==null;function Hv(e,{repeat:t,repeatType:n="loop"},r,s=1){const o=e.filter(jj),c=s<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!c||r===void 0?o[c]:r}const Ij={decay:Mg,inertia:Mg,tween:Xu,keyframes:Xu,spring:Wh};function ZS(e){typeof e.type=="string"&&(e.type=Ij[e.type])}class Wv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Oj=e=>e/100;class Gv extends Wv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Sn.now()&&this.tick(Sn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;ZS(t);const{type:n=Xu,repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:u=0}=t;let{keyframes:c}=t;const h=n||Xu;h!==Xu&&typeof c[0]!="number"&&(this.mixKeyframes=Ec(Oj,HS(c[0],c[1])),c=[0,100]);const p=h({...t,keyframes:c});o==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...c].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Uv(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=p}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:o,mirroredGenerator:u,resolvedDuration:c,calculatedDuration:h}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:x,repeatDelay:w,type:E,onUpdate:k,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const N=this.currentTime-p*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?N<0:N>s;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let I=this.currentTime,D=r;if(_){const B=Math.min(this.currentTime,s)/c;let ee=Math.floor(B),ce=B%1;!ce&&B>=1&&(ce=1),ce===1&&ee--,ee=Math.min(ee,_+1),ee%2&&(x==="reverse"?(ce=1-ce,w&&(ce-=w/c)):x==="mirror"&&(D=u)),I=ci(0,1,ce)*c}const V=A?{done:!1,value:y[0]}:D.next(I);o&&(V.value=o(V.value));let{done:Z}=V;!A&&h!==null&&(Z=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Z);return M&&E!==Mg&&(V.value=Hv(y,this.options,R,this.speed)),k&&k(V.value),M&&this.finish(),V}then(t,n){return this.finished.then(t,n)}get duration(){return yr(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+yr(t)}get time(){return yr(this.currentTime)}set time(t){t=Ui(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Sn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=yr(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=yj,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Sn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function Mj(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const $o=e=>e*180/Math.PI,Dg=e=>{const t=$o(Math.atan2(e[1],e[0]));return zg(t)},Dj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Dg,rotateZ:Dg,skewX:e=>$o(Math.atan(e[1])),skewY:e=>$o(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},zg=e=>(e=e%360,e<0&&(e+=360),e),_x=Dg,xx=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),wx=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),zj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:xx,scaleY:wx,scale:e=>(xx(e)+wx(e))/2,rotateX:e=>zg($o(Math.atan2(e[6],e[5]))),rotateY:e=>zg($o(Math.atan2(-e[2],e[0]))),rotateZ:_x,rotate:_x,skewX:e=>$o(Math.atan(e[4])),skewY:e=>$o(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Bg(e){return e.includes("scale")?1:0}function Fg(e,t){if(!e||e==="none")return Bg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=zj,s=n;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Dj,s=c}if(!s)return Bg(t);const o=r[t],u=s[1].split(",").map(Fj);return typeof o=="function"?o(u):u[o]}const Bj=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Fg(n,t)};function Fj(e){return parseFloat(e.trim())}const Pl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],El=new Set(Pl),bx=e=>e===kl||e===ke,Vj=new Set(["x","y","z"]),$j=Pl.filter(e=>!Vj.has(e));function Uj(e){const t=[];return $j.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Bs={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Fg(t,"x"),y:(e,{transform:t})=>Fg(t,"y")};Bs.translateX=Bs.x;Bs.translateY=Bs.y;const Uo=new Set;let Vg=!1,$g=!1,Ug=!1;function qS(){if($g){const e=Array.from(Uo).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=Uj(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,u])=>{r.getValue(o)?.set(u)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}$g=!1,Vg=!1,Uo.forEach(e=>e.complete(Ug)),Uo.clear()}function KS(){Uo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&($g=!0)})}function Hj(){Ug=!0,KS(),qS(),Ug=!1}class Zv{constructor(t,n,r,s,o,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Uo.add(this),Vg||(Vg=!0,yt.read(KS),yt.resolveKeyframes(qS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const o=s?.get(),u=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const c=r.readValue(n,u);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=u),s&&o===void 0&&s.set(t[0])}Mj(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Uo.delete(this)}cancel(){this.state==="scheduled"&&(Uo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Wj=e=>e.startsWith("--");function Gj(e,t,n){Wj(t)?e.style.setProperty(t,n):e.style[t]=n}const Zj=Ov(()=>window.ScrollTimeline!==void 0),qj={};function Kj(e,t){const n=Ov(e);return()=>qj[t]??n()}const YS=Kj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Bu=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Sx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bu([0,.65,.55,1]),circOut:Bu([.55,0,1,.45]),backIn:Bu([.31,.01,.66,-.59]),backOut:Bu([.33,1.53,.69,.99])};function XS(e,t){if(e)return typeof e=="function"?YS()?WS(e,t):"ease-out":IS(e)?Bu(e):Array.isArray(e)?e.map(n=>XS(n,t)||Sx.easeOut):Sx[e]}function Yj(e,t,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:u="loop",ease:c="easeOut",times:h}={},p=void 0){const y={[t]:n};h&&(y.offset=h);const _=XS(c,s);Array.isArray(_)&&(y.easing=_);const x={delay:r,duration:s,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"};return p&&(x.pseudoElement=p),e.animate(y,x)}function JS(e){return typeof e=="function"&&"applyToOptions"in e}function Xj({type:e,...t}){return JS(e)&&YS()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Jj extends Wv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:o,allowFlatten:u=!1,finalKeyframe:c,onComplete:h}=t;this.isPseudoElement=!!o,this.allowFlatten=u,this.options=t,Iv(typeof t.type!="string");const p=Xj(t);this.animation=Yj(n,r,s,p,o),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const y=Hv(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(y):Gj(n,r,y),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return yr(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+yr(t)}get time(){return yr(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ui(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Zj()?(this.animation.timeline=t,_r):n(this)}}const QS={anticipate:LS,backInOut:RS,circInOut:AS};function Qj(e){return e in QS}function e2(e){typeof e.ease=="string"&&Qj(e.ease)&&(e.ease=QS[e.ease])}const jm=10;class t2 extends Jj{constructor(t){e2(t),ZS(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:o,...u}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const c=new Gv({...u,autoplay:!1}),h=Math.max(jm,Sn.now()-this.startTime),p=ci(0,jm,h-jm);n.setWithVelocity(c.sample(Math.max(0,h-p)).value,c.sample(h).value,p),c.stop()}}const Cx=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Us.test(e)||e==="0")&&!e.startsWith("url("));function n2(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function r2(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],u=Cx(s,t),c=Cx(o,t);return!u||!c?!1:n2(e)||(n==="spring"||JS(n))&&r}function Hg(e){e.duration=0,e.type="keyframes"}const i2=new Set(["opacity","clipPath","filter","transform"]),s2=Ov(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function o2(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:o,type:u}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=t.owner.getProps();return s2()&&n&&i2.has(n)&&(n!=="transform"||!p)&&!h&&!r&&s!=="mirror"&&o!==0&&u!=="inertia"}const a2=40;class l2 extends Wv{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:u="loop",keyframes:c,name:h,motionValue:p,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Sn.now();const x={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:u,name:h,motionValue:p,element:y,..._},w=y?.KeyframeResolver||Zv;this.keyframeResolver=new w(c,(E,k,R)=>this.onKeyframesResolved(E,k,x,!R),h,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:o,type:u,velocity:c,delay:h,isHandoff:p,onUpdate:y}=r;this.resolvedAt=Sn.now(),r2(t,o,u,c)||((Hi.instantAnimations||!h)&&y?.(Hv(t,r,n)),t[0]=t[t.length-1],Hg(r),r.repeat=0);const x={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>a2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},w=!p&&o2(x)?new t2({...x,element:x.motionValue.owner.current}):new Gv(x);w.finished.then(()=>this.notifyFinished()).catch(_r),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Hj()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const u2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function c2(e){const t=u2.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function eC(e,t,n=1){const[r,s]=c2(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const u=o.trim();return wS(u)?parseFloat(u):u}return Bv(s)?eC(s,t,n+1):s}function qv(e,t){return e?.[t]??e?.default??e}const d2={type:"spring",stiffness:500,damping:25,restSpeed:10},h2=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),f2={type:"keyframes",duration:.8},p2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},m2=(e,{keyframes:t})=>t.length>2?f2:El.has(e)?e.startsWith("scale")?h2(t[1]):d2:p2;function g2({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:u,repeatDelay:c,from:h,elapsed:p,...y}){return!!Object.keys(y).length}const v2=e=>e!==null;function y2(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(v2),o=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[o]}function tC(e,t,n,r=0,s=1){const o=Array.from(e).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),u=e.size,c=(u-1)*r;return typeof n=="function"?n(o,u):s===1?o*r:c-o*r}const Kv=(e,t,n,r={},s,o)=>u=>{const c=qv(r,e)||{},h=c.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Ui(h);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-p,onUpdate:x=>{t.set(x),c.onUpdate&&c.onUpdate(x)},onComplete:()=>{u(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:o?void 0:s};g2(c)||Object.assign(y,m2(e,y)),y.duration&&(y.duration=Ui(y.duration)),y.repeatDelay&&(y.repeatDelay=Ui(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Hg(y),y.delay===0&&(_=!0)),(Hi.instantAnimations||Hi.skipAnimations)&&(_=!0,Hg(y),y.delay=0),y.allowFlatten=!c.type&&!c.ease,_&&!o&&t.get()!==void 0){const x=y2(y.keyframes,c);if(x!==void 0){yt.update(()=>{y.onUpdate(x),y.onComplete()});return}}return c.isSync?new Gv(y):new l2(y)},nC=new Set(["width","height","top","left","right","bottom",...Pl]),kx=30,_2=e=>!isNaN(parseFloat(e));class x2{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=Sn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Sn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=_2(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Mv);const r=this.events[t].add(n);return t==="change"?()=>{r(),yt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Sn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>kx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,kx);return CS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xl(e,t){return new x2(e,t)}function Px(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Yv(e,t,n,r){if(typeof t=="function"){const[s,o]=Px(r);t=t(n!==void 0?n:e.custom,s,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,o]=Px(r);t=t(n!==void 0?n:e.custom,s,o)}return t}function fl(e,t,n){const r=e.getProps();return Yv(r,t,n!==void 0?n:r.custom,e)}const Wg=e=>Array.isArray(e);function w2(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,xl(n))}function b2(e){return Wg(e)?e[e.length-1]||0:e}function S2(e,t){const n=fl(e,t);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const u in o){const c=b2(o[u]);w2(e,u,c)}}const pn=e=>!!(e&&e.getVelocity);function C2(e){return!!(pn(e)&&e.add)}function Gg(e,t){const n=e.getValue("willChange");if(C2(n))return n.add(t);if(!n&&Hi.WillChange){const r=new Hi.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function Xv(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const k2="framerAppearId",rC="data-"+Xv(k2);function iC(e){return e.props[rC]}function P2({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function sC(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:u,...c}=t;r&&(o=r);const h=[],p=s&&e.animationState&&e.animationState.getState()[s];for(const y in c){const _=e.getValue(y,e.latestValues[y]??null),x=c[y];if(x===void 0||p&&P2(p,y))continue;const w={delay:n,...qv(o||{},y)},E=_.get();if(E!==void 0&&!_.isAnimating&&!Array.isArray(x)&&x===E&&!w.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const N=iC(e);if(N){const A=window.MotionHandoffAnimation(N,y,yt);A!==null&&(w.startTime=A,k=!0)}}Gg(e,y),_.start(Kv(y,_,x,e.shouldReduceMotion&&nC.has(y)?{type:!1}:w,e,k));const R=_.animation;R&&h.push(R)}return u&&Promise.all(h).then(()=>{yt.update(()=>{u&&S2(e,u)})}),h}function Zg(e,t,n={}){const r=fl(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(sC(e,r,n)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=s;return E2(e,t,h,p,y,_,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[h,p]=c==="beforeChildren"?[o,u]:[u,o];return h().then(()=>p())}else return Promise.all([o(),u(n.delay)])}function E2(e,t,n=0,r=0,s=0,o=1,u){const c=[];for(const h of e.variantChildren)h.notify("AnimationStart",t),c.push(Zg(h,t,{...u,delay:n+(typeof r=="function"?0:r)+tC(e.variantChildren,h,r,s,o)}).then(()=>h.notify("AnimationComplete",t)));return Promise.all(c)}function T2(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(o=>Zg(e,o,n));r=Promise.all(s)}else if(typeof t=="string")r=Zg(e,t,n);else{const s=typeof t=="function"?fl(e,t,n.custom):t;r=Promise.all(sC(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const R2={test:e=>e==="auto",parse:e=>e},oC=e=>t=>t.test(e),aC=[kl,ke,li,As,nj,tj,R2],Ex=e=>aC.find(oC(e));function L2(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||SS(e):!0}const N2=new Set(["brightness","contrast","saturate","opacity"]);function A2(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Fv)||[];if(!r)return e;const s=n.replace(r,"");let o=N2.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+s+")"}const j2=/\b([a-z-]*)\(.*?\)/gu,qg={...Us,getAnimatableNone:e=>{const t=e.match(j2);return t?t.map(A2).join(" "):e}},Tx={...kl,transform:Math.round},I2={rotate:As,rotateX:As,rotateY:As,rotateZ:As,scale:uh,scaleX:uh,scaleY:uh,scaleZ:uh,skew:As,skewX:As,skewY:As,distance:ke,translateX:ke,translateY:ke,translateZ:ke,x:ke,y:ke,z:ke,perspective:ke,transformPerspective:ke,opacity:dc,originX:px,originY:px,originZ:ke},Jv={borderWidth:ke,borderTopWidth:ke,borderRightWidth:ke,borderBottomWidth:ke,borderLeftWidth:ke,borderRadius:ke,radius:ke,borderTopLeftRadius:ke,borderTopRightRadius:ke,borderBottomRightRadius:ke,borderBottomLeftRadius:ke,width:ke,maxWidth:ke,height:ke,maxHeight:ke,top:ke,right:ke,bottom:ke,left:ke,inset:ke,insetBlock:ke,insetBlockStart:ke,insetBlockEnd:ke,insetInline:ke,insetInlineStart:ke,insetInlineEnd:ke,padding:ke,paddingTop:ke,paddingRight:ke,paddingBottom:ke,paddingLeft:ke,paddingBlock:ke,paddingBlockStart:ke,paddingBlockEnd:ke,paddingInline:ke,paddingInlineStart:ke,paddingInlineEnd:ke,margin:ke,marginTop:ke,marginRight:ke,marginBottom:ke,marginLeft:ke,marginBlock:ke,marginBlockStart:ke,marginBlockEnd:ke,marginInline:ke,marginInlineStart:ke,marginInlineEnd:ke,backgroundPositionX:ke,backgroundPositionY:ke,...I2,zIndex:Tx,fillOpacity:dc,strokeOpacity:dc,numOctaves:Tx},O2={...Jv,color:zt,backgroundColor:zt,outlineColor:zt,fill:zt,stroke:zt,borderColor:zt,borderTopColor:zt,borderRightColor:zt,borderBottomColor:zt,borderLeftColor:zt,filter:qg,WebkitFilter:qg},lC=e=>O2[e];function uC(e,t){let n=lC(e);return n!==qg&&(n=Us),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const M2=new Set(["auto","none","0"]);function D2(e,t,n){let r=0,s;for(;r<e.length&&!s;){const o=e[r];typeof o=="string"&&!M2.has(o)&&hc(o).values.length&&(s=e[r]),r++}if(s&&n)for(const o of t)e[o]=uC(n,s)}class z2 extends Zv{constructor(t,n,r,s,o){super(t,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let _=t[y];if(typeof _=="string"&&(_=_.trim(),Bv(_))){const x=eC(_,n.current);x!==void 0&&(t[y]=x),y===t.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!nC.has(r)||t.length!==2)return;const[s,o]=t,u=Ex(s),c=Ex(o),h=fx(s),p=fx(o);if(h!==p&&Bs[r]){this.needsMeasurement=!0;return}if(u!==c)if(bx(u)&&bx(c))for(let y=0;y<t.length;y++){const _=t[y];typeof _=="string"&&(t[y]=parseFloat(_))}else Bs[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||L2(t[s]))&&r.push(s);r.length&&D2(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bs[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,u=r[o];r[o]=Bs[n](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,h])=>{t.getValue(c).set(h)}),this.resolveNoneKeyframes()}}function B2(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const s=n?.[e]??r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const cC=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function dC(e){return bS(e)&&"offsetHeight"in e}const{schedule:Qv}=OS(queueMicrotask,!1),Ir={x:!1,y:!1};function hC(){return Ir.x||Ir.y}function F2(e){return e==="x"||e==="y"?Ir[e]?null:(Ir[e]=!0,()=>{Ir[e]=!1}):Ir.x||Ir.y?null:(Ir.x=Ir.y=!0,()=>{Ir.x=Ir.y=!1})}function fC(e,t){const n=B2(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function Rx(e){return!(e.pointerType==="touch"||hC())}function V2(e,t,n={}){const[r,s,o]=fC(e,n),u=c=>{if(!Rx(c))return;const{target:h}=c,p=t(h,c);if(typeof p!="function"||!h)return;const y=_=>{Rx(_)&&(p(_),h.removeEventListener("pointerleave",y))};h.addEventListener("pointerleave",y,s)};return r.forEach(c=>{c.addEventListener("pointerenter",u,s)}),o}const pC=(e,t)=>t?e===t?!0:pC(e,t.parentElement):!1,ey=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,$2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function mC(e){return $2.has(e.tagName)||e.isContentEditable===!0}const Ph=new WeakSet;function Lx(e){return t=>{t.key==="Enter"&&e(t)}}function Im(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const U2=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Lx(()=>{if(Ph.has(n))return;Im(n,"down");const s=Lx(()=>{Im(n,"up")}),o=()=>Im(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Nx(e){return ey(e)&&!hC()}function H2(e,t,n={}){const[r,s,o]=fC(e,n),u=c=>{const h=c.currentTarget;if(!Nx(c))return;Ph.add(h);const p=t(h,c),y=(w,E)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",x),Ph.has(h)&&Ph.delete(h),Nx(w)&&typeof p=="function"&&p(w,{success:E})},_=w=>{y(w,h===window||h===document||n.useGlobalTarget||pC(h,w.target))},x=w=>{y(w,!1)};window.addEventListener("pointerup",_,s),window.addEventListener("pointercancel",x,s)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",u,s),dC(c)&&(c.addEventListener("focus",p=>U2(p,s)),!mC(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function gC(e){return bS(e)&&"ownerSVGElement"in e}function W2(e){return gC(e)&&e.tagName==="svg"}const G2=[...aC,zt,Us],Z2=e=>G2.find(oC(e)),Ax=()=>({translate:0,scale:1,origin:0,originPoint:0}),al=()=>({x:Ax(),y:Ax()}),jx=()=>({min:0,max:0}),Gt=()=>({x:jx(),y:jx()}),Kg={current:null},vC={current:!1},q2=typeof window<"u";function K2(){if(vC.current=!0,!!q2)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Kg.current=e.matches;e.addEventListener("change",t),t()}else Kg.current=!1}const Y2=new WeakMap;function xf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function fc(e){return typeof e=="string"||Array.isArray(e)}const ty=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ny=["initial",...ty];function wf(e){return xf(e.animate)||ny.some(t=>fc(e[t]))}function yC(e){return!!(wf(e)||e.variants)}function X2(e,t,n){for(const r in t){const s=t[r],o=n[r];if(pn(s))e.addValue(r,s);else if(pn(o))e.addValue(r,xl(s,{owner:e}));else if(o!==s)if(e.hasValue(r)){const u=e.getValue(r);u.liveStyle===!0?u.jump(s):u.hasAnimated||u.set(s)}else{const u=e.getStaticValue(r);e.addValue(r,xl(u!==void 0?u:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Ix=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Gh={};function _C(e){Gh=e}function J2(){return Gh}class Q2{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:u},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Zv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Sn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,yt.render(this.render,!1,!0))};const{latestValues:h,renderState:p}=u;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=wf(n),this.isVariantNode=yC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in _){const w=_[x];h[x]!==void 0&&pn(w)&&w.set(h[x])}}mount(t){this.current=t,Y2.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(vC.current||K2(),this.shouldReduceMotion=Kg.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),$s(this.notifyUpdate),$s(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=El.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&yt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Gh){const n=Gh[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Gt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Ix.length;r++){const s=Ix[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,u=t[o];u&&(this.propEventSubscriptions[s]=this.on(s,u))}this.prevMotionValues=X2(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=xl(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(wS(r)||SS(r))?r=parseFloat(r):!Z2(r)&&Us.test(n)&&(r=uC(t,n)),this.setBaseTarget(t,pn(r)?r.get():r)),pn(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Yv(this.props,n,this.presenceContext?.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!pn(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Mv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Qv.render(this.render)}}class qs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class xC extends Q2{constructor(){super(...arguments),this.KeyframeResolver=z2}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const r=t.style;return r?r[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;pn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function wC({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function eI({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function tI(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Om(e){return e===void 0||e===1}function Yg({scale:e,scaleX:t,scaleY:n}){return!Om(e)||!Om(t)||!Om(n)}function Mo(e){return Yg(e)||bC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function bC(e){return Ox(e.x)||Ox(e.y)}function Ox(e){return e&&e!=="0%"}function Zh(e,t,n){const r=e-n,s=t*r;return n+s}function Mx(e,t,n,r,s){return s!==void 0&&(e=Zh(e,s,r)),Zh(e,n,r)+t}function Xg(e,t=0,n=1,r,s){e.min=Mx(e.min,t,n,r,s),e.max=Mx(e.max,t,n,r,s)}function SC(e,{x:t,y:n}){Xg(e.x,t.translate,t.scale,t.originPoint),Xg(e.y,n.translate,n.scale,n.originPoint)}const Dx=.999999999999,zx=1.0000000000001;function nI(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let o,u;for(let c=0;c<s;c++){o=n[c],u=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ul(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,SC(e,u)),r&&Mo(o.latestValues)&&ul(e,o.latestValues))}t.x<zx&&t.x>Dx&&(t.x=1),t.y<zx&&t.y>Dx&&(t.y=1)}function ll(e,t){e.min=e.min+t,e.max=e.max+t}function Bx(e,t,n,r,s=.5){const o=kt(e.min,e.max,s);Xg(e,t,n,o,r)}function ul(e,t){Bx(e.x,t.x,t.scaleX,t.scale,t.originX),Bx(e.y,t.y,t.scaleY,t.scale,t.originY)}function CC(e,t){return wC(tI(e.getBoundingClientRect(),t))}function rI(e,t,n){const r=CC(e,n),{scroll:s}=t;return s&&(ll(r.x,s.offset.x),ll(r.y,s.offset.y)),r}const iI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sI=Pl.length;function oI(e,t,n){let r="",s=!0;for(let o=0;o<sI;o++){const u=Pl[o],c=e[u];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(u.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||n){const p=cC(c,Jv[u]);if(!h){s=!1;const y=iI[u]||u;r+=`${y}(${p}) `}n&&(t[u]=p)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function ry(e,t,n){const{style:r,vars:s,transformOrigin:o}=e;let u=!1,c=!1;for(const h in t){const p=t[h];if(El.has(h)){u=!0;continue}else if(DS(h)){s[h]=p;continue}else{const y=cC(p,Jv[h]);h.startsWith("origin")?(c=!0,o[h]=y):r[h]=y}}if(t.transform||(u||n?r.transform=oI(t,e.transform,n):r.transform&&(r.transform="none")),c){const{originX:h="50%",originY:p="50%",originZ:y=0}=o;r.transformOrigin=`${h} ${p} ${y}`}}function kC(e,{style:t,vars:n},r,s){const o=e.style;let u;for(u in t)o[u]=t[u];s?.applyProjectionStyles(o,r);for(u in n)o.setProperty(u,n[u])}function Fx(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Iu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ke.test(e))e=parseFloat(e);else return e;const n=Fx(e,t.target.x),r=Fx(e,t.target.y);return`${n}% ${r}%`}},aI={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Us.parse(e);if(s.length>5)return r;const o=Us.createTransformer(e),u=typeof s[0]!="number"?1:0,c=n.x.scale*t.x,h=n.y.scale*t.y;s[0+u]/=c,s[1+u]/=h;const p=kt(c,h,.5);return typeof s[2+u]=="number"&&(s[2+u]/=p),typeof s[3+u]=="number"&&(s[3+u]/=p),o(s)}},Jg={borderRadius:{...Iu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Iu,borderTopRightRadius:Iu,borderBottomLeftRadius:Iu,borderBottomRightRadius:Iu,boxShadow:aI};function PC(e,{layout:t,layoutId:n}){return El.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Jg[e]||e==="opacity")}function iy(e,t,n){const r=e.style,s=t?.style,o={};if(!r)return o;for(const u in r)(pn(r[u])||s&&pn(s[u])||PC(u,e)||n?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}function lI(e){return window.getComputedStyle(e)}class uI extends xC{constructor(){super(...arguments),this.type="html",this.renderInstance=kC}readValueFromInstance(t,n){if(El.has(n))return this.projection?.isProjecting?Bg(n):Bj(t,n);{const r=lI(t),s=(DS(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return CC(t,n)}build(t,n,r){ry(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return iy(t,n,r)}}const cI={offset:"stroke-dashoffset",array:"stroke-dasharray"},dI={offset:"strokeDashoffset",array:"strokeDasharray"};function hI(e,t,n=1,r=0,s=!0){e.pathLength=1;const o=s?cI:dI;e[o.offset]=ke.transform(-r);const u=ke.transform(t),c=ke.transform(n);e[o.array]=`${u} ${c}`}const fI=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function EC(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:o=1,pathOffset:u=0,...c},h,p,y){if(ry(e,c,p),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:x}=e;_.transform&&(x.transform=_.transform,delete _.transform),(x.transform||_.transformOrigin)&&(x.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),x.transform&&(x.transformBox=y?.transformBox??"fill-box",delete _.transformBox);for(const w of fI)_[w]!==void 0&&(x[w]=_[w],delete _[w]);t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),s!==void 0&&hI(_,s,o,u,!1)}const TC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),RC=e=>typeof e=="string"&&e.toLowerCase()==="svg";function pI(e,t,n,r){kC(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(TC.has(s)?s:Xv(s),t.attrs[s])}function LC(e,t,n){const r=iy(e,t,n);for(const s in e)if(pn(e[s])||pn(t[s])){const o=Pl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=e[s]}return r}class mI extends xC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Gt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(El.has(n)){const r=lC(n);return r&&r.default||0}return n=TC.has(n)?n:Xv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return LC(t,n,r)}build(t,n,r){EC(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){pI(t,n,r,s)}mount(t){this.isSVGTag=RC(t.tagName),super.mount(t)}}const gI=ny.length;function NC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?NC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<gI;n++){const r=ny[n],s=e.props[r];(fc(s)||s===!1)&&(t[r]=s)}return t}function AC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const vI=[...ty].reverse(),yI=ty.length;function _I(e){return t=>Promise.all(t.map(({animation:n,options:r})=>T2(e,n,r)))}function xI(e){let t=_I(e),n=Vx(),r=!0;const s=h=>(p,y)=>{const _=fl(e,y,h==="exit"?e.presenceContext?.custom:void 0);if(_){const{transition:x,transitionEnd:w,...E}=_;p={...p,...E,...w}}return p};function o(h){t=h(e)}function u(h){const{props:p}=e,y=NC(e.parent)||{},_=[],x=new Set;let w={},E=1/0;for(let R=0;R<yI;R++){const N=vI[R],A=n[N],I=p[N]!==void 0?p[N]:y[N],D=fc(I),V=N===h?A.isActive:null;V===!1&&(E=R);let Z=I===y[N]&&I!==p[N]&&D;if(Z&&r&&e.manuallyAnimateOnMount&&(Z=!1),A.protectedKeys={...w},!A.isActive&&V===null||!I&&!A.prevProp||xf(I)||typeof I=="boolean")continue;const M=wI(A.prevProp,I);let B=M||N===h&&A.isActive&&!Z&&D||R>E&&D,ee=!1;const ce=Array.isArray(I)?I:[I];let U=ce.reduce(s(N),{});V===!1&&(U={});const{prevResolvedValues:G={}}=A,ge={...G,...U},le=_e=>{B=!0,x.has(_e)&&(ee=!0,x.delete(_e)),A.needsAnimating[_e]=!0;const F=e.getValue(_e);F&&(F.liveStyle=!1)};for(const _e in ge){const F=U[_e],me=G[_e];if(w.hasOwnProperty(_e))continue;let re=!1;Wg(F)&&Wg(me)?re=!AC(F,me):re=F!==me,re?F!=null?le(_e):x.add(_e):F!==void 0&&x.has(_e)?le(_e):A.protectedKeys[_e]=!0}A.prevProp=I,A.prevResolvedValues=U,A.isActive&&(w={...w,...U}),r&&e.blockInitialAnimation&&(B=!1);const be=Z&&M;B&&(!be||ee)&&_.push(...ce.map(_e=>{const F={type:N};if(typeof _e=="string"&&r&&!be&&e.manuallyAnimateOnMount&&e.parent){const{parent:me}=e,re=fl(me,_e);if(me.enteringChildren&&re){const{delayChildren:H}=re.transition||{};F.delay=tC(me.enteringChildren,e,H)}}return{animation:_e,options:F}}))}if(x.size){const R={};if(typeof p.initial!="boolean"){const N=fl(e,Array.isArray(p.initial)?p.initial[0]:p.initial);N&&N.transition&&(R.transition=N.transition)}x.forEach(N=>{const A=e.getBaseTarget(N),I=e.getValue(N);I&&(I.liveStyle=!0),R[N]=A??null}),_.push({animation:R})}let k=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(k=!1),r=!1,k?t(_):Promise.resolve()}function c(h,p){if(n[h].isActive===p)return Promise.resolve();e.variantChildren?.forEach(_=>_.animationState?.setActive(h,p)),n[h].isActive=p;const y=u(h);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:u,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Vx()}}}function wI(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!AC(t,e):!1}function Ao(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Vx(){return{animate:Ao(!0),whileInView:Ao(),whileHover:Ao(),whileTap:Ao(),whileDrag:Ao(),whileFocus:Ao(),exit:Ao()}}const jC=1e-4,bI=1-jC,SI=1+jC,IC=.01,CI=0-IC,kI=0+IC;function Cn(e){return e.max-e.min}function PI(e,t,n){return Math.abs(e-t)<=n}function $x(e,t,n,r=.5){e.origin=r,e.originPoint=kt(t.min,t.max,e.origin),e.scale=Cn(n)/Cn(t),e.translate=kt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=bI&&e.scale<=SI||isNaN(e.scale))&&(e.scale=1),(e.translate>=CI&&e.translate<=kI||isNaN(e.translate))&&(e.translate=0)}function Ju(e,t,n,r){$x(e.x,t.x,n.x,r?r.originX:void 0),$x(e.y,t.y,n.y,r?r.originY:void 0)}function Ux(e,t,n){e.min=n.min+t.min,e.max=e.min+Cn(t)}function EI(e,t,n){Ux(e.x,t.x,n.x),Ux(e.y,t.y,n.y)}function Hx(e,t,n){e.min=t.min-n.min,e.max=e.min+Cn(t)}function qh(e,t,n){Hx(e.x,t.x,n.x),Hx(e.y,t.y,n.y)}function Wx(e,t,n,r,s){return e-=t,e=Zh(e,1/n,r),s!==void 0&&(e=Zh(e,1/s,r)),e}function TI(e,t=0,n=1,r=.5,s,o=e,u=e){if(li.test(t)&&(t=parseFloat(t),t=kt(u.min,u.max,t/100)-u.min),typeof t!="number")return;let c=kt(o.min,o.max,r);e===o&&(c-=t),e.min=Wx(e.min,t,n,c,s),e.max=Wx(e.max,t,n,c,s)}function Gx(e,t,[n,r,s],o,u){TI(e,t[n],t[r],t[s],t.scale,o,u)}const RI=["x","scaleX","originX"],LI=["y","scaleY","originY"];function Zx(e,t,n,r){Gx(e.x,t,RI,n?n.x:void 0,r?r.x:void 0),Gx(e.y,t,LI,n?n.y:void 0,r?r.y:void 0)}function qx(e,t){e.min=t.min,e.max=t.max}function Ar(e,t){qx(e.x,t.x),qx(e.y,t.y)}function Kx(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Yx(e){return e.translate===0&&e.scale===1}function OC(e){return Yx(e.x)&&Yx(e.y)}function Xx(e,t){return e.min===t.min&&e.max===t.max}function NI(e,t){return Xx(e.x,t.x)&&Xx(e.y,t.y)}function Jx(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function MC(e,t){return Jx(e.x,t.x)&&Jx(e.y,t.y)}function Qx(e){return Cn(e.x)/Cn(e.y)}function ew(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function mr(e){return[e("x"),e("y")]}function AI(e,t,n){let r="";const s=e.x.translate/t.x,o=e.y.translate/t.y,u=n?.z||0;if((s||o||u)&&(r=`translate3d(${s}px, ${o}px, ${u}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:x,skewX:w,skewY:E}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),_&&(r+=`rotateX(${_}deg) `),x&&(r+=`rotateY(${x}deg) `),w&&(r+=`skewX(${w}deg) `),E&&(r+=`skewY(${E}deg) `)}const c=e.x.scale*t.x,h=e.y.scale*t.y;return(c!==1||h!==1)&&(r+=`scale(${c}, ${h})`),r||"none"}const DC=["TopLeft","TopRight","BottomLeft","BottomRight"],jI=DC.length,tw=e=>typeof e=="string"?parseFloat(e):e,nw=e=>typeof e=="number"||ke.test(e);function II(e,t,n,r,s,o){s?(e.opacity=kt(0,n.opacity??1,OI(r)),e.opacityExit=kt(t.opacity??1,0,MI(r))):o&&(e.opacity=kt(t.opacity??1,n.opacity??1,r));for(let u=0;u<jI;u++){const c=`border${DC[u]}Radius`;let h=rw(t,c),p=rw(n,c);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||nw(h)===nw(p)?(e[c]=Math.max(kt(tw(h),tw(p),r),0),(li.test(p)||li.test(h))&&(e[c]+="%")):e[c]=p}(t.rotate||n.rotate)&&(e.rotate=kt(t.rotate||0,n.rotate||0,r))}function rw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const OI=zC(0,.5,NS),MI=zC(.5,.95,_r);function zC(e,t,n){return r=>r<e?0:r>t?1:n(cc(e,t,r))}function DI(e,t){const n=Sn.now(),r=({timestamp:s})=>{const o=s-n;o>=t&&($s(r),e(o-t))};return yt.setup(r,!0),()=>$s(r)}function pc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Eh(e){return pn(e)?e.get():e}function zI(e,t,n){const r=pn(e)?e:xl(e);return r.start(Kv("",r,t,n)),r.animation}const BI=(e,t)=>e.depth-t.depth;class FI{constructor(){this.children=[],this.isDirty=!1}add(t){Av(this.children,t),this.isDirty=!0}remove(t){jv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(BI),this.isDirty=!1,this.children.forEach(t)}}class VI{constructor(){this.members=[]}add(t){Av(this.members,t),t.scheduleRender()}remove(t){if(jv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Th={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Mm=["","X","Y","Z"],$I=1e3;let UI=0;function Dm(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function BC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=iC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",yt,!(s||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&BC(r)}function FC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(u={},c=t?.()){this.id=UI++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(GI),this.nodes.forEach(YI),this.nodes.forEach(XI),this.nodes.forEach(ZI)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new FI)}addEventListener(u,c){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Mv),this.eventHandlers.get(u).add(c)}notifyListeners(u,...c){const h=this.eventHandlers.get(u);h&&h.notify(...c)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=gC(u)&&!W2(u),this.instance=u;const{layoutId:c,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||c)&&(this.isLayoutDirty=!0),e){let y,_=0;const x=()=>this.root.updateBlockedByResize=!1;yt.read(()=>{_=window.innerWidth}),e(u,()=>{const w=window.innerWidth;w!==_&&(_=w,this.root.updateBlockedByResize=!0,y&&y(),y=DI(x,250),Th.hasAnimatedSinceResize&&(Th.hasAnimatedSinceResize=!1,this.nodes.forEach(ow)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&p&&(c||h)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:x,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||p.getDefaultTransition()||nO,{onLayoutAnimationStart:k,onLayoutAnimationComplete:R}=p.getProps(),N=!this.targetLayout||!MC(this.targetLayout,w),A=!_&&x;if(this.options.layoutRoot||this.resumeFrom||A||_&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const I={...qv(E,"layout"),onPlay:k,onComplete:R};(p.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I),this.setAnimationOrigin(y,A)}else _||ow(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),$s(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(JI),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&BC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(iw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(sw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(KI),this.nodes.forEach(HI),this.nodes.forEach(WI)):this.nodes.forEach(sw),this.clearAllSnapshots();const c=Sn.now();en.delta=ci(0,1e3/60,c-en.timestamp),en.timestamp=c,en.isProcessing=!0,Tm.update.process(en),Tm.preRender.process(en),Tm.render.process(en),en.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Qv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qI),this.sharedNodes.forEach(QI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,yt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){yt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Cn(this.snapshot.measuredBox.x)&&!Cn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(c=!1),c&&this.instance){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!OC(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(c||Mo(this.latestValues)||y)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return u&&(h=this.removeTransform(h)),rO(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Gt();const c=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(iO))){const{scroll:p}=this.root;p&&(ll(c.x,p.offset.x),ll(c.y,p.offset.y))}return c}removeElementScroll(u){const c=Gt();if(Ar(c,u),this.scroll?.wasRoot)return c;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:y,options:_}=p;p!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&Ar(c,u),ll(c.x,y.offset.x),ll(c.y,y.offset.y))}return c}applyTransform(u,c=!1){const h=Gt();Ar(h,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!c&&y.options.layoutScroll&&y.scroll&&y!==y.root&&ul(h,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Mo(y.latestValues)&&ul(h,y.latestValues)}return Mo(this.latestValues)&&ul(h,this.latestValues),h}removeTransform(u){const c=Gt();Ar(c,u);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!Mo(p.latestValues))continue;Yg(p.latestValues)&&p.updateSnapshot();const y=Gt(),_=p.measurePageBox();Ar(y,_),Zx(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Mo(this.latestValues)&&Zx(c,this.latestValues),c}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==en.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(u||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=en.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Gt(),this.targetWithTransforms=Gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),EI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ar(this.target,this.layout.layoutBox),SC(this.target,this.targetDelta)):Ar(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Yg(this.parent.latestValues)||bC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,c,h){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),qh(this.relativeTargetOrigin,c,h),Ar(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),c=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===en.timestamp&&(h=!1),h)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Ar(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,x=this.treeScale.y;nI(this.layoutCorrected,this.treeScale,this.path,c),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Gt());const{target:w}=u;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Kx(this.prevProjectionDelta.x,this.projectionDelta.x),Kx(this.prevProjectionDelta.y,this.projectionDelta.y)),Ju(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==x||!ew(this.projectionDelta.x,this.prevProjectionDelta.x)||!ew(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=al(),this.projectionDelta=al(),this.projectionDeltaWithTransform=al()}setAnimationOrigin(u,c=!1){const h=this.snapshot,p=h?h.latestValues:{},y={...this.latestValues},_=al();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const x=Gt(),w=h?h.source:void 0,E=this.layout?this.layout.source:void 0,k=w!==E,R=this.getStack(),N=!R||R.members.length<=1,A=!!(k&&!N&&this.options.crossfade===!0&&!this.path.some(tO));this.animationProgress=0;let I;this.mixTargetDelta=D=>{const V=D/1e3;aw(_.x,u.x,V),aw(_.y,u.y,V),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qh(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),eO(this.relativeTarget,this.relativeTargetOrigin,x,V),I&&NI(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=Gt()),Ar(I,this.relativeTarget)),k&&(this.animationValues=y,II(y,p,this.latestValues,V,A,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&($s(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=yt.update(()=>{Th.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=xl(0)),this.currentAnimation=zI(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),u.onUpdate&&u.onUpdate(c)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($I),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:c,target:h,layout:p,latestValues:y}=u;if(!(!c||!h||!p)){if(this!==u&&this.layout&&p&&VC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||Gt();const _=Cn(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+_;const x=Cn(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+x}Ar(c,h),ul(c,y),Ju(this.projectionDeltaWithTransform,this.layoutCorrected,c,y)}}registerSharedNode(u,c){this.sharedNodes.has(u)||this.sharedNodes.set(u,new VI),this.sharedNodes.get(u).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:c,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let c=!1;const{latestValues:h}=u;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const p={};h.z&&Dm("z",u,p,this.animationValues);for(let y=0;y<Mm.length;y++)Dm(`rotate${Mm[y]}`,u,p,this.animationValues),Dm(`skew${Mm[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Eh(c?.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Eh(c?.pointerEvents)||""),this.hasProjected&&!Mo(this.latestValues)&&(u.transform=h?h({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=AI(this.projectionDeltaWithTransform,this.treeScale,y);h&&(_=h(y,_)),u.transform=_;const{x,y:w}=this.projectionDelta;u.transformOrigin=`${x.origin*100}% ${w.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const E in Jg){if(y[E]===void 0)continue;const{correct:k,applyTo:R,isCSSVariable:N}=Jg[E],A=_==="none"?y[E]:k(y[E],p);if(R){const I=R.length;for(let D=0;D<I;D++)u[R[D]]=A}else N?this.options.visualElement.renderState.vars[E]=A:u[E]=A}this.options.layoutId&&(u.pointerEvents=p===this?Eh(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(iw),this.root.sharedNodes.clear()}}}function HI(e){e.updateLayout()}function WI(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?mr(y=>{const _=o?t.measuredBox[y]:t.layoutBox[y],x=Cn(_);_.min=n[y].min,_.max=_.min+x}):VC(s,t.layoutBox,n)&&mr(y=>{const _=o?t.measuredBox[y]:t.layoutBox[y],x=Cn(n[y]);_.max=_.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+x)});const u=al();Ju(u,n,t.layoutBox);const c=al();o?Ju(c,e.applyTransform(r,!0),t.measuredBox):Ju(c,n,t.layoutBox);const h=!OC(u);let p=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:x}=y;if(_&&x){const w=Gt();qh(w,t.layoutBox,_.layoutBox);const E=Gt();qh(E,n,x.layoutBox),MC(w,E)||(p=!0),y.options.layoutRoot&&(e.relativeTarget=E,e.relativeTargetOrigin=w,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function GI(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ZI(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function qI(e){e.clearSnapshot()}function iw(e){e.clearMeasurements()}function sw(e){e.isLayoutDirty=!1}function KI(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ow(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function YI(e){e.resolveTargetDelta()}function XI(e){e.calcProjection()}function JI(e){e.resetSkewAndRotation()}function QI(e){e.removeLeadSnapshot()}function aw(e,t,n){e.translate=kt(t.translate,0,n),e.scale=kt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function lw(e,t,n,r){e.min=kt(t.min,n.min,r),e.max=kt(t.max,n.max,r)}function eO(e,t,n,r){lw(e.x,t.x,n.x,r),lw(e.y,t.y,n.y,r)}function tO(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const nO={duration:.45,ease:[.4,0,.1,1]},uw=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),cw=uw("applewebkit/")&&!uw("chrome/")?Math.round:_r;function dw(e){e.min=cw(e.min),e.max=cw(e.max)}function rO(e){dw(e.x),dw(e.y)}function VC(e,t,n){return e==="position"||e==="preserve-aspect"&&!PI(Qx(t),Qx(n),.2)}function iO(e){return e!==e.root&&e.scroll?.wasRoot}const sO=FC({attachResizeListener:(e,t)=>pc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zm={current:void 0},$C=FC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!zm.current){const e=new sO({});e.mount(window),e.setOptions({layoutScroll:!0}),zm.current=e}return zm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),sy=C.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function hw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function oO(...e){return t=>{let n=!1;const r=e.map(s=>{const o=hw(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():hw(e[s],null)}}}}function aO(...e){return C.useCallback(oO(...e),e)}class lO extends C.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=dC(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function uO({children:e,isPresent:t,anchorX:n,root:r}){const s=C.useId(),o=C.useRef(null),u=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=C.useContext(sy),h=e.props?.ref??e?.ref,p=aO(o,h);return C.useInsertionEffect(()=>{const{width:y,height:_,top:x,left:w,right:E}=u.current;if(t||!o.current||!y||!_)return;const k=n==="left"?`left: ${w}`:`right: ${E}`;o.current.dataset.motionPopId=s;const R=document.createElement("style");c&&(R.nonce=c);const N=r??document.head;return N.appendChild(R),R.sheet&&R.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${_}px !important;
            ${k}px !important;
            top: ${x}px !important;
          }
        `),()=>{N.contains(R)&&N.removeChild(R)}},[t]),m.jsx(lO,{isPresent:t,childRef:o,sizeRef:u,children:C.cloneElement(e,{ref:p})})}const cO=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:u,anchorX:c,root:h})=>{const p=Nv(dO),y=C.useId();let _=!0,x=C.useMemo(()=>(_=!1,{id:y,initial:t,isPresent:n,custom:s,onExitComplete:w=>{p.set(w,!0);for(const E of p.values())if(!E)return;r&&r()},register:w=>(p.set(w,!1),()=>p.delete(w))}),[n,p,r]);return o&&_&&(x={...x}),C.useMemo(()=>{p.forEach((w,E)=>p.set(E,!1))},[n]),C.useEffect(()=>{!n&&!p.size&&r&&r()},[n]),u==="popLayout"&&(e=m.jsx(uO,{isPresent:n,anchorX:c,root:h,children:e})),m.jsx(_f.Provider,{value:x,children:e})};function dO(){return new Map}function UC(e=!0){const t=C.useContext(_f);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,o=C.useId();C.useEffect(()=>{if(e)return s(o)},[e]);const u=C.useCallback(()=>e&&r&&r(o),[o,r,e]);return!n&&r?[!1,u]:[!0]}const ch=e=>e.key||"";function fw(e){const t=[];return C.Children.forEach(e,n=>{C.isValidElement(n)&&t.push(n)}),t}const hO=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:o="sync",propagate:u=!1,anchorX:c="left",root:h})=>{const[p,y]=UC(u),_=C.useMemo(()=>fw(e),[e]),x=u&&!p?[]:_.map(ch),w=C.useRef(!0),E=C.useRef(_),k=Nv(()=>new Map),R=C.useRef(new Set),[N,A]=C.useState(_),[I,D]=C.useState(_);xS(()=>{w.current=!1,E.current=_;for(let M=0;M<I.length;M++){const B=ch(I[M]);x.includes(B)?(k.delete(B),R.current.delete(B)):k.get(B)!==!0&&k.set(B,!1)}},[I,x.length,x.join("-")]);const V=[];if(_!==N){let M=[..._];for(let B=0;B<I.length;B++){const ee=I[B],ce=ch(ee);x.includes(ce)||(M.splice(B,0,ee),V.push(ee))}return o==="wait"&&V.length&&(M=V),D(fw(M)),A(_),null}const{forceRender:Z}=C.useContext(Lv);return m.jsx(m.Fragment,{children:I.map(M=>{const B=ch(M),ee=u&&!p?!1:_===I||x.includes(B),ce=()=>{if(R.current.has(B))return;if(R.current.add(B),k.has(B))k.set(B,!0);else return;let U=!0;k.forEach(G=>{G||(U=!1)}),U&&(Z?.(),D(E.current),u&&y?.(),r&&r())};return m.jsx(cO,{isPresent:ee,initial:!w.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:o,root:h,onExitComplete:ee?void 0:ce,anchorX:c,children:M},B)})})},HC=C.createContext({strict:!1}),pw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let mw=!1;function fO(){if(mw)return;const e={};for(const t in pw)e[t]={isEnabled:n=>pw[t].some(r=>!!n[r])};_C(e),mw=!0}function WC(){return fO(),J2()}function pO(e){const t=WC();for(const n in e)t[n]={...t[n],...e[n]};_C(t)}const mO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Kh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||mO.has(e)}let GC=e=>!Kh(e);function gO(e){typeof e=="function"&&(GC=t=>t.startsWith("on")?!Kh(t):e(t))}try{gO(require("@emotion/is-prop-valid").default)}catch{}function vO(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(GC(s)||n===!0&&Kh(s)||!t&&!Kh(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const bf=C.createContext({});function yO(e,t){if(wf(e)){const{initial:n,animate:r}=e;return{initial:n===!1||fc(n)?n:void 0,animate:fc(r)?r:void 0}}return e.inherit!==!1?t:{}}function _O(e){const{initial:t,animate:n}=yO(e,C.useContext(bf));return C.useMemo(()=>({initial:t,animate:n}),[gw(t),gw(n)])}function gw(e){return Array.isArray(e)?e.join(" "):e}const oy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZC(e,t,n){for(const r in t)!pn(t[r])&&!PC(r,n)&&(e[r]=t[r])}function xO({transformTemplate:e},t){return C.useMemo(()=>{const n=oy();return ry(n,t,e),Object.assign({},n.vars,n.style)},[t])}function wO(e,t){const n=e.style||{},r={};return ZC(r,n,e),Object.assign(r,xO(e,t)),r}function bO(e,t){const n={},r=wO(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const qC=()=>({...oy(),attrs:{}});function SO(e,t,n,r){const s=C.useMemo(()=>{const o=qC();return EC(o,t,RC(r),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};ZC(o,e.style,e),s.style={...o,...s.style}}return s}const CO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ay(e){return typeof e!="string"||e.includes("-")?!1:!!(CO.indexOf(e)>-1||/[A-Z]/u.test(e))}function kO(e,t,n,{latestValues:r},s,o=!1,u){const h=(u??ay(e)?SO:bO)(t,r,s,e),p=vO(t,typeof e=="string",o),y=e!==C.Fragment?{...p,...h,ref:n}:{},{children:_}=t,x=C.useMemo(()=>pn(_)?_.get():_,[_]);return C.createElement(e,{...y,children:x})}function PO({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:EO(n,r,s,e),renderState:t()}}function EO(e,t,n,r){const s={},o=r(e,{});for(const x in o)s[x]=Eh(o[x]);let{initial:u,animate:c}=e;const h=wf(e),p=yC(e);t&&p&&!h&&e.inherit!==!1&&(u===void 0&&(u=t.initial),c===void 0&&(c=t.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const _=y?c:u;if(_&&typeof _!="boolean"&&!xf(_)){const x=Array.isArray(_)?_:[_];for(let w=0;w<x.length;w++){const E=Yv(e,x[w]);if(E){const{transitionEnd:k,transition:R,...N}=E;for(const A in N){let I=N[A];if(Array.isArray(I)){const D=y?I.length-1:0;I=I[D]}I!==null&&(s[A]=I)}for(const A in k)s[A]=k[A]}}}return s}const KC=e=>(t,n)=>{const r=C.useContext(bf),s=C.useContext(_f),o=()=>PO(e,t,r,s);return n?o():Nv(o)},TO=KC({scrapeMotionValuesFromProps:iy,createRenderState:oy}),RO=KC({scrapeMotionValuesFromProps:LC,createRenderState:qC}),LO=Symbol.for("motionComponentSymbol");function NO(e,t,n){const r=C.useRef(n);C.useInsertionEffect(()=>{r.current=n});const s=C.useRef(null);return C.useCallback(o=>{o&&e.onMount?.(o),t&&(o?t.mount(o):t.unmount());const u=r.current;if(typeof u=="function")if(o){const c=u(o);typeof c=="function"&&(s.current=c)}else s.current?(s.current(),s.current=null):u(o);else u&&(u.current=o)},[t])}const YC=C.createContext({});function Fu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function AO(e,t,n,r,s,o){const{visualElement:u}=C.useContext(bf),c=C.useContext(HC),h=C.useContext(_f),p=C.useContext(sy).reducedMotion,y=C.useRef(null);r=r||c.renderer,!y.current&&r&&(y.current=r(e,{visualState:t,parent:u,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p,isSVG:o}));const _=y.current,x=C.useContext(YC);_&&!_.projection&&s&&(_.type==="html"||_.type==="svg")&&jO(y.current,n,s,x);const w=C.useRef(!1);C.useInsertionEffect(()=>{_&&w.current&&_.update(n,h)});const E=n[rC],k=C.useRef(!!E&&!window.MotionHandoffIsComplete?.(E)&&window.MotionHasOptimisedAnimation?.(E));return xS(()=>{_&&(w.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),_.scheduleRenderMicrotask(),k.current&&_.animationState&&_.animationState.animateChanges())}),C.useEffect(()=>{_&&(!k.current&&_.animationState&&_.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(E)}),k.current=!1),_.enteringChildren=void 0)}),_}function jO(e,t,n,r){const{layoutId:s,layout:o,drag:u,dragConstraints:c,layoutScroll:h,layoutRoot:p,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:XC(e.parent)),e.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!u||c&&Fu(c),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:h,layoutRoot:p})}function XC(e){if(e)return e.options.allowProjection!==!1?e.projection:XC(e.parent)}function Bm(e,{forwardMotionProps:t=!1,type:n}={},r,s){r&&pO(r);const o=n?n==="svg":ay(e),u=o?RO:TO;function c(p,y){let _;const x={...C.useContext(sy),...p,layoutId:IO(p)},{isStatic:w}=x,E=_O(p),k=u(p,w);if(!w&&_S){OO();const R=MO(x);_=R.MeasureLayout,E.visualElement=AO(e,k,x,s,R.ProjectionNode,o)}return m.jsxs(bf.Provider,{value:E,children:[_&&E.visualElement?m.jsx(_,{visualElement:E.visualElement,...x}):null,kO(e,p,NO(k,E.visualElement,y),k,w,t,o)]})}c.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const h=C.forwardRef(c);return h[LO]=e,h}function IO({layoutId:e}){const t=C.useContext(Lv).id;return t&&e!==void 0?t+"-"+e:e}function OO(e,t){C.useContext(HC).strict}function MO(e){const t=WC(),{drag:n,layout:r}=t;if(!n&&!r)return{};const s={...n,...r};return{MeasureLayout:n?.isEnabled(e)||r?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function DO(e,t){if(typeof Proxy>"u")return Bm;const n=new Map,r=(o,u)=>Bm(o,u,e,t),s=(o,u)=>r(o,u);return new Proxy(s,{get:(o,u)=>u==="create"?r:(n.has(u)||n.set(u,Bm(u,void 0,e,t)),n.get(u))})}const zO=(e,t)=>t.isSVG??ay(e)?new mI(t):new uI(t,{allowProjection:e!==C.Fragment});class BO extends qs{constructor(t){super(t),t.animationState||(t.animationState=xI(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();xf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let FO=0;class VO extends qs{constructor(){super(...arguments),this.id=FO++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const $O={animation:{Feature:BO},exit:{Feature:VO}};function Lc(e){return{point:{x:e.pageX,y:e.pageY}}}const UO=e=>t=>ey(t)&&e(t,Lc(t));function Qu(e,t,n,r){return pc(e,t,UO(n),r)}const JC=({current:e})=>e?e.ownerDocument.defaultView:null,vw=(e,t)=>Math.abs(e-t);function HO(e,t){const n=vw(e.x,t.x),r=vw(e.y,t.y);return Math.sqrt(n**2+r**2)}const yw=new Set(["auto","scroll"]);class QC{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:u=3,element:c}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=w=>{this.handleScroll(w.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Vm(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,k=HO(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!k)return;const{point:R}=w,{timestamp:N}=en;this.history.push({...R,timestamp:N});const{onStart:A,onMove:I}=this.handlers;E||(A&&A(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),I&&I(this.lastMoveEvent,w)},this.handlePointerMove=(w,E)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Fm(E,this.transformPagePoint),yt.update(this.updatePoint,!0)},this.handlePointerUp=(w,E)=>{this.end();const{onEnd:k,onSessionEnd:R,resumeAnimation:N}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Vm(w.type==="pointercancel"?this.lastMoveEventInfo:Fm(E,this.transformPagePoint),this.history);this.startEvent&&k&&k(w,A),R&&R(w,A)},!ey(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=s||window;const h=Lc(t),p=Fm(h,this.transformPagePoint),{point:y}=p,{timestamp:_}=en;this.history=[{...y,timestamp:_}];const{onSessionStart:x}=n;x&&x(t,Vm(p,this.history)),this.removeListeners=Ec(Qu(this.contextWindow,"pointermove",this.handlePointerMove),Qu(this.contextWindow,"pointerup",this.handlePointerUp),Qu(this.contextWindow,"pointercancel",this.handlePointerUp)),c&&this.startScrollTracking(c)}startScrollTracking(t){let n=t.parentElement;for(;n;){const r=getComputedStyle(n);(yw.has(r.overflowX)||yw.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const r=t===window,s=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},o={x:s.x-n.x,y:s.y-n.y};o.x===0&&o.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(t,s),yt.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),$s(this.updatePoint)}}function Fm(e,t){return t?{point:t(e.point)}:e}function _w(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Vm({point:e},t){return{point:e,delta:_w(e,e1(t)),offset:_w(e,WO(t)),velocity:GO(t,.1)}}function WO(e){return e[0]}function e1(e){return e[e.length-1]}function GO(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=e1(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Ui(t)));)n--;if(!r)return{x:0,y:0};const o=yr(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const u={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function ZO(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?kt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?kt(n,e,r.max):Math.min(e,n)),e}function xw(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function qO(e,{top:t,left:n,bottom:r,right:s}){return{x:xw(e.x,n,s),y:xw(e.y,t,r)}}function ww(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function KO(e,t){return{x:ww(e.x,t.x),y:ww(e.y,t.y)}}function YO(e,t){let n=.5;const r=Cn(e),s=Cn(t);return s>r?n=cc(t.min,t.max-r,e.min):r>s&&(n=cc(e.min,e.max-s,t.min)),ci(0,1,n)}function XO(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Qg=.35;function JO(e=Qg){return e===!1?e=0:e===!0&&(e=Qg),{x:bw(e,"left","right"),y:bw(e,"top","bottom")}}function bw(e,t,n){return{min:Sw(e,t),max:Sw(e,n)}}function Sw(e,t){return typeof e=="number"?e:e[t]||0}const QO=new WeakMap;class eM{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Gt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=_=>{n?(this.stopAnimation(),this.snapToCursor(Lc(_).point)):this.pauseAnimation()},u=(_,x)=>{this.stopAnimation();const{drag:w,dragPropagation:E,onDragStart:k}=this.getProps();if(w&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=F2(w),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),mr(N=>{let A=this.getAxisMotionValue(N).get()||0;if(li.test(A)){const{projection:I}=this.visualElement;if(I&&I.layout){const D=I.layout.layoutBox[N];D&&(A=Cn(D)*(parseFloat(A)/100))}}this.originPoint[N]=A}),k&&yt.postRender(()=>k(_,x)),Gg(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},c=(_,x)=>{this.latestPointerEvent=_,this.latestPanInfo=x;const{dragPropagation:w,dragDirectionLock:E,onDirectionLock:k,onDrag:R}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:N}=x;if(E&&this.currentDirection===null){this.currentDirection=tM(N),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",x.point,N),this.updateAxis("y",x.point,N),this.visualElement.render(),R&&R(_,x)},h=(_,x)=>{this.latestPointerEvent=_,this.latestPanInfo=x,this.stop(_,x),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>mr(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new QC(t,{onSessionStart:o,onStart:u,onMove:c,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:JC(this.visualElement),element:this.visualElement.current})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!r)return;const{velocity:u}=s;this.startAnimation(u);const{onDragEnd:c}=this.getProps();c&&yt.postRender(()=>c(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!dh(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let u=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(u=ZO(u,this.constraints[t],this.elastic[t])),o.set(u)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&Fu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=qO(r.layoutBox,t):this.constraints=!1,this.elastic=JO(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&mr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=XO(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Fu(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=rI(r,s.root,this.visualElement.getTransformPagePoint());let u=KO(s.layout.layoutBox,o);if(n){const c=n(eI(u));this.hasMutatedConstraints=!!c,c&&(u=wC(c))}return u}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},p=mr(y=>{if(!dh(y,n,this.currentDirection))return;let _=h&&h[y]||{};u&&(_={min:0,max:0});const x=s?200:1e6,w=s?40:1e7,E={type:"inertia",velocity:r?t[y]:0,bounceStiffness:x,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...o,..._};return this.startAxisValueAnimation(y,E)});return Promise.all(p).then(c)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Gg(this.visualElement,t),r.start(Kv(t,r,0,n,this.visualElement,!1))}stopAnimation(){mr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){mr(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){mr(n=>{const{drag:r}=this.getProps();if(!dh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:u,max:c}=s.layout.layoutBox[n],h=o.get()||0;o.set(t[n]-kt(u,c,.5)+h)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Fu(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};mr(u=>{const c=this.getAxisMotionValue(u);if(c&&this.constraints!==!1){const h=c.get();s[u]=YO({min:h,max:h},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),mr(u=>{if(!dh(u,t,null))return;const c=this.getAxisMotionValue(u),{min:h,max:p}=this.constraints[u];c.set(kt(h,p,s[u]))})}addListeners(){if(!this.visualElement.current)return;QO.set(this.visualElement,this);const t=this.visualElement.current,n=Qu(t,"pointerdown",h=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&!mC(h.target)&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Fu(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),yt.read(r);const u=pc(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(mr(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=h[y].translate,_.set(_.get()+h[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),o(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:u=Qg,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:u,dragMomentum:c}}}function dh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function tM(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class nM extends qs{constructor(t){super(t),this.removeGroupControls=_r,this.removeListeners=_r,this.controls=new eM(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_r}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const Cw=e=>(t,n)=>{e&&yt.postRender(()=>e(t,n))};class rM extends qs{constructor(){super(...arguments),this.removePointerDownListener=_r}onPointerDown(t){this.session=new QC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:JC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Cw(t),onStart:Cw(n),onMove:r,onEnd:(o,u)=>{delete this.session,s&&yt.postRender(()=>s(o,u))}}}mount(){this.removePointerDownListener=Qu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let $m=!1;class iM extends C.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=t;o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),$m&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Th.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,{projection:u}=r;return u&&(u.isPresent=o,$m=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==o?u.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?u.promote():u.relegate()||yt.postRender(()=>{const c=u.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Qv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;$m=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function t1(e){const[t,n]=UC(),r=C.useContext(Lv);return m.jsx(iM,{...e,layoutGroup:r,switchLayoutGroup:C.useContext(YC),isPresent:t,safeToRemove:n})}const sM={pan:{Feature:rM},drag:{Feature:nM,ProjectionNode:$C,MeasureLayout:t1}};function kw(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=r[s];o&&yt.postRender(()=>o(t,Lc(t)))}class oM extends qs{mount(){const{current:t}=this.node;t&&(this.unmount=V2(t,(n,r)=>(kw(this.node,r,"Start"),s=>kw(this.node,s,"End"))))}unmount(){}}class aM extends qs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ec(pc(this.node.current,"focus",()=>this.onFocus()),pc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Pw(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=r[s];o&&yt.postRender(()=>o(t,Lc(t)))}class lM extends qs{mount(){const{current:t}=this.node;t&&(this.unmount=H2(t,(n,r)=>(Pw(this.node,r,"Start"),(s,{success:o})=>Pw(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ev=new WeakMap,Um=new WeakMap,uM=e=>{const t=ev.get(e.target);t&&t(e)},cM=e=>{e.forEach(uM)};function dM({root:e,...t}){const n=e||document;Um.has(n)||Um.set(n,{});const r=Um.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(cM,{root:e,...t})),r[s]}function hM(e,t,n){const r=dM(t);return ev.set(e,n),r.observe(e),()=>{ev.delete(e),r.unobserve(e)}}const fM={some:0,all:1};class pM extends qs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=t,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:fM[s]},c=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,o&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),x=p?y:_;x&&x(h)};return hM(this.node.current,u,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(mM(t,n))&&this.startObserver()}unmount(){}}function mM({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const gM={inView:{Feature:pM},tap:{Feature:lM},focus:{Feature:aM},hover:{Feature:oM}},vM={layout:{ProjectionNode:$C,MeasureLayout:t1}},yM={...$O,...gM,...sM,...vM},pl=DO(yM,zO);function _M(){const{profile:e,permissions:t,logout:n,isAdmin:r}=kc(),{isSidebarCollapsed:s,setIsSidebarCollapsed:o,setIsSidebarOpen:u}=Sc(),c=[{label:"Map Explorer",id:"map",path:"/",icon:m.jsx(Lg,{size:18}),category:"GIS"},{label:"Survey Management",id:"surveys",path:"/surveys",icon:m.jsx(dS,{size:18}),category:"Operations"},{label:"Financials",id:"financials",path:"/financials",icon:m.jsx(uS,{size:18}),category:"Operations"},{label:"Staff Performance",id:"performance",path:"/performance",icon:m.jsx(hA,{size:18}),category:"Intelligence"},{label:"Complaints",id:"tickets",path:"/tickets",icon:m.jsx(yS,{size:18}),category:"Intelligence"},{label:"Database Stats",id:"stats",path:"/stats",icon:m.jsx(cS,{size:18}),category:"System"},{label:"Settings",id:"settings",path:"/settings",icon:m.jsx(vS,{size:18}),category:"System"},{label:"Style Lab",id:"style_lab",path:"/style-lab",icon:m.jsx(MA,{size:18}),category:"System"}],h=["GIS","Operations","Intelligence","System"],p=c.filter(y=>t?t[y.id]!==!1:!0);return m.jsxs("div",{className:`flex flex-col h-full font-sans transition-all duration-300 bg-secondary border-r border-border animate-fade-in relative overflow-hidden ${s?"items-center":""}`,children:[m.jsxs("div",{onClick:()=>s&&o(!1),className:`h-14 flex items-center border-b border-border/40 mb-2 bg-background/20 backdrop-blur-sm shrink-0 shadow-sm transition-all ${s?"justify-center cursor-pointer hover:bg-background/40 w-full":"justify-between px-4"}`,children:[m.jsxs("div",{className:`flex items-center gap-3 overflow-hidden ${s?"w-auto":""}`,children:[m.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0 border border-border bg-card shadow-sm transition-transform hover:rotate-3 duration-500",children:m.jsx(Pc,{className:"text-primary",size:18})}),!s&&m.jsx("div",{className:"overflow-hidden min-w-0",children:m.jsxs("h1",{className:"text-lg font-black tracking-tight whitespace-nowrap text-foreground uppercase truncate",children:["Billing",m.jsx("span",{className:"text-primary",children:"."}),"Map"]})})]}),!s&&m.jsx("button",{onClick:y=>{y.stopPropagation(),o(!0)},className:"text-muted-foreground hover:text-foreground hidden md:block transition-colors p-1 rounded-md hover:bg-background/40",children:m.jsx(LA,{size:16})})]}),m.jsx("nav",{className:`flex-1 overflow-y-auto ${s?"px-2":"px-4"} py-2 space-y-8 no-scrollbar scrollbar-hide w-full`,children:h.map(y=>{const _=p.filter(x=>x.category===y);return _.length===0?null:m.jsxs("div",{className:"space-y-1",children:[!s&&m.jsx("h3",{className:"px-4 text-[9px] font-black text-muted-foreground/60 uppercase tracking-[0.3em] mb-4",children:y}),s&&m.jsx("div",{className:"h-px bg-border/20 mx-2 my-2"}),_.map(x=>m.jsx(xR,{to:x.path,onClick:()=>u(!1),title:s?x.label:"",className:({isActive:w})=>`
                                        flex items-center ${s?"justify-center p-2":"justify-between px-4 py-2.5"} rounded-lg transition-all group relative mb-0.5
                                        ${w?"bg-background/60 text-foreground border border-border shadow-sm":"text-muted-foreground hover:bg-background/20 hover:text-foreground border border-transparent"}
                                    `,children:({isActive:w})=>m.jsxs(m.Fragment,{children:[w&&!s&&m.jsx(pl.div,{layoutId:"active-indicator",className:"absolute left-0 w-0.5 h-4 bg-primary rounded-full"}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("span",{className:`transition-all duration-300 ${w?"text-primary scale-110":"group-hover:text-foreground"} ${s?"w-6 flex justify-center":""}`,children:x.icon}),!s&&m.jsx("span",{className:`text-[13px] font-bold tracking-tight ${w?"font-black":""}`,children:x.label})]}),!s&&m.jsx(hl,{size:14,className:`opacity-0 group-hover:opacity-40 transition-opacity ${w?"text-primary opacity-60":""}`})]})},x.path))]},y)})}),m.jsx("div",{className:`mt-auto ${s?"p-1":"p-4"}`,children:m.jsxs("div",{className:`rounded-xl ${s?"border-none bg-transparent":"border border-border bg-card shadow-sm"} flex items-center ${s?"justify-center p-1":"justify-between p-3"} group cursor-pointer transition-all`,children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"w-9 h-9 rounded-lg bg-secondary border border-border flex items-center justify-center overflow-hidden",children:m.jsx("span",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-tighter",children:e?.full_name?.split(" ").map(y=>y[0]).join("")||"U"})}),m.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 border-2 rounded-full bg-emerald-500 border-card"})]}),!s&&m.jsxs("div",{className:"overflow-hidden min-w-0 flex-1 ml-1 select-none",children:[m.jsx("div",{className:"text-[11px] font-black truncate text-foreground uppercase tracking-tight",children:e?.full_name?.toUpperCase()?.trim()==="SYSTEM ADMINISTRATOR"?"Access Control":e?.full_name||"Terminal"}),m.jsxs("div",{className:"text-[8px] font-bold truncate text-muted-foreground/60 uppercase tracking-[0.15em] mt-0.5 flex items-center gap-1.5 translate-y-[-1px]",children:[m.jsx("span",{className:"w-1 h-1 rounded-full bg-emerald-500 shadow-[0_0_4px_rgba(16,185,129,0.5)]"}),r?"Root (Master)":"Operator"]})]})]}),!s&&m.jsx("button",{type:"button",onClick:y=>{y.preventDefault(),y.stopPropagation(),n()},className:"p-2 rounded-lg transition-all shrink-0 text-muted-foreground hover:text-rose-500 hover:bg-rose-500/10 relative z-[99] cursor-pointer",title:"Sign Out",children:m.jsx(kA,{size:16})})]})})]})}function n1(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=n1(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function r1(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=n1(e))&&(r&&(r+=" "),r+=t);return r}const xM=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},wM=(e,t)=>({classGroupId:e,validator:t}),i1=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Yh="-",Ew=[],bM="arbitrary..",SM=e=>{const t=kM(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return CM(u);const c=u.split(Yh),h=c[0]===""&&c.length>1?1:0;return s1(c,h,t)},getConflictingClassGroupIds:(u,c)=>{if(c){const h=r[u],p=n[u];return h?p?xM(p,h):h:p||Ew}return n[u]||Ew}}},s1=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const s=e[t],o=n.nextPart.get(s);if(o){const p=s1(e,t+1,o);if(p)return p}const u=n.validators;if(u===null)return;const c=t===0?e.join(Yh):e.slice(t).join(Yh),h=u.length;for(let p=0;p<h;p++){const y=u[p];if(y.validator(c))return y.classGroupId}},CM=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?bM+r:void 0})(),kM=e=>{const{theme:t,classGroups:n}=e;return PM(n,t)},PM=(e,t)=>{const n=i1();for(const r in e){const s=e[r];ly(s,n,r,t)}return n},ly=(e,t,n,r)=>{const s=e.length;for(let o=0;o<s;o++){const u=e[o];EM(u,t,n,r)}},EM=(e,t,n,r)=>{if(typeof e=="string"){TM(e,t,n);return}if(typeof e=="function"){RM(e,t,n,r);return}LM(e,t,n,r)},TM=(e,t,n)=>{const r=e===""?t:o1(t,e);r.classGroupId=n},RM=(e,t,n,r)=>{if(NM(e)){ly(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(wM(n,e))},LM=(e,t,n,r)=>{const s=Object.entries(e),o=s.length;for(let u=0;u<o;u++){const[c,h]=s[u];ly(h,o1(t,c),n,r)}},o1=(e,t)=>{let n=e;const r=t.split(Yh),s=r.length;for(let o=0;o<s;o++){const u=r[o];let c=n.nextPart.get(u);c||(c=i1(),n.nextPart.set(u,c)),n=c}return n},NM=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,AM=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const s=(o,u)=>{n[o]=u,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(o){let u=n[o];if(u!==void 0)return u;if((u=r[o])!==void 0)return s(o,u),u},set(o,u){o in n?n[o]=u:s(o,u)}}},tv="!",Tw=":",jM=[],Rw=(e,t,n,r,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:s}),IM=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const o=[];let u=0,c=0,h=0,p;const y=s.length;for(let k=0;k<y;k++){const R=s[k];if(u===0&&c===0){if(R===Tw){o.push(s.slice(h,k)),h=k+1;continue}if(R==="/"){p=k;continue}}R==="["?u++:R==="]"?u--:R==="("?c++:R===")"&&c--}const _=o.length===0?s:s.slice(h);let x=_,w=!1;_.endsWith(tv)?(x=_.slice(0,-1),w=!0):_.startsWith(tv)&&(x=_.slice(1),w=!0);const E=p&&p>h?p-h:void 0;return Rw(o,w,x,E)};if(t){const s=t+Tw,o=r;r=u=>u.startsWith(s)?o(u.slice(s.length)):Rw(jM,!1,u,void 0,!0)}if(n){const s=r;r=o=>n({className:o,parseClassName:s})}return r},OM=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let s=[];for(let o=0;o<n.length;o++){const u=n[o],c=u[0]==="[",h=t.has(u);c||h?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(u)):s.push(u)}return s.length>0&&(s.sort(),r.push(...s)),r}},MM=e=>({cache:AM(e.cacheSize),parseClassName:IM(e),sortModifiers:OM(e),...SM(e)}),DM=/\s+/,zM=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=t,u=[],c=e.trim().split(DM);let h="";for(let p=c.length-1;p>=0;p-=1){const y=c[p],{isExternal:_,modifiers:x,hasImportantModifier:w,baseClassName:E,maybePostfixModifierPosition:k}=n(y);if(_){h=y+(h.length>0?" "+h:h);continue}let R=!!k,N=r(R?E.substring(0,k):E);if(!N){if(!R){h=y+(h.length>0?" "+h:h);continue}if(N=r(E),!N){h=y+(h.length>0?" "+h:h);continue}R=!1}const A=x.length===0?"":x.length===1?x[0]:o(x).join(":"),I=w?A+tv:A,D=I+N;if(u.indexOf(D)>-1)continue;u.push(D);const V=s(N,R);for(let Z=0;Z<V.length;++Z){const M=V[Z];u.push(I+M)}h=y+(h.length>0?" "+h:h)}return h},BM=(...e)=>{let t=0,n,r,s="";for(;t<e.length;)(n=e[t++])&&(r=a1(n))&&(s&&(s+=" "),s+=r);return s},a1=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=a1(e[r]))&&(n&&(n+=" "),n+=t);return n},FM=(e,...t)=>{let n,r,s,o;const u=h=>{const p=t.reduce((y,_)=>_(y),e());return n=MM(p),r=n.cache.get,s=n.cache.set,o=c,c(h)},c=h=>{const p=r(h);if(p)return p;const y=zM(h,n);return s(h,y),y};return o=u,(...h)=>o(BM(...h))},VM=[],Ht=e=>{const t=n=>n[e]||VM;return t.isThemeGetter=!0,t},l1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,u1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,$M=/^\d+\/\d+$/,UM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,WM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,GM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ZM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ya=e=>$M.test(e),Qe=e=>!!e&&!Number.isNaN(Number(e)),Ns=e=>!!e&&Number.isInteger(Number(e)),Hm=e=>e.endsWith("%")&&Qe(e.slice(0,-1)),zi=e=>UM.test(e),qM=()=>!0,KM=e=>HM.test(e)&&!WM.test(e),c1=()=>!1,YM=e=>GM.test(e),XM=e=>ZM.test(e),JM=e=>!Re(e)&&!Le(e),QM=e=>Tl(e,f1,c1),Re=e=>l1.test(e),jo=e=>Tl(e,p1,KM),Wm=e=>Tl(e,iD,Qe),Lw=e=>Tl(e,d1,c1),eD=e=>Tl(e,h1,XM),hh=e=>Tl(e,m1,YM),Le=e=>u1.test(e),Ou=e=>Rl(e,p1),tD=e=>Rl(e,sD),Nw=e=>Rl(e,d1),nD=e=>Rl(e,f1),rD=e=>Rl(e,h1),fh=e=>Rl(e,m1,!0),Tl=(e,t,n)=>{const r=l1.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Rl=(e,t,n=!1)=>{const r=u1.exec(e);return r?r[1]?t(r[1]):n:!1},d1=e=>e==="position"||e==="percentage",h1=e=>e==="image"||e==="url",f1=e=>e==="length"||e==="size"||e==="bg-size",p1=e=>e==="length",iD=e=>e==="number",sD=e=>e==="family-name",m1=e=>e==="shadow",oD=()=>{const e=Ht("color"),t=Ht("font"),n=Ht("text"),r=Ht("font-weight"),s=Ht("tracking"),o=Ht("leading"),u=Ht("breakpoint"),c=Ht("container"),h=Ht("spacing"),p=Ht("radius"),y=Ht("shadow"),_=Ht("inset-shadow"),x=Ht("text-shadow"),w=Ht("drop-shadow"),E=Ht("blur"),k=Ht("perspective"),R=Ht("aspect"),N=Ht("ease"),A=Ht("animate"),I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],V=()=>[...D(),Le,Re],Z=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],B=()=>[Le,Re,h],ee=()=>[Ya,"full","auto",...B()],ce=()=>[Ns,"none","subgrid",Le,Re],U=()=>["auto",{span:["full",Ns,Le,Re]},Ns,Le,Re],G=()=>[Ns,"auto",Le,Re],ge=()=>["auto","min","max","fr",Le,Re],le=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],be=()=>["start","end","center","stretch","center-safe","end-safe"],ye=()=>["auto",...B()],_e=()=>[Ya,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...B()],F=()=>[e,Le,Re],me=()=>[...D(),Nw,Lw,{position:[Le,Re]}],re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",nD,QM,{size:[Le,Re]}],se=()=>[Hm,Ou,jo],ie=()=>["","none","full",p,Le,Re],oe=()=>["",Qe,Ou,jo],ue=()=>["solid","dashed","dotted","double"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>[Qe,Hm,Nw,Lw],K=()=>["","none",E,Le,Re],de=()=>["none",Qe,Le,Re],we=()=>["none",Qe,Le,Re],Oe=()=>[Qe,Le,Re],Be=()=>[Ya,"full",...B()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[zi],breakpoint:[zi],color:[qM],container:[zi],"drop-shadow":[zi],ease:["in","out","in-out"],font:[JM],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[zi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[zi],shadow:[zi],spacing:["px",Qe],text:[zi],"text-shadow":[zi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ya,Re,Le,R]}],container:["container"],columns:[{columns:[Qe,Re,Le,c]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:V()}],overflow:[{overflow:Z()}],"overflow-x":[{"overflow-x":Z()}],"overflow-y":[{"overflow-y":Z()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ee()}],"inset-x":[{"inset-x":ee()}],"inset-y":[{"inset-y":ee()}],start:[{start:ee()}],end:[{end:ee()}],top:[{top:ee()}],right:[{right:ee()}],bottom:[{bottom:ee()}],left:[{left:ee()}],visibility:["visible","invisible","collapse"],z:[{z:[Ns,"auto",Le,Re]}],basis:[{basis:[Ya,"full","auto",c,...B()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Qe,Ya,"auto","initial","none",Re]}],grow:[{grow:["",Qe,Le,Re]}],shrink:[{shrink:["",Qe,Le,Re]}],order:[{order:[Ns,"first","last","none",Le,Re]}],"grid-cols":[{"grid-cols":ce()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":ce()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ge()}],"auto-rows":[{"auto-rows":ge()}],gap:[{gap:B()}],"gap-x":[{"gap-x":B()}],"gap-y":[{"gap-y":B()}],"justify-content":[{justify:[...le(),"normal"]}],"justify-items":[{"justify-items":[...be(),"normal"]}],"justify-self":[{"justify-self":["auto",...be()]}],"align-content":[{content:["normal",...le()]}],"align-items":[{items:[...be(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...be(),{baseline:["","last"]}]}],"place-content":[{"place-content":le()}],"place-items":[{"place-items":[...be(),"baseline"]}],"place-self":[{"place-self":["auto",...be()]}],p:[{p:B()}],px:[{px:B()}],py:[{py:B()}],ps:[{ps:B()}],pe:[{pe:B()}],pt:[{pt:B()}],pr:[{pr:B()}],pb:[{pb:B()}],pl:[{pl:B()}],m:[{m:ye()}],mx:[{mx:ye()}],my:[{my:ye()}],ms:[{ms:ye()}],me:[{me:ye()}],mt:[{mt:ye()}],mr:[{mr:ye()}],mb:[{mb:ye()}],ml:[{ml:ye()}],"space-x":[{"space-x":B()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":B()}],"space-y-reverse":["space-y-reverse"],size:[{size:_e()}],w:[{w:[c,"screen",..._e()]}],"min-w":[{"min-w":[c,"screen","none",..._e()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[u]},..._e()]}],h:[{h:["screen","lh",..._e()]}],"min-h":[{"min-h":["screen","lh","none",..._e()]}],"max-h":[{"max-h":["screen","lh",..._e()]}],"font-size":[{text:["base",n,Ou,jo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Le,Wm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Hm,Re]}],"font-family":[{font:[tD,Re,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Le,Re]}],"line-clamp":[{"line-clamp":[Qe,"none",Le,Wm]}],leading:[{leading:[o,...B()]}],"list-image":[{"list-image":["none",Le,Re]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Le,Re]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:[Qe,"from-font","auto",Le,jo]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[Qe,"auto",Le,Re]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Le,Re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le,Re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:me()}],"bg-repeat":[{bg:re()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ns,Le,Re],radial:["",Le,Re],conic:[Ns,Le,Re]},rD,eD]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:se()}],"gradient-via-pos":[{via:se()}],"gradient-to-pos":[{to:se()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:ie()}],"rounded-s":[{"rounded-s":ie()}],"rounded-e":[{"rounded-e":ie()}],"rounded-t":[{"rounded-t":ie()}],"rounded-r":[{"rounded-r":ie()}],"rounded-b":[{"rounded-b":ie()}],"rounded-l":[{"rounded-l":ie()}],"rounded-ss":[{"rounded-ss":ie()}],"rounded-se":[{"rounded-se":ie()}],"rounded-ee":[{"rounded-ee":ie()}],"rounded-es":[{"rounded-es":ie()}],"rounded-tl":[{"rounded-tl":ie()}],"rounded-tr":[{"rounded-tr":ie()}],"rounded-br":[{"rounded-br":ie()}],"rounded-bl":[{"rounded-bl":ie()}],"border-w":[{border:oe()}],"border-w-x":[{"border-x":oe()}],"border-w-y":[{"border-y":oe()}],"border-w-s":[{"border-s":oe()}],"border-w-e":[{"border-e":oe()}],"border-w-t":[{"border-t":oe()}],"border-w-r":[{"border-r":oe()}],"border-w-b":[{"border-b":oe()}],"border-w-l":[{"border-l":oe()}],"divide-x":[{"divide-x":oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ue(),"hidden","none"]}],"divide-style":[{divide:[...ue(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...ue(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Qe,Le,Re]}],"outline-w":[{outline:["",Qe,Ou,jo]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",y,fh,hh]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",_,fh,hh]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[Qe,jo]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":oe()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",x,fh,hh]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[Qe,Le,Re]}],"mix-blend":[{"mix-blend":[...ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ae()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Qe]}],"mask-image-linear-from-pos":[{"mask-linear-from":J()}],"mask-image-linear-to-pos":[{"mask-linear-to":J()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":J()}],"mask-image-t-to-pos":[{"mask-t-to":J()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":J()}],"mask-image-r-to-pos":[{"mask-r-to":J()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":J()}],"mask-image-b-to-pos":[{"mask-b-to":J()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":J()}],"mask-image-l-to-pos":[{"mask-l-to":J()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":J()}],"mask-image-x-to-pos":[{"mask-x-to":J()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":J()}],"mask-image-y-to-pos":[{"mask-y-to":J()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[Le,Re]}],"mask-image-radial-from-pos":[{"mask-radial-from":J()}],"mask-image-radial-to-pos":[{"mask-radial-to":J()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[Qe]}],"mask-image-conic-from-pos":[{"mask-conic-from":J()}],"mask-image-conic-to-pos":[{"mask-conic-to":J()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:me()}],"mask-repeat":[{mask:re()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Le,Re]}],filter:[{filter:["","none",Le,Re]}],blur:[{blur:K()}],brightness:[{brightness:[Qe,Le,Re]}],contrast:[{contrast:[Qe,Le,Re]}],"drop-shadow":[{"drop-shadow":["","none",w,fh,hh]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",Qe,Le,Re]}],"hue-rotate":[{"hue-rotate":[Qe,Le,Re]}],invert:[{invert:["",Qe,Le,Re]}],saturate:[{saturate:[Qe,Le,Re]}],sepia:[{sepia:["",Qe,Le,Re]}],"backdrop-filter":[{"backdrop-filter":["","none",Le,Re]}],"backdrop-blur":[{"backdrop-blur":K()}],"backdrop-brightness":[{"backdrop-brightness":[Qe,Le,Re]}],"backdrop-contrast":[{"backdrop-contrast":[Qe,Le,Re]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Qe,Le,Re]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Qe,Le,Re]}],"backdrop-invert":[{"backdrop-invert":["",Qe,Le,Re]}],"backdrop-opacity":[{"backdrop-opacity":[Qe,Le,Re]}],"backdrop-saturate":[{"backdrop-saturate":[Qe,Le,Re]}],"backdrop-sepia":[{"backdrop-sepia":["",Qe,Le,Re]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":B()}],"border-spacing-x":[{"border-spacing-x":B()}],"border-spacing-y":[{"border-spacing-y":B()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Le,Re]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Qe,"initial",Le,Re]}],ease:[{ease:["linear","initial",N,Le,Re]}],delay:[{delay:[Qe,Le,Re]}],animate:[{animate:["none",A,Le,Re]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,Le,Re]}],"perspective-origin":[{"perspective-origin":V()}],rotate:[{rotate:de()}],"rotate-x":[{"rotate-x":de()}],"rotate-y":[{"rotate-y":de()}],"rotate-z":[{"rotate-z":de()}],scale:[{scale:we()}],"scale-x":[{"scale-x":we()}],"scale-y":[{"scale-y":we()}],"scale-z":[{"scale-z":we()}],"scale-3d":["scale-3d"],skew:[{skew:Oe()}],"skew-x":[{"skew-x":Oe()}],"skew-y":[{"skew-y":Oe()}],transform:[{transform:[Le,Re,"","none","gpu","cpu"]}],"transform-origin":[{origin:V()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Be()}],"translate-x":[{"translate-x":Be()}],"translate-y":[{"translate-y":Be()}],"translate-z":[{"translate-z":Be()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le,Re]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le,Re]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[Qe,Ou,jo,Wm]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},aD=FM(oD);function Me(...e){return aD(r1(e))}function uy(e,t,n){if(!e)return"";let r=e.replace(`${t} - `,"").replace(`${n} - `,"");if(t?.toUpperCase()==="KHUSHAB")return r.trim();const s=r.match(/((?:MC|UC|Zone|Ward)[-\s]*\d+)/i);return s?s[1].toUpperCase().replace(/\s/g,""):r.split(",")[0].trim().split(" ")[0]}function lD(e,t){return t?t.includes(e)?t:`${e} - ${t}`:e||"Unknown Location"}const Wi=C.forwardRef(({className:e,type:t,...n},r)=>m.jsx("input",{type:t,className:Me("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));Wi.displayName="Input";function Aw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ll(...e){return t=>{let n=!1;const r=e.map(s=>{const o=Aw(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():Aw(e[s],null)}}}}function dt(...e){return C.useCallback(Ll(...e),e)}var uD=Symbol.for("react.lazy"),Xh=xc[" use ".trim().toString()];function cD(e){return typeof e=="object"&&e!==null&&"then"in e}function g1(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===uD&&"_payload"in e&&cD(e._payload)}function v1(e){const t=hD(e),n=C.forwardRef((r,s)=>{let{children:o,...u}=r;g1(o)&&typeof Xh=="function"&&(o=Xh(o._payload));const c=C.Children.toArray(o),h=c.find(pD);if(h){const p=h.props.children,y=c.map(_=>_===h?C.Children.count(p)>1?C.Children.only(null):C.isValidElement(p)?p.props.children:null:_);return m.jsx(t,{...u,ref:s,children:C.isValidElement(p)?C.cloneElement(p,void 0,y):null})}return m.jsx(t,{...u,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var dD=v1("Slot");function hD(e){const t=C.forwardRef((n,r)=>{let{children:s,...o}=n;if(g1(s)&&typeof Xh=="function"&&(s=Xh(s._payload)),C.isValidElement(s)){const u=gD(s),c=mD(o,s.props);return s.type!==C.Fragment&&(c.ref=r?Ll(r,u):u),C.cloneElement(s,c)}return C.Children.count(s)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var fD=Symbol("radix.slottable");function pD(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===fD}function mD(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...c)=>{const h=o(...c);return s(...c),h}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function gD(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const jw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Iw=r1,cy=(e,t)=>n=>{var r;if(t?.variants==null)return Iw(e,n?.class,n?.className);const{variants:s,defaultVariants:o}=t,u=Object.keys(s).map(p=>{const y=n?.[p],_=o?.[p];if(y===null)return null;const x=jw(y)||jw(_);return s[p][x]}),c=n&&Object.entries(n).reduce((p,y)=>{let[_,x]=y;return x===void 0||(p[_]=x),p},{}),h=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((p,y)=>{let{class:_,className:x,...w}=y;return Object.entries(w).every(E=>{let[k,R]=E;return Array.isArray(R)?R.includes({...o,...c}[k]):{...o,...c}[k]===R})?[...p,_,x]:p},[]);return Iw(e,u,h,n?.class,n?.className)},vD=cy("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),He=C.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const u=r?dD:"button";return m.jsx(u,{className:Me(vD({variant:t,size:n,className:e})),ref:o,...s})});He.displayName="Button";const yD=cy("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",paid:"border-transparent bg-paid text-white shadow hover:bg-paid/80",unpaid:"border-transparent bg-unpaid text-white shadow hover:bg-unpaid/80",outline:"text-foreground",gray:"border-transparent bg-muted text-muted-foreground hover:bg-muted/80"}},defaultVariants:{variant:"default"}});function Ms({className:e,variant:t,...n}){return m.jsx("div",{className:Me(yD({variant:t}),e),...n})}function _D({onMenuClick:e}){const{query:t,setQuery:n}=Fb(),{theme:r,toggleTheme:s}=gf(),{profile:o,isAdmin:u}=kc();return m.jsxs("header",{className:"h-14 border-b border-border bg-background/95 flex items-center justify-between px-4 md:px-6 z-40 transition-all backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[m.jsx(He,{variant:"ghost",size:"icon",onClick:e,className:"md:hidden -ml-2 mr-2 text-muted-foreground hover:text-foreground transition-colors",children:m.jsx(TA,{size:20})}),m.jsx("div",{className:"flex-1 max-w-xl",children:m.jsxs("div",{className:"relative group",children:[m.jsx(uc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground group-focus-within:text-primary transition-colors"}),m.jsx(Wi,{type:"text",className:"pl-10 pr-12 h-9 bg-secondary/50 border-transparent focus:border-primary/20 transition-all font-medium",placeholder:"Power Search (Survey ID, PSID, or Consumer Name)...",value:t,onChange:c=>n(c.target.value)}),m.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none hidden sm:flex items-center gap-1",children:m.jsxs(Ms,{variant:"outline",className:"h-5 px-1 bg-background text-[10px] font-black opacity-30 border-border",children:[m.jsx(vA,{size:10,className:"mr-0.5"})," K"]})})]})}),m.jsxs("div",{className:"flex items-center gap-2 ml-6",children:[m.jsx(He,{variant:"ghost",size:"icon",onClick:s,className:"text-muted-foreground hover:text-primary transition-all duration-300",title:`Switch to ${r==="light"?"Dark":"Light"} Mode`,children:r==="light"?m.jsx(gS,{size:18}):m.jsx(Ng,{size:18})}),m.jsx("div",{className:"h-4 w-px bg-border/40 mx-1"}),m.jsxs(He,{variant:"ghost",size:"icon",className:"relative text-muted-foreground hover:text-primary transition-colors",children:[m.jsx(lS,{size:18}),m.jsx("span",{className:"absolute top-2.5 right-2.5 w-1.5 h-1.5 bg-primary rounded-full"})]}),m.jsx("div",{className:"h-4 w-px bg-border/40 mx-1"}),m.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[m.jsxs("div",{className:"text-right hidden sm:block select-none",children:[m.jsx("div",{className:"text-[11px] font-black text-foreground uppercase tracking-tight truncate max-w-[140px]",children:o?.full_name?.toUpperCase()?.trim()==="SYSTEM ADMINISTRATOR"?"Terminal Main":o?.full_name||"Terminal"}),m.jsx("div",{className:"text-[7.5px] text-emerald-500/80 font-black uppercase tracking-[0.2em] mt-0.5 flex items-center justify-end gap-1.5",children:u?"Root Node":"Active"})]}),m.jsx("div",{className:"w-8 h-8 rounded-lg bg-card border border-border flex items-center justify-center text-primary shadow-sm hover:border-primary/40 transition-all",children:m.jsx(jA,{size:16})})]})]})]})}function dy(e,t){const n=C.useRef(t);C.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function y1(e,t,n){t.center!==n.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==n.radius&&e.setRadius(t.radius)}const _1=1;function x1(e){return Object.freeze({__version:_1,map:e})}function w1(e,t){return Object.freeze({...e,...t})}const hy=C.createContext(null),fy=hy.Provider;function Nl(){const e=C.useContext(hy);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function py(e){function t(n,r){const{instance:s,context:o}=e(n).current;return C.useImperativeHandle(r,()=>s),n.children==null?null:In.createElement(fy,{value:o},n.children)}return C.forwardRef(t)}function b1(e){function t(n,r){const[s,o]=C.useState(!1),{instance:u}=e(n,o).current;C.useImperativeHandle(r,()=>u),C.useEffect(function(){s&&u.update()},[u,s,n.children]);const c=u._contentNode;return c?Sl.createPortal(n.children,c):null}return C.forwardRef(t)}function my(e){function t(n,r){const{instance:s}=e(n).current;return C.useImperativeHandle(r,()=>s),null}return C.forwardRef(t)}function S1(e){return function(n){const r=Nl(),s=e(n,r),{instance:o}=s.current,u=C.useRef(n.position),{position:c}=n;return C.useEffect(function(){return o.addTo(r.map),function(){o.remove()}},[r.map,o]),C.useEffect(function(){c!=null&&c!==u.current&&(o.setPosition(c),u.current=c)},[o,c]),s}}function Sf(e,t){const n=C.useRef();C.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Nc(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function C1(e,t){return function(r,s){const o=Nl(),u=e(Nc(r,o),o);return dy(o.map,r.attribution),Sf(u.current,r.eventHandlers),t(u.current,o,r,s),u}}var Vu={exports:{}};var xD=Vu.exports,Ow;function k1(){return Ow||(Ow=1,(function(e,t){(function(n,r){r(t)})(xD,(function(n){var r="1.9.4";function s(a){var d,g,b,T;for(g=1,b=arguments.length;g<b;g++){T=arguments[g];for(d in T)a[d]=T[d]}return a}var o=Object.create||(function(){function a(){}return function(d){return a.prototype=d,new a}})();function u(a,d){var g=Array.prototype.slice;if(a.bind)return a.bind.apply(a,g.call(arguments,1));var b=g.call(arguments,2);return function(){return a.apply(d,b.length?b.concat(g.call(arguments)):arguments)}}var c=0;function h(a){return"_leaflet_id"in a||(a._leaflet_id=++c),a._leaflet_id}function p(a,d,g){var b,T,O,$;return $=function(){b=!1,T&&(O.apply(g,T),T=!1)},O=function(){b?T=arguments:(a.apply(g,arguments),setTimeout($,d),b=!0)},O}function y(a,d,g){var b=d[1],T=d[0],O=b-T;return a===b&&g?a:((a-T)%O+O)%O+T}function _(){return!1}function x(a,d){if(d===!1)return a;var g=Math.pow(10,d===void 0?6:d);return Math.round(a*g)/g}function w(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function E(a){return w(a).split(/\s+/)}function k(a,d){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?o(a.options):{});for(var g in d)a.options[g]=d[g];return a.options}function R(a,d,g){var b=[];for(var T in a)b.push(encodeURIComponent(g?T.toUpperCase():T)+"="+encodeURIComponent(a[T]));return(!d||d.indexOf("?")===-1?"?":"&")+b.join("&")}var N=/\{ *([\w_ -]+) *\}/g;function A(a,d){return a.replace(N,function(g,b){var T=d[b];if(T===void 0)throw new Error("No value provided for variable "+g);return typeof T=="function"&&(T=T(d)),T})}var I=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function D(a,d){for(var g=0;g<a.length;g++)if(a[g]===d)return g;return-1}var V="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Z(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var M=0;function B(a){var d=+new Date,g=Math.max(0,16-(d-M));return M=d+g,window.setTimeout(a,g)}var ee=window.requestAnimationFrame||Z("RequestAnimationFrame")||B,ce=window.cancelAnimationFrame||Z("CancelAnimationFrame")||Z("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function U(a,d,g){if(g&&ee===B)a.call(d);else return ee.call(window,u(a,d))}function G(a){a&&ce.call(window,a)}var ge={__proto__:null,extend:s,create:o,bind:u,get lastId(){return c},stamp:h,throttle:p,wrapNum:y,falseFn:_,formatNum:x,trim:w,splitWords:E,setOptions:k,getParamString:R,template:A,isArray:I,indexOf:D,emptyImageUrl:V,requestFn:ee,cancelFn:ce,requestAnimFrame:U,cancelAnimFrame:G};function le(){}le.extend=function(a){var d=function(){k(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=d.__super__=this.prototype,b=o(g);b.constructor=d,d.prototype=b;for(var T in this)Object.prototype.hasOwnProperty.call(this,T)&&T!=="prototype"&&T!=="__super__"&&(d[T]=this[T]);return a.statics&&s(d,a.statics),a.includes&&(be(a.includes),s.apply(null,[b].concat(a.includes))),s(b,a),delete b.statics,delete b.includes,b.options&&(b.options=g.options?o(g.options):{},s(b.options,a.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var O=0,$=b._initHooks.length;O<$;O++)b._initHooks[O].call(this)}},d},le.include=function(a){var d=this.prototype.options;return s(this.prototype,a),a.options&&(this.prototype.options=d,this.mergeOptions(a.options)),this},le.mergeOptions=function(a){return s(this.prototype.options,a),this},le.addInitHook=function(a){var d=Array.prototype.slice.call(arguments,1),g=typeof a=="function"?a:function(){this[a].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};function be(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=I(a)?a:[a];for(var d=0;d<a.length;d++)a[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ye={on:function(a,d,g){if(typeof a=="object")for(var b in a)this._on(b,a[b],d);else{a=E(a);for(var T=0,O=a.length;T<O;T++)this._on(a[T],d,g)}return this},off:function(a,d,g){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var b in a)this._off(b,a[b],d);else{a=E(a);for(var T=arguments.length===1,O=0,$=a.length;O<$;O++)T?this._off(a[O]):this._off(a[O],d,g)}return this},_on:function(a,d,g,b){if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}if(this._listens(a,d,g)===!1){g===this&&(g=void 0);var T={fn:d,ctx:g};b&&(T.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(T)}},_off:function(a,d,g){var b,T,O;if(this._events&&(b=this._events[a],!!b)){if(arguments.length===1){if(this._firingCount)for(T=0,O=b.length;T<O;T++)b[T].fn=_;delete this._events[a];return}if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}var $=this._listens(a,d,g);if($!==!1){var Y=b[$];this._firingCount&&(Y.fn=_,this._events[a]=b=b.slice()),b.splice($,1)}}},fire:function(a,d,g){if(!this.listens(a,g))return this;var b=s({},d,{type:a,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var T=this._events[a];if(T){this._firingCount=this._firingCount+1||1;for(var O=0,$=T.length;O<$;O++){var Y=T[O],te=Y.fn;Y.once&&this.off(a,te,Y.ctx),te.call(Y.ctx||this,b)}this._firingCount--}}return g&&this._propagateEvent(b),this},listens:function(a,d,g,b){typeof a!="string"&&console.warn('"string" type argument expected');var T=d;typeof d!="function"&&(b=!!d,T=void 0,g=void 0);var O=this._events&&this._events[a];if(O&&O.length&&this._listens(a,T,g)!==!1)return!0;if(b){for(var $ in this._eventParents)if(this._eventParents[$].listens(a,d,g,b))return!0}return!1},_listens:function(a,d,g){if(!this._events)return!1;var b=this._events[a]||[];if(!d)return!!b.length;g===this&&(g=void 0);for(var T=0,O=b.length;T<O;T++)if(b[T].fn===d&&b[T].ctx===g)return T;return!1},once:function(a,d,g){if(typeof a=="object")for(var b in a)this._on(b,a[b],d,!0);else{a=E(a);for(var T=0,O=a.length;T<O;T++)this._on(a[T],d,g,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[h(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[h(a)],this},_propagateEvent:function(a){for(var d in this._eventParents)this._eventParents[d].fire(a.type,s({layer:a.target,propagatedFrom:a.target},a),!0)}};ye.addEventListener=ye.on,ye.removeEventListener=ye.clearAllEventListeners=ye.off,ye.addOneTimeEventListener=ye.once,ye.fireEvent=ye.fire,ye.hasEventListeners=ye.listens;var _e=le.extend(ye);function F(a,d,g){this.x=g?Math.round(a):a,this.y=g?Math.round(d):d}var me=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};F.prototype={clone:function(){return new F(this.x,this.y)},add:function(a){return this.clone()._add(re(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(re(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new F(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new F(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=me(this.x),this.y=me(this.y),this},distanceTo:function(a){a=re(a);var d=a.x-this.x,g=a.y-this.y;return Math.sqrt(d*d+g*g)},equals:function(a){return a=re(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=re(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function re(a,d,g){return a instanceof F?a:I(a)?new F(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new F(a.x,a.y):new F(a,d,g)}function H(a,d){if(a)for(var g=d?[a,d]:a,b=0,T=g.length;b<T;b++)this.extend(g[b])}H.prototype={extend:function(a){var d,g;if(!a)return this;if(a instanceof F||typeof a[0]=="number"||"x"in a)d=g=re(a);else if(a=se(a),d=a.min,g=a.max,!d||!g)return this;return!this.min&&!this.max?(this.min=d.clone(),this.max=g.clone()):(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(a){return re((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return re(this.min.x,this.max.y)},getTopRight:function(){return re(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var d,g;return typeof a[0]=="number"||a instanceof F?a=re(a):a=se(a),a instanceof H?(d=a.min,g=a.max):d=g=a,d.x>=this.min.x&&g.x<=this.max.x&&d.y>=this.min.y&&g.y<=this.max.y},intersects:function(a){a=se(a);var d=this.min,g=this.max,b=a.min,T=a.max,O=T.x>=d.x&&b.x<=g.x,$=T.y>=d.y&&b.y<=g.y;return O&&$},overlaps:function(a){a=se(a);var d=this.min,g=this.max,b=a.min,T=a.max,O=T.x>d.x&&b.x<g.x,$=T.y>d.y&&b.y<g.y;return O&&$},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var d=this.min,g=this.max,b=Math.abs(d.x-g.x)*a,T=Math.abs(d.y-g.y)*a;return se(re(d.x-b,d.y-T),re(g.x+b,g.y+T))},equals:function(a){return a?(a=se(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function se(a,d){return!a||a instanceof H?a:new H(a,d)}function ie(a,d){if(a)for(var g=d?[a,d]:a,b=0,T=g.length;b<T;b++)this.extend(g[b])}ie.prototype={extend:function(a){var d=this._southWest,g=this._northEast,b,T;if(a instanceof ue)b=a,T=a;else if(a instanceof ie){if(b=a._southWest,T=a._northEast,!b||!T)return this}else return a?this.extend(ae(a)||oe(a)):this;return!d&&!g?(this._southWest=new ue(b.lat,b.lng),this._northEast=new ue(T.lat,T.lng)):(d.lat=Math.min(b.lat,d.lat),d.lng=Math.min(b.lng,d.lng),g.lat=Math.max(T.lat,g.lat),g.lng=Math.max(T.lng,g.lng)),this},pad:function(a){var d=this._southWest,g=this._northEast,b=Math.abs(d.lat-g.lat)*a,T=Math.abs(d.lng-g.lng)*a;return new ie(new ue(d.lat-b,d.lng-T),new ue(g.lat+b,g.lng+T))},getCenter:function(){return new ue((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ue(this.getNorth(),this.getWest())},getSouthEast:function(){return new ue(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof ue||"lat"in a?a=ae(a):a=oe(a);var d=this._southWest,g=this._northEast,b,T;return a instanceof ie?(b=a.getSouthWest(),T=a.getNorthEast()):b=T=a,b.lat>=d.lat&&T.lat<=g.lat&&b.lng>=d.lng&&T.lng<=g.lng},intersects:function(a){a=oe(a);var d=this._southWest,g=this._northEast,b=a.getSouthWest(),T=a.getNorthEast(),O=T.lat>=d.lat&&b.lat<=g.lat,$=T.lng>=d.lng&&b.lng<=g.lng;return O&&$},overlaps:function(a){a=oe(a);var d=this._southWest,g=this._northEast,b=a.getSouthWest(),T=a.getNorthEast(),O=T.lat>d.lat&&b.lat<g.lat,$=T.lng>d.lng&&b.lng<g.lng;return O&&$},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,d){return a?(a=oe(a),this._southWest.equals(a.getSouthWest(),d)&&this._northEast.equals(a.getNorthEast(),d)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function oe(a,d){return a instanceof ie?a:new ie(a,d)}function ue(a,d,g){if(isNaN(a)||isNaN(d))throw new Error("Invalid LatLng object: ("+a+", "+d+")");this.lat=+a,this.lng=+d,g!==void 0&&(this.alt=+g)}ue.prototype={equals:function(a,d){if(!a)return!1;a=ae(a);var g=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return g<=(d===void 0?1e-9:d)},toString:function(a){return"LatLng("+x(this.lat,a)+", "+x(this.lng,a)+")"},distanceTo:function(a){return K.distance(this,ae(a))},wrap:function(){return K.wrapLatLng(this)},toBounds:function(a){var d=180*a/40075017,g=d/Math.cos(Math.PI/180*this.lat);return oe([this.lat-d,this.lng-g],[this.lat+d,this.lng+g])},clone:function(){return new ue(this.lat,this.lng,this.alt)}};function ae(a,d,g){return a instanceof ue?a:I(a)&&typeof a[0]!="object"?a.length===3?new ue(a[0],a[1],a[2]):a.length===2?new ue(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new ue(a.lat,"lng"in a?a.lng:a.lon,a.alt):d===void 0?null:new ue(a,d,g)}var J={latLngToPoint:function(a,d){var g=this.projection.project(a),b=this.scale(d);return this.transformation._transform(g,b)},pointToLatLng:function(a,d){var g=this.scale(d),b=this.transformation.untransform(a,g);return this.projection.unproject(b)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var d=this.projection.bounds,g=this.scale(a),b=this.transformation.transform(d.min,g),T=this.transformation.transform(d.max,g);return new H(b,T)},infinite:!1,wrapLatLng:function(a){var d=this.wrapLng?y(a.lng,this.wrapLng,!0):a.lng,g=this.wrapLat?y(a.lat,this.wrapLat,!0):a.lat,b=a.alt;return new ue(g,d,b)},wrapLatLngBounds:function(a){var d=a.getCenter(),g=this.wrapLatLng(d),b=d.lat-g.lat,T=d.lng-g.lng;if(b===0&&T===0)return a;var O=a.getSouthWest(),$=a.getNorthEast(),Y=new ue(O.lat-b,O.lng-T),te=new ue($.lat-b,$.lng-T);return new ie(Y,te)}},K=s({},J,{wrapLng:[-180,180],R:6371e3,distance:function(a,d){var g=Math.PI/180,b=a.lat*g,T=d.lat*g,O=Math.sin((d.lat-a.lat)*g/2),$=Math.sin((d.lng-a.lng)*g/2),Y=O*O+Math.cos(b)*Math.cos(T)*$*$,te=2*Math.atan2(Math.sqrt(Y),Math.sqrt(1-Y));return this.R*te}}),de=6378137,we={R:de,MAX_LATITUDE:85.0511287798,project:function(a){var d=Math.PI/180,g=this.MAX_LATITUDE,b=Math.max(Math.min(g,a.lat),-g),T=Math.sin(b*d);return new F(this.R*a.lng*d,this.R*Math.log((1+T)/(1-T))/2)},unproject:function(a){var d=180/Math.PI;return new ue((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*d,a.x*d/this.R)},bounds:(function(){var a=de*Math.PI;return new H([-a,-a],[a,a])})()};function Oe(a,d,g,b){if(I(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=d,this._c=g,this._d=b}Oe.prototype={transform:function(a,d){return this._transform(a.clone(),d)},_transform:function(a,d){return d=d||1,a.x=d*(this._a*a.x+this._b),a.y=d*(this._c*a.y+this._d),a},untransform:function(a,d){return d=d||1,new F((a.x/d-this._b)/this._a,(a.y/d-this._d)/this._c)}};function Be(a,d,g,b){return new Oe(a,d,g,b)}var Ee=s({},K,{code:"EPSG:3857",projection:we,transformation:(function(){var a=.5/(Math.PI*we.R);return Be(a,.5,-a,.5)})()}),lt=s({},Ee,{code:"EPSG:900913"});function mn(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function kn(a,d){var g="",b,T,O,$,Y,te;for(b=0,O=a.length;b<O;b++){for(Y=a[b],T=0,$=Y.length;T<$;T++)te=Y[T],g+=(T?"L":"M")+te.x+" "+te.y;g+=d?Ae.svg?"z":"x":""}return g||"M0 0"}var gn=document.documentElement.style,Pt="ActiveXObject"in window,Ki=Pt&&!document.addEventListener,Hr="msLaunchUri"in navigator&&!("documentMode"in document),nn=rn("webkit"),pi=rn("android"),Qs=rn("android 2")||rn("android 3"),Oc=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Mc=pi&&rn("Google")&&Oc<537&&!("AudioNode"in window),Qo=!!window.opera,ea=!Hr&&rn("chrome"),eo=rn("gecko")&&!nn&&!Qo&&!Pt,Dc=!ea&&rn("safari"),Yi=rn("phantom"),Xi="OTransition"in gn,Ff=navigator.platform.indexOf("Win")===0,Ml=Pt&&"transition"in gn,ta="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Qs,zc="MozPerspective"in gn,Dl=!window.L_DISABLE_3D&&(Ml||ta||zc)&&!Xi&&!Yi,mi=typeof orientation<"u"||rn("mobile"),zl=mi&&nn,Bl=mi&&ta,na=!window.PointerEvent&&window.MSPointerEvent,gi=!!(window.PointerEvent||na),vi="ontouchstart"in window||!!window.TouchEvent,Bc=!window.L_NO_TOUCH&&(vi||gi),Fc=mi&&Qo,Vc=mi&&eo,$c=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Uc=(function(){var a=!1;try{var d=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",_,d),window.removeEventListener("testPassiveEventSupport",_,d)}catch{}return a})(),Fl=(function(){return!!document.createElement("canvas").getContext})(),ra=!!(document.createElementNS&&mn("svg").createSVGRect),to=!!ra&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Vl=!ra&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var d=a.firstChild;return d.style.behavior="url(#default#VML)",d&&typeof d.adj=="object"}catch{return!1}})(),no=navigator.platform.indexOf("Mac")===0,Vf=navigator.platform.indexOf("Linux")===0;function rn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Ae={ie:Pt,ielt9:Ki,edge:Hr,webkit:nn,android:pi,android23:Qs,androidStock:Mc,opera:Qo,chrome:ea,gecko:eo,safari:Dc,phantom:Yi,opera12:Xi,win:Ff,ie3d:Ml,webkit3d:ta,gecko3d:zc,any3d:Dl,mobile:mi,mobileWebkit:zl,mobileWebkit3d:Bl,msPointer:na,pointer:gi,touch:Bc,touchNative:vi,mobileOpera:Fc,mobileGecko:Vc,retina:$c,passiveEvents:Uc,canvas:Fl,svg:ra,vml:Vl,inlineSvg:to,mac:no,linux:Vf},ro=Ae.msPointer?"MSPointerDown":"pointerdown",ia=Ae.msPointer?"MSPointerMove":"pointermove",Hc=Ae.msPointer?"MSPointerUp":"pointerup",Wc=Ae.msPointer?"MSPointerCancel":"pointercancel",$l={touchstart:ro,touchmove:ia,touchend:Hc,touchcancel:Wc},Wr={touchstart:xt,touchmove:sa,touchend:sa,touchcancel:sa},yi={},Ul=!1;function $f(a,d,g){return d==="touchstart"&&Uf(),Wr[d]?(g=Wr[d].bind(this,g),a.addEventListener($l[d],g,!1),g):(console.warn("wrong event specified:",d),_)}function Gc(a,d,g){if(!$l[d]){console.warn("wrong event specified:",d);return}a.removeEventListener($l[d],g,!1)}function Zc(a){yi[a.pointerId]=a}function qc(a){yi[a.pointerId]&&(yi[a.pointerId]=a)}function Hl(a){delete yi[a.pointerId]}function Uf(){Ul||(document.addEventListener(ro,Zc,!0),document.addEventListener(ia,qc,!0),document.addEventListener(Hc,Hl,!0),document.addEventListener(Wc,Hl,!0),Ul=!0)}function sa(a,d){if(d.pointerType!==(d.MSPOINTER_TYPE_MOUSE||"mouse")){d.touches=[];for(var g in yi)d.touches.push(yi[g]);d.changedTouches=[d],a(d)}}function xt(a,d){d.MSPOINTER_TYPE_TOUCH&&d.pointerType===d.MSPOINTER_TYPE_TOUCH&&wt(d),sa(a,d)}function Hf(a){var d={},g,b;for(b in a)g=a[b],d[b]=g&&g.bind?g.bind(a):g;return a=d,d.type="dblclick",d.detail=2,d.isTrusted=!1,d._simulated=!0,d}var Wl=200;function Kc(a,d){a.addEventListener("dblclick",d);var g=0,b;function T(O){if(O.detail!==1){b=O.detail;return}if(!(O.pointerType==="mouse"||O.sourceCapabilities&&!O.sourceCapabilities.firesTouchEvents)){var $=wi(O);if(!($.some(function(te){return te instanceof HTMLLabelElement&&te.attributes.for})&&!$.some(function(te){return te instanceof HTMLInputElement||te instanceof HTMLSelectElement}))){var Y=Date.now();Y-g<=Wl?(b++,b===2&&d(Hf(O))):b=1,g=Y}}}return a.addEventListener("click",T),{dblclick:d,simDblclick:T}}function oa(a,d){a.removeEventListener("dblclick",d.dblclick),a.removeEventListener("click",d.simDblclick)}var Gl=ts(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ji=ts(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),io=Ji==="webkitTransition"||Ji==="OTransition"?Ji+"End":"transitionend";function Mn(a){return typeof a=="string"?document.getElementById(a):a}function so(a,d){var g=a.style[d]||a.currentStyle&&a.currentStyle[d];if((!g||g==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(a,null);g=b?b[d]:null}return g==="auto"?null:g}function Ye(a,d,g){var b=document.createElement(a);return b.className=d||"",g&&g.appendChild(b),b}function gt(a){var d=a.parentNode;d&&d.removeChild(a)}function aa(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Qi(a){var d=a.parentNode;d&&d.lastChild!==a&&d.appendChild(a)}function wr(a){var d=a.parentNode;d&&d.firstChild!==a&&d.insertBefore(a,d.firstChild)}function es(a,d){if(a.classList!==void 0)return a.classList.contains(d);var g=la(a);return g.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(g)}function Ke(a,d){if(a.classList!==void 0)for(var g=E(d),b=0,T=g.length;b<T;b++)a.classList.add(g[b]);else if(!es(a,d)){var O=la(a);Zl(a,(O?O+" ":"")+d)}}function ht(a,d){a.classList!==void 0?a.classList.remove(d):Zl(a,w((" "+la(a)+" ").replace(" "+d+" "," ")))}function Zl(a,d){a.className.baseVal===void 0?a.className=d:a.className.baseVal=d}function la(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function sn(a,d){"opacity"in a.style?a.style.opacity=d:"filter"in a.style&&Yc(a,d)}function Yc(a,d){var g=!1,b="DXImageTransform.Microsoft.Alpha";try{g=a.filters.item(b)}catch{if(d===1)return}d=Math.round(d*100),g?(g.Enabled=d!==100,g.Opacity=d):a.style.filter+=" progid:"+b+"(opacity="+d+")"}function ts(a){for(var d=document.documentElement.style,g=0;g<a.length;g++)if(a[g]in d)return a[g];return!1}function Dn(a,d,g){var b=d||new F(0,0);a.style[Gl]=(Ae.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(g?" scale("+g+")":"")}function Et(a,d){a._leaflet_pos=d,Ae.any3d?Dn(a,d):(a.style.left=d.x+"px",a.style.top=d.y+"px")}function br(a){return a._leaflet_pos||new F(0,0)}var nt,ns,ua;if("onselectstart"in document)nt=function(){We(window,"selectstart",wt)},ns=function(){ut(window,"selectstart",wt)};else{var _i=ts(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);nt=function(){if(_i){var a=document.documentElement.style;ua=a[_i],a[_i]="none"}},ns=function(){_i&&(document.documentElement.style[_i]=ua,ua=void 0)}}function ca(){We(window,"dragstart",wt)}function da(){ut(window,"dragstart",wt)}var oo,ao;function rs(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(zn(),oo=a,ao=a.style.outlineStyle,a.style.outlineStyle="none",We(window,"keydown",zn))}function zn(){oo&&(oo.style.outlineStyle=ao,oo=void 0,ao=void 0,ut(window,"keydown",zn))}function Sr(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function rr(a){var d=a.getBoundingClientRect();return{x:d.width/a.offsetWidth||1,y:d.height/a.offsetHeight||1,boundingClientRect:d}}var lo={__proto__:null,TRANSFORM:Gl,TRANSITION:Ji,TRANSITION_END:io,get:Mn,getStyle:so,create:Ye,remove:gt,empty:aa,toFront:Qi,toBack:wr,hasClass:es,addClass:Ke,removeClass:ht,setClass:Zl,getClass:la,setOpacity:sn,testProp:ts,setTransform:Dn,setPosition:Et,getPosition:br,get disableTextSelection(){return nt},get enableTextSelection(){return ns},disableImageDrag:ca,enableImageDrag:da,preventOutline:rs,restoreOutline:zn,getSizedParentNode:Sr,getScale:rr};function We(a,d,g,b){if(d&&typeof d=="object")for(var T in d)Kl(a,T,d[T],g);else{d=E(d);for(var O=0,$=d.length;O<$;O++)Kl(a,d[O],g,b)}return this}var Ft="_leaflet_events";function ut(a,d,g,b){if(arguments.length===1)ql(a),delete a[Ft];else if(d&&typeof d=="object")for(var T in d)ha(a,T,d[T],g);else if(d=E(d),arguments.length===2)ql(a,function(Y){return D(d,Y)!==-1});else for(var O=0,$=d.length;O<$;O++)ha(a,d[O],g,b);return this}function ql(a,d){for(var g in a[Ft]){var b=g.split(/\d/)[0];(!d||d(b))&&ha(a,b,null,null,g)}}var xi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Kl(a,d,g,b){var T=d+h(g)+(b?"_"+h(b):"");if(a[Ft]&&a[Ft][T])return this;var O=function(Y){return g.call(b||a,Y||window.event)},$=O;!Ae.touchNative&&Ae.pointer&&d.indexOf("touch")===0?O=$f(a,d,O):Ae.touch&&d==="dblclick"?O=Kc(a,O):"addEventListener"in a?d==="touchstart"||d==="touchmove"||d==="wheel"||d==="mousewheel"?a.addEventListener(xi[d]||d,O,Ae.passiveEvents?{passive:!1}:!1):d==="mouseenter"||d==="mouseleave"?(O=function(Y){Y=Y||window.event,ho(a,Y)&&$(Y)},a.addEventListener(xi[d],O,!1)):a.addEventListener(d,$,!1):a.attachEvent("on"+d,O),a[Ft]=a[Ft]||{},a[Ft][T]=O}function ha(a,d,g,b,T){T=T||d+h(g)+(b?"_"+h(b):"");var O=a[Ft]&&a[Ft][T];if(!O)return this;!Ae.touchNative&&Ae.pointer&&d.indexOf("touch")===0?Gc(a,d,O):Ae.touch&&d==="dblclick"?oa(a,O):"removeEventListener"in a?a.removeEventListener(xi[d]||d,O,!1):a.detachEvent("on"+d,O),a[Ft][T]=null}function ir(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function fa(a){return Kl(a,"wheel",ir),this}function uo(a){return We(a,"mousedown touchstart dblclick contextmenu",ir),a._leaflet_disable_click=!0,this}function wt(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Bn(a){return wt(a),ir(a),this}function wi(a){if(a.composedPath)return a.composedPath();for(var d=[],g=a.target;g;)d.push(g),g=g.parentNode;return d}function co(a,d){if(!d)return new F(a.clientX,a.clientY);var g=rr(d),b=g.boundingClientRect;return new F((a.clientX-b.left)/g.x-d.clientLeft,(a.clientY-b.top)/g.y-d.clientTop)}var Wf=Ae.linux&&Ae.chrome?window.devicePixelRatio:Ae.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Xc(a){return Ae.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Wf:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function ho(a,d){var g=d.relatedTarget;if(!g)return!0;try{for(;g&&g!==a;)g=g.parentNode}catch{return!1}return g!==a}var pa={__proto__:null,on:We,off:ut,stopPropagation:ir,disableScrollPropagation:fa,disableClickPropagation:uo,preventDefault:wt,stop:Bn,getPropagationPath:wi,getMousePosition:co,getWheelDelta:Xc,isExternalTarget:ho,addListener:We,removeListener:ut},ma=_e.extend({run:function(a,d,g,b){this.stop(),this._el=a,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=br(a),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=U(this._animate,this),this._step()},_step:function(a){var d=+new Date-this._startTime,g=this._duration*1e3;d<g?this._runFrame(this._easeOut(d/g),a):(this._runFrame(1),this._complete())},_runFrame:function(a,d){var g=this._startPos.add(this._offset.multiplyBy(a));d&&g._round(),Et(this._el,g),this.fire("step")},_complete:function(){G(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),tt=_e.extend({options:{crs:Ee,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,d){d=k(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),d.zoom!==void 0&&(this._zoom=this._limitZoom(d.zoom)),d.center&&d.zoom!==void 0&&this.setView(ae(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ji&&Ae.any3d&&!Ae.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),We(this._proxy,io,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,d,g){if(d=d===void 0?this._zoom:this._limitZoom(d),a=this._limitCenter(ae(a),d,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&g!==!0){g.animate!==void 0&&(g.zoom=s({animate:g.animate},g.zoom),g.pan=s({animate:g.animate,duration:g.duration},g.pan));var b=this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,d,g.zoom):this._tryAnimatedPan(a,g.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(a,d,g.pan&&g.pan.noMoveStart),this},setZoom:function(a,d){return this._loaded?this.setView(this.getCenter(),a,{zoom:d}):(this._zoom=a,this)},zoomIn:function(a,d){return a=a||(Ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,d)},zoomOut:function(a,d){return a=a||(Ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,d)},setZoomAround:function(a,d,g){var b=this.getZoomScale(d),T=this.getSize().divideBy(2),O=a instanceof F?a:this.latLngToContainerPoint(a),$=O.subtract(T).multiplyBy(1-1/b),Y=this.containerPointToLatLng(T.add($));return this.setView(Y,d,{zoom:g})},_getBoundsCenterZoom:function(a,d){d=d||{},a=a.getBounds?a.getBounds():oe(a);var g=re(d.paddingTopLeft||d.padding||[0,0]),b=re(d.paddingBottomRight||d.padding||[0,0]),T=this.getBoundsZoom(a,!1,g.add(b));if(T=typeof d.maxZoom=="number"?Math.min(d.maxZoom,T):T,T===1/0)return{center:a.getCenter(),zoom:T};var O=b.subtract(g).divideBy(2),$=this.project(a.getSouthWest(),T),Y=this.project(a.getNorthEast(),T),te=this.unproject($.add(Y).divideBy(2).add(O),T);return{center:te,zoom:T}},fitBounds:function(a,d){if(a=oe(a),!a.isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(a,d);return this.setView(g.center,g.zoom,d)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,d){return this.setView(a,this._zoom,{pan:d})},panBy:function(a,d){if(a=re(a).round(),d=d||{},!a.x&&!a.y)return this.fire("moveend");if(d.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ma,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),d.animate!==!1){Ke(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,g,d.duration||.25,d.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,d,g){if(g=g||{},g.animate===!1||!Ae.any3d)return this.setView(a,d,g);this._stop();var b=this.project(this.getCenter()),T=this.project(a),O=this.getSize(),$=this._zoom;a=ae(a),d=d===void 0?$:d;var Y=Math.max(O.x,O.y),te=Y*this.getZoomScale($,d),he=T.distanceTo(b)||1,Se=1.42,ze=Se*Se;function Xe(at){var ys=at?-1:1,sp=at?te:Y,op=te*te-Y*Y+ys*ze*ze*he*he,Ti=2*sp*ze*he,Ri=op/Ti,Li=Math.sqrt(Ri*Ri+1)-Ri,Ra=Li<1e-9?-18:Math.log(Li);return Ra}function Vt(at){return(Math.exp(at)-Math.exp(-at))/2}function Ot(at){return(Math.exp(at)+Math.exp(-at))/2}function _n(at){return Vt(at)/Ot(at)}var an=Xe(0);function gs(at){return Y*(Ot(an)/Ot(an+Se*at))}function gu(at){return Y*(Ot(an)*_n(an+Se*at)-Vt(an))/ze}function Qr(at){return 1-Math.pow(1-at,1.5)}var yd=Date.now(),Ei=(Xe(1)-an)/Se,lr=g.duration?1e3*g.duration:1e3*Ei*.8;function vs(){var at=(Date.now()-yd)/lr,ys=Qr(at)*Ei;at<=1?(this._flyToFrame=U(vs,this),this._move(this.unproject(b.add(T.subtract(b).multiplyBy(gu(ys)/he)),$),this.getScaleZoom(Y/gs(ys),$),{flyTo:!0})):this._move(a,d)._moveEnd(!0)}return this._moveStart(!0,g.noMoveStart),vs.call(this),this},flyToBounds:function(a,d){var g=this._getBoundsCenterZoom(a,d);return this.flyTo(g.center,g.zoom,d)},setMaxBounds:function(a){return a=oe(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var d=this.options.minZoom;return this.options.minZoom=a,this._loaded&&d!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var d=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&d!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,d){this._enforcingBounds=!0;var g=this.getCenter(),b=this._limitCenter(g,this._zoom,oe(a));return g.equals(b)||this.panTo(b,d),this._enforcingBounds=!1,this},panInside:function(a,d){d=d||{};var g=re(d.paddingTopLeft||d.padding||[0,0]),b=re(d.paddingBottomRight||d.padding||[0,0]),T=this.project(this.getCenter()),O=this.project(a),$=this.getPixelBounds(),Y=se([$.min.add(g),$.max.subtract(b)]),te=Y.getSize();if(!Y.contains(O)){this._enforcingBounds=!0;var he=O.subtract(Y.getCenter()),Se=Y.extend(O).getSize().subtract(te);T.x+=he.x<0?-Se.x:Se.x,T.y+=he.y<0?-Se.y:Se.y,this.panTo(this.unproject(T),d),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=s({animate:!1,pan:!0},a===!0?{animate:!0}:a);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),b=d.divideBy(2).round(),T=g.divideBy(2).round(),O=b.subtract(T);return!O.x&&!O.y?this:(a.animate&&a.pan?this.panBy(O):(a.pan&&this._rawPanBy(O),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:g}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=s({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=u(this._handleGeolocationResponse,this),g=u(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,g,a):navigator.geolocation.getCurrentPosition(d,g,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var d=a.code,g=a.message||(d===1?"permission denied":d===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var d=a.coords.latitude,g=a.coords.longitude,b=new ue(d,g),T=b.toBounds(a.coords.accuracy*2),O=this._locateOptions;if(O.setView){var $=this.getBoundsZoom(T);this.setView(b,O.maxZoom?Math.min($,O.maxZoom):$)}var Y={latlng:b,bounds:T,timestamp:a.timestamp};for(var te in a.coords)typeof a.coords[te]=="number"&&(Y[te]=a.coords[te]);this.fire("locationfound",Y)}},addHandler:function(a,d){if(!d)return this;var g=this[a]=new d(this);return this._handlers.push(g),this.options[a]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),gt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(G(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)gt(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,d){var g="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),b=Ye("div",g,d||this._mapPane);return a&&(this._panes[a]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),d=this.unproject(a.getBottomLeft()),g=this.unproject(a.getTopRight());return new ie(d,g)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,d,g){a=oe(a),g=re(g||[0,0]);var b=this.getZoom()||0,T=this.getMinZoom(),O=this.getMaxZoom(),$=a.getNorthWest(),Y=a.getSouthEast(),te=this.getSize().subtract(g),he=se(this.project(Y,b),this.project($,b)).getSize(),Se=Ae.any3d?this.options.zoomSnap:1,ze=te.x/he.x,Xe=te.y/he.y,Vt=d?Math.max(ze,Xe):Math.min(ze,Xe);return b=this.getScaleZoom(Vt,b),Se&&(b=Math.round(b/(Se/100))*(Se/100),b=d?Math.ceil(b/Se)*Se:Math.floor(b/Se)*Se),Math.max(T,Math.min(O,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new F(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,d){var g=this._getTopLeftPoint(a,d);return new H(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,d){var g=this.options.crs;return d=d===void 0?this._zoom:d,g.scale(a)/g.scale(d)},getScaleZoom:function(a,d){var g=this.options.crs;d=d===void 0?this._zoom:d;var b=g.zoom(a*g.scale(d));return isNaN(b)?1/0:b},project:function(a,d){return d=d===void 0?this._zoom:d,this.options.crs.latLngToPoint(ae(a),d)},unproject:function(a,d){return d=d===void 0?this._zoom:d,this.options.crs.pointToLatLng(re(a),d)},layerPointToLatLng:function(a){var d=re(a).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(a){var d=this.project(ae(a))._round();return d._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(ae(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(oe(a))},distance:function(a,d){return this.options.crs.distance(ae(a),ae(d))},containerPointToLayerPoint:function(a){return re(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return re(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var d=this.containerPointToLayerPoint(re(a));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ae(a)))},mouseEventToContainerPoint:function(a){return co(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var d=this._container=Mn(a);if(d){if(d._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");We(d,"scroll",this._onScroll,this),this._containerId=h(d)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ae.any3d,Ke(a,"leaflet-container"+(Ae.touch?" leaflet-touch":"")+(Ae.retina?" leaflet-retina":"")+(Ae.ielt9?" leaflet-oldie":"")+(Ae.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=so(a,"position");d!=="absolute"&&d!=="relative"&&d!=="fixed"&&d!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Et(this._mapPane,new F(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ke(a.markerPane,"leaflet-zoom-hide"),Ke(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,d,g){Et(this._mapPane,new F(0,0));var b=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var T=this._zoom!==d;this._moveStart(T,g)._move(a,d)._moveEnd(T),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(a,d){return a&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(a,d,g,b){d===void 0&&(d=this._zoom);var T=this._zoom!==d;return this._zoom=d,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),b?g&&g.pinch&&this.fire("zoom",g):((T||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return G(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Et(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[h(this._container)]=this;var d=a?ut:We;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),Ae.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){G(this._resizeRequest),this._resizeRequest=U(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,d){for(var g=[],b,T=d==="mouseout"||d==="mouseover",O=a.target||a.srcElement,$=!1;O;){if(b=this._targets[h(O)],b&&(d==="click"||d==="preclick")&&this._draggableMoved(b)){$=!0;break}if(b&&b.listens(d,!0)&&(T&&!ho(O,a)||(g.push(b),T))||O===this._container)break;O=O.parentNode}return!g.length&&!$&&!T&&this.listens(d,!0)&&(g=[this]),g},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var d=a.target||a.srcElement;if(!(!this._loaded||d._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(d))){var g=a.type;g==="mousedown"&&rs(d),this._fireDOMEvent(a,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,d,g){if(a.type==="click"){var b=s({},a);b.type="preclick",this._fireDOMEvent(b,b.type,g)}var T=this._findEventTargets(a,d);if(g){for(var O=[],$=0;$<g.length;$++)g[$].listens(d,!0)&&O.push(g[$]);T=O.concat(T)}if(T.length){d==="contextmenu"&&wt(a);var Y=T[0],te={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var he=Y.getLatLng&&(!Y._radius||Y._radius<=10);te.containerPoint=he?this.latLngToContainerPoint(Y.getLatLng()):this.mouseEventToContainerPoint(a),te.layerPoint=this.containerPointToLayerPoint(te.containerPoint),te.latlng=he?Y.getLatLng():this.layerPointToLatLng(te.layerPoint)}for($=0;$<T.length;$++)if(T[$].fire(d,te,!0),te.originalEvent._stopped||T[$].options.bubblingMouseEvents===!1&&D(this._mouseEvents,d)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,d=this._handlers.length;a<d;a++)this._handlers[a].disable()},whenReady:function(a,d){return this._loaded?a.call(d||this,{target:this}):this.on("load",a,d),this},_getMapPanePos:function(){return br(this._mapPane)||new F(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,d){var g=a&&d!==void 0?this._getNewPixelOrigin(a,d):this.getPixelOrigin();return g.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,d){var g=this.getSize()._divideBy(2);return this.project(a,d)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,d,g){var b=this._getNewPixelOrigin(g,d);return this.project(a,d)._subtract(b)},_latLngBoundsToNewLayerBounds:function(a,d,g){var b=this._getNewPixelOrigin(g,d);return se([this.project(a.getSouthWest(),d)._subtract(b),this.project(a.getNorthWest(),d)._subtract(b),this.project(a.getSouthEast(),d)._subtract(b),this.project(a.getNorthEast(),d)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,d,g){if(!g)return a;var b=this.project(a,d),T=this.getSize().divideBy(2),O=new H(b.subtract(T),b.add(T)),$=this._getBoundsOffset(O,g,d);return Math.abs($.x)<=1&&Math.abs($.y)<=1?a:this.unproject(b.add($),d)},_limitOffset:function(a,d){if(!d)return a;var g=this.getPixelBounds(),b=new H(g.min.add(a),g.max.add(a));return a.add(this._getBoundsOffset(b,d))},_getBoundsOffset:function(a,d,g){var b=se(this.project(d.getNorthEast(),g),this.project(d.getSouthWest(),g)),T=b.min.subtract(a.min),O=b.max.subtract(a.max),$=this._rebound(T.x,-O.x),Y=this._rebound(T.y,-O.y);return new F($,Y)},_rebound:function(a,d){return a+d>0?Math.round(a-d)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(d))},_limitZoom:function(a){var d=this.getMinZoom(),g=this.getMaxZoom(),b=Ae.any3d?this.options.zoomSnap:1;return b&&(a=Math.round(a/b)*b),Math.max(d,Math.min(g,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ht(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,d){var g=this._getCenterOffset(a)._trunc();return(d&&d.animate)!==!0&&!this.getSize().contains(g)?!1:(this.panBy(g,d),!0)},_createAnimProxy:function(){var a=this._proxy=Ye("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(d){var g=Gl,b=this._proxy.style[g];Dn(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),b===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){gt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),d=this.getZoom();Dn(this._proxy,this.project(a,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,d,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||g.animate===!1||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(d),T=this._getCenterOffset(a)._divideBy(1-1/b);return g.animate!==!0&&!this.getSize().contains(T)?!1:(U(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(a,d,!0)},this),!0)},_animateZoom:function(a,d,g,b){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=d,Ke(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:d,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ht(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Gr(a,d){return new tt(a,d)}var vn=le.extend({options:{position:"topright"},initialize:function(a){k(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var d=this._map;return d&&d.removeControl(this),this.options.position=a,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var d=this._container=this.onAdd(a),g=this.getPosition(),b=a._controlCorners[g];return Ke(d,"leaflet-control"),g.indexOf("bottom")!==-1?b.insertBefore(d,b.firstChild):b.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(gt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Zr=function(a){return new vn(a)};tt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},d="leaflet-",g=this._controlContainer=Ye("div",d+"control-container",this._container);function b(T,O){var $=d+T+" "+d+O;a[T+O]=Ye("div",$,g)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)gt(this._controlCorners[a]);gt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Yl=vn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,d,g,b){return g<b?-1:b<g?1:0}},initialize:function(a,d,g){k(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in a)this._addLayer(a[b],b);for(b in d)this._addLayer(d[b],b,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return vn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,d){return this._addLayer(a,d),this._map?this._update():this},addOverlay:function(a,d){return this._addLayer(a,d,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var d=this._getLayer(h(a));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){Ke(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Ke(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):ht(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ht(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",d=this._container=Ye("div",a),g=this.options.collapsed;d.setAttribute("aria-haspopup",!0),uo(d),fa(d);var b=this._section=Ye("section",a+"-list");g&&(this._map.on("click",this.collapse,this),We(d,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var T=this._layersLink=Ye("a",a+"-toggle",d);T.href="#",T.title="Layers",T.setAttribute("role","button"),We(T,{keydown:function(O){O.keyCode===13&&this._expandSafely()},click:function(O){wt(O),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=Ye("div",a+"-base",b),this._separator=Ye("div",a+"-separator",b),this._overlaysList=Ye("div",a+"-overlays",b),d.appendChild(b)},_getLayer:function(a){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&h(this._layers[d].layer)===a)return this._layers[d]},_addLayer:function(a,d,g){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:d,overlay:g}),this.options.sortLayers&&this._layers.sort(u(function(b,T){return this.options.sortFunction(b.layer,T.layer,b.name,T.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;aa(this._baseLayersList),aa(this._overlaysList),this._layerControlInputs=[];var a,d,g,b,T=0;for(g=0;g<this._layers.length;g++)b=this._layers[g],this._addItem(b),d=d||b.overlay,a=a||!b.overlay,T+=b.overlay?0:1;return this.options.hideSingleBase&&(a=a&&T>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=d&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var d=this._getLayer(h(a.target)),g=d.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;g&&this._map.fire(g,d)},_createRadioElement:function(a,d){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(d?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=g,b.firstChild},_addItem:function(a){var d=document.createElement("label"),g=this._map.hasLayer(a.layer),b;a.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=g):b=this._createRadioElement("leaflet-base-layers_"+h(this),g),this._layerControlInputs.push(b),b.layerId=h(a.layer),We(b,"click",this._onInputClick,this);var T=document.createElement("span");T.innerHTML=" "+a.name;var O=document.createElement("span");d.appendChild(O),O.appendChild(b),O.appendChild(T);var $=a.overlay?this._overlaysList:this._baseLayersList;return $.appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,d,g,b=[],T=[];this._handlingClick=!0;for(var O=a.length-1;O>=0;O--)d=a[O],g=this._getLayer(d.layerId).layer,d.checked?b.push(g):d.checked||T.push(g);for(O=0;O<T.length;O++)this._map.hasLayer(T[O])&&this._map.removeLayer(T[O]);for(O=0;O<b.length;O++)this._map.hasLayer(b[O])||this._map.addLayer(b[O]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,d,g,b=this._map.getZoom(),T=a.length-1;T>=0;T--)d=a[T],g=this._getLayer(d.layerId).layer,d.disabled=g.options.minZoom!==void 0&&b<g.options.minZoom||g.options.maxZoom!==void 0&&b>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,We(a,"click",wt),this.expand();var d=this;setTimeout(function(){ut(a,"click",wt),d._preventClick=!1})}}),ga=function(a,d,g){return new Yl(a,d,g)},is=vn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var d="leaflet-control-zoom",g=Ye("div",d+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,d+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,d+"-out",g,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,d,g,b,T){var O=Ye("a",g,b);return O.innerHTML=a,O.href="#",O.title=d,O.setAttribute("role","button"),O.setAttribute("aria-label",d),uo(O),We(O,"click",Bn),We(O,"click",T,this),We(O,"click",this._refocusOnMap,this),O},_updateDisabled:function(){var a=this._map,d="leaflet-disabled";ht(this._zoomInButton,d),ht(this._zoomOutButton,d),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Ke(this._zoomOutButton,d),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Ke(this._zoomInButton,d),this._zoomInButton.setAttribute("aria-disabled","true"))}});tt.mergeOptions({zoomControl:!0}),tt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new is,this.addControl(this.zoomControl))});var Jc=function(a){return new is(a)},on=vn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var d="leaflet-control-scale",g=Ye("div",d),b=this.options;return this._addScales(b,d+"-line",g),a.on(b.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),g},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,d,g){a.metric&&(this._mScale=Ye("div",d,g)),a.imperial&&(this._iScale=Ye("div",d,g))},_update:function(){var a=this._map,d=a.getSize().y/2,g=a.distance(a.containerPointToLatLng([0,d]),a.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(g)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var d=this._getRoundNum(a),g=d<1e3?d+" m":d/1e3+" km";this._updateScale(this._mScale,g,d/a)},_updateImperial:function(a){var d=a*3.2808399,g,b,T;d>5280?(g=d/5280,b=this._getRoundNum(g),this._updateScale(this._iScale,b+" mi",b/g)):(T=this._getRoundNum(d),this._updateScale(this._iScale,T+" ft",T/d))},_updateScale:function(a,d,g){a.style.width=Math.round(this.options.maxWidth*g)+"px",a.innerHTML=d},_getRoundNum:function(a){var d=Math.pow(10,(Math.floor(a)+"").length-1),g=a/d;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:1,d*g}}),ss=function(a){return new on(a)},Xl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',bi=vn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ae.inlineSvg?Xl+" ":"")+"Leaflet</a>"},initialize:function(a){k(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Ye("div","leaflet-control-attribution"),uo(this._container);for(var d in a._layers)a._layers[d].getAttribution&&this.addAttribution(a._layers[d].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var d in this._attributions)this._attributions[d]&&a.push(d);var g=[];this.options.prefix&&g.push(this.options.prefix),a.length&&g.push(a.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});tt.mergeOptions({attributionControl:!0}),tt.addInitHook(function(){this.options.attributionControl&&new bi().addTo(this)});var Gf=function(a){return new bi(a)};vn.Layers=Yl,vn.Zoom=is,vn.Scale=on,vn.Attribution=bi,Zr.layers=ga,Zr.zoom=Jc,Zr.scale=ss,Zr.attribution=Gf;var Pn=le.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Pn.addTo=function(a,d){return a.addHandler(d,this),this};var Jl={Events:ye},os=Ae.touch?"touchstart mousedown":"mousedown",Fn=_e.extend({options:{clickTolerance:3},initialize:function(a,d,g,b){k(this,b),this._element=a,this._dragStartTarget=d||a,this._preventOutline=g},enable:function(){this._enabled||(We(this._dragStartTarget,os,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Fn._dragging===this&&this.finishDrag(!0),ut(this._dragStartTarget,os,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!es(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Fn._dragging===this&&this.finishDrag();return}if(!(Fn._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Fn._dragging=this,this._preventOutline&&rs(this._element),ca(),nt(),!this._moving)){this.fire("down");var d=a.touches?a.touches[0]:a,g=Sr(this._element);this._startPoint=new F(d.clientX,d.clientY),this._startPos=br(this._element),this._parentScale=rr(g);var b=a.type==="mousedown";We(document,b?"mousemove":"touchmove",this._onMove,this),We(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var d=a.touches&&a.touches.length===1?a.touches[0]:a,g=new F(d.clientX,d.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,wt(a),this._moved||(this.fire("dragstart"),this._moved=!0,Ke(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ke(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Et(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){ht(document.body,"leaflet-dragging"),this._lastTarget&&(ht(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ut(document,"mousemove touchmove",this._onMove,this),ut(document,"mouseup touchend touchcancel",this._onUp,this),da(),ns();var d=this._moved&&this._moving;this._moving=!1,Fn._dragging=!1,d&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Ql(a,d,g){var b,T=[1,4,2,8],O,$,Y,te,he,Se,ze,Xe;for(O=0,Se=a.length;O<Se;O++)a[O]._code=Si(a[O],d);for(Y=0;Y<4;Y++){for(ze=T[Y],b=[],O=0,Se=a.length,$=Se-1;O<Se;$=O++)te=a[O],he=a[$],te._code&ze?he._code&ze||(Xe=ya(he,te,ze,d,g),Xe._code=Si(Xe,d),b.push(Xe)):(he._code&ze&&(Xe=ya(he,te,ze,d,g),Xe._code=Si(Xe,d),b.push(Xe)),b.push(te));a=b}return a}function Qc(a,d){var g,b,T,O,$,Y,te,he,Se;if(!a||a.length===0)throw new Error("latlngs not passed");En(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var ze=ae([0,0]),Xe=oe(a),Vt=Xe.getNorthWest().distanceTo(Xe.getSouthWest())*Xe.getNorthEast().distanceTo(Xe.getNorthWest());Vt<1700&&(ze=eu(a));var Ot=a.length,_n=[];for(g=0;g<Ot;g++){var an=ae(a[g]);_n.push(d.project(ae([an.lat-ze.lat,an.lng-ze.lng])))}for(Y=te=he=0,g=0,b=Ot-1;g<Ot;b=g++)T=_n[g],O=_n[b],$=T.y*O.x-O.y*T.x,te+=(T.x+O.x)*$,he+=(T.y+O.y)*$,Y+=$*3;Y===0?Se=_n[0]:Se=[te/Y,he/Y];var gs=d.unproject(re(Se));return ae([gs.lat+ze.lat,gs.lng+ze.lng])}function eu(a){for(var d=0,g=0,b=0,T=0;T<a.length;T++){var O=ae(a[T]);d+=O.lat,g+=O.lng,b++}return ae([d/b,g/b])}var Zf={__proto__:null,clipPolygon:Ql,polygonCenter:Qc,centroid:eu};function va(a,d){if(!d||!a.length)return a.slice();var g=d*d;return a=Yf(a,g),a=Kf(a,g),a}function ed(a,d,g){return Math.sqrt(Ci(a,d,g,!0))}function qf(a,d,g){return Ci(a,d,g)}function Kf(a,d){var g=a.length,b=typeof Uint8Array<"u"?Uint8Array:Array,T=new b(g);T[0]=T[g-1]=1,tu(a,T,d,0,g-1);var O,$=[];for(O=0;O<g;O++)T[O]&&$.push(a[O]);return $}function tu(a,d,g,b,T){var O=0,$,Y,te;for(Y=b+1;Y<=T-1;Y++)te=Ci(a[Y],a[b],a[T],!0),te>O&&($=Y,O=te);O>g&&(d[$]=1,tu(a,d,g,b,$),tu(a,d,g,$,T))}function Yf(a,d){for(var g=[a[0]],b=1,T=0,O=a.length;b<O;b++)Xf(a[b],a[T])>d&&(g.push(a[b]),T=b);return T<O-1&&g.push(a[O-1]),g}var nu;function td(a,d,g,b,T){var O=b?nu:Si(a,g),$=Si(d,g),Y,te,he;for(nu=$;;){if(!(O|$))return[a,d];if(O&$)return!1;Y=O||$,te=ya(a,d,Y,g,T),he=Si(te,g),Y===O?(a=te,O=he):(d=te,$=he)}}function ya(a,d,g,b,T){var O=d.x-a.x,$=d.y-a.y,Y=b.min,te=b.max,he,Se;return g&8?(he=a.x+O*(te.y-a.y)/$,Se=te.y):g&4?(he=a.x+O*(Y.y-a.y)/$,Se=Y.y):g&2?(he=te.x,Se=a.y+$*(te.x-a.x)/O):g&1&&(he=Y.x,Se=a.y+$*(Y.x-a.x)/O),new F(he,Se,T)}function Si(a,d){var g=0;return a.x<d.min.x?g|=1:a.x>d.max.x&&(g|=2),a.y<d.min.y?g|=4:a.y>d.max.y&&(g|=8),g}function Xf(a,d){var g=d.x-a.x,b=d.y-a.y;return g*g+b*b}function Ci(a,d,g,b){var T=d.x,O=d.y,$=g.x-T,Y=g.y-O,te=$*$+Y*Y,he;return te>0&&(he=((a.x-T)*$+(a.y-O)*Y)/te,he>1?(T=g.x,O=g.y):he>0&&(T+=$*he,O+=Y*he)),$=a.x-T,Y=a.y-O,b?$*$+Y*Y:new F(T,O)}function En(a){return!I(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function nd(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),En(a)}function rd(a,d){var g,b,T,O,$,Y,te,he;if(!a||a.length===0)throw new Error("latlngs not passed");En(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Se=ae([0,0]),ze=oe(a),Xe=ze.getNorthWest().distanceTo(ze.getSouthWest())*ze.getNorthEast().distanceTo(ze.getNorthWest());Xe<1700&&(Se=eu(a));var Vt=a.length,Ot=[];for(g=0;g<Vt;g++){var _n=ae(a[g]);Ot.push(d.project(ae([_n.lat-Se.lat,_n.lng-Se.lng])))}for(g=0,b=0;g<Vt-1;g++)b+=Ot[g].distanceTo(Ot[g+1])/2;if(b===0)he=Ot[0];else for(g=0,O=0;g<Vt-1;g++)if($=Ot[g],Y=Ot[g+1],T=$.distanceTo(Y),O+=T,O>b){te=(O-b)/T,he=[Y.x-te*(Y.x-$.x),Y.y-te*(Y.y-$.y)];break}var an=d.unproject(re(he));return ae([an.lat+Se.lat,an.lng+Se.lng])}var id={__proto__:null,simplify:va,pointToSegmentDistance:ed,closestPointOnSegment:qf,clipSegment:td,_getEdgeIntersection:ya,_getBitCode:Si,_sqClosestPointOnSegment:Ci,isFlat:En,_flat:nd,polylineCenter:rd},ru={project:function(a){return new F(a.lng,a.lat)},unproject:function(a){return new ue(a.y,a.x)},bounds:new H([-180,-90],[180,90])},iu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new H([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var d=Math.PI/180,g=this.R,b=a.lat*d,T=this.R_MINOR/g,O=Math.sqrt(1-T*T),$=O*Math.sin(b),Y=Math.tan(Math.PI/4-b/2)/Math.pow((1-$)/(1+$),O/2);return b=-g*Math.log(Math.max(Y,1e-10)),new F(a.lng*d*g,b)},unproject:function(a){for(var d=180/Math.PI,g=this.R,b=this.R_MINOR/g,T=Math.sqrt(1-b*b),O=Math.exp(-a.y/g),$=Math.PI/2-2*Math.atan(O),Y=0,te=.1,he;Y<15&&Math.abs(te)>1e-7;Y++)he=T*Math.sin($),he=Math.pow((1-he)/(1+he),T/2),te=Math.PI/2-2*Math.atan(O*he)-$,$+=te;return new ue($*d,a.x*d/g)}},Jf={__proto__:null,LonLat:ru,Mercator:iu,SphericalMercator:we},Qf=s({},K,{code:"EPSG:3395",projection:iu,transformation:(function(){var a=.5/(Math.PI*iu.R);return Be(a,.5,-a,.5)})()}),sd=s({},K,{code:"EPSG:4326",projection:ru,transformation:Be(1/180,1,-1/180,.5)}),ep=s({},J,{projection:ru,transformation:Be(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,d){var g=d.lng-a.lng,b=d.lat-a.lat;return Math.sqrt(g*g+b*b)},infinite:!0});J.Earth=K,J.EPSG3395=Qf,J.EPSG3857=Ee,J.EPSG900913=lt,J.EPSG4326=sd,J.Simple=ep;var Vn=_e.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[h(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[h(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var d=a.target;if(d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var g=this.getEvents();d.on(g,this),this.once("remove",function(){d.off(g,this)},this)}this.onAdd(d),this.fire("add"),d.fire("layeradd",{layer:this})}}});tt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var d=h(a);return this._layers[d]?this:(this._layers[d]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var d=h(a);return this._layers[d]?(this._loaded&&a.onRemove(this),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return h(a)in this._layers},eachLayer:function(a,d){for(var g in this._layers)a.call(d,this._layers[g]);return this},_addLayers:function(a){a=a?I(a)?a:[a]:[];for(var d=0,g=a.length;d<g;d++)this.addLayer(a[d])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[h(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var d=h(a);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,d=-1/0,g=this._getZoomSpan();for(var b in this._zoomBoundLayers){var T=this._zoomBoundLayers[b].options;a=T.minZoom===void 0?a:Math.min(a,T.minZoom),d=T.maxZoom===void 0?d:Math.max(d,T.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=a===1/0?void 0:a,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var qr=Vn.extend({initialize:function(a,d){k(this,d),this._layers={};var g,b;if(a)for(g=0,b=a.length;g<b;g++)this.addLayer(a[g])},addLayer:function(a){var d=this.getLayerId(a);return this._layers[d]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var d=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(a){var d=typeof a=="number"?a:this.getLayerId(a);return d in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var d=Array.prototype.slice.call(arguments,1),g,b;for(g in this._layers)b=this._layers[g],b[a]&&b[a].apply(b,d);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,d){for(var g in this._layers)a.call(d,this._layers[g]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return h(a)}}),fo=function(a,d){return new qr(a,d)},Cr=qr.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),qr.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),qr.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new ie;for(var d in this._layers){var g=this._layers[d];a.extend(g.getBounds?g.getBounds():g.getLatLng())}return a}}),od=function(a,d){return new Cr(a,d)},ki=le.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){k(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,d){var g=this._getIconUrl(a);if(!g){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(g,d&&d.tagName==="IMG"?d:null);return this._setIconStyles(b,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(a,d){var g=this.options,b=g[d+"Size"];typeof b=="number"&&(b=[b,b]);var T=re(b),O=re(d==="shadow"&&g.shadowAnchor||g.iconAnchor||T&&T.divideBy(2,!0));a.className="leaflet-marker-"+d+" "+(g.className||""),O&&(a.style.marginLeft=-O.x+"px",a.style.marginTop=-O.y+"px"),T&&(a.style.width=T.x+"px",a.style.height=T.y+"px")},_createImg:function(a,d){return d=d||document.createElement("img"),d.src=a,d},_getIconUrl:function(a){return Ae.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function ad(a){return new ki(a)}var as=ki.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof as.imagePath!="string"&&(as.imagePath=this._detectIconPath()),(this.options.imagePath||as.imagePath)+ki.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var d=function(g,b,T){var O=b.exec(g);return O&&O[T]};return a=d(a,/^url\((['"])?(.+)\1\)$/,2),a&&d(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Ye("div","leaflet-default-icon-path",document.body),d=so(a,"background-image")||so(a,"backgroundImage");if(document.body.removeChild(a),d=this._stripUrl(d),d)return d;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),su=Pn.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Fn(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ke(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ht(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var d=this._marker,g=d._map,b=this._marker.options.autoPanSpeed,T=this._marker.options.autoPanPadding,O=br(d._icon),$=g.getPixelBounds(),Y=g.getPixelOrigin(),te=se($.min._subtract(Y).add(T),$.max._subtract(Y).subtract(T));if(!te.contains(O)){var he=re((Math.max(te.max.x,O.x)-te.max.x)/($.max.x-te.max.x)-(Math.min(te.min.x,O.x)-te.min.x)/($.min.x-te.min.x),(Math.max(te.max.y,O.y)-te.max.y)/($.max.y-te.max.y)-(Math.min(te.min.y,O.y)-te.min.y)/($.min.y-te.min.y)).multiplyBy(b);g.panBy(he,{animate:!1}),this._draggable._newPos._add(he),this._draggable._startPos._add(he),Et(d._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=U(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(G(this._panRequest),this._panRequest=U(this._adjustPan.bind(this,a)))},_onDrag:function(a){var d=this._marker,g=d._shadow,b=br(d._icon),T=d._map.layerPointToLatLng(b);g&&Et(g,b),d._latlng=T,a.latlng=T,a.oldLatLng=this._oldLatLng,d.fire("move",a).fire("drag",a)},_onDragEnd:function(a){G(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),kr=Vn.extend({options:{icon:new as,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,d){k(this,d),this._latlng=ae(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var d=this._latlng;return this._latlng=ae(a),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=a.icon.createIcon(this._icon),b=!1;g!==this._icon&&(this._icon&&this._removeIcon(),b=!0,a.title&&(g.title=a.title),g.tagName==="IMG"&&(g.alt=a.alt||"")),Ke(g,d),a.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&We(g,"focus",this._panOnFocus,this);var T=a.icon.createShadow(this._shadow),O=!1;T!==this._shadow&&(this._removeShadow(),O=!0),T&&(Ke(T,d),T.alt=""),this._shadow=T,a.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),T&&O&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ut(this._icon,"focus",this._panOnFocus,this),gt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&gt(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Et(this._icon,a),this._shadow&&Et(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var d=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(d)},_initInteraction:function(){if(this.options.interactive&&(Ke(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),su)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new su(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&sn(this._icon,a),this._shadow&&sn(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var d=this.options.icon.options,g=d.iconSize?re(d.iconSize):re(0,0),b=d.iconAnchor?re(d.iconAnchor):re(0,0);a.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:g.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function tp(a,d){return new kr(a,d)}var Kr=Vn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return k(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),_a=Kr.extend({options:{fill:!0,radius:10},initialize:function(a,d){k(this,d),this._latlng=ae(a),this._radius=this.options.radius},setLatLng:function(a){var d=this._latlng;return this._latlng=ae(a),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var d=a&&a.radius||this._radius;return Kr.prototype.setStyle.call(this,a),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,d=this._radiusY||a,g=this._clickTolerance(),b=[a+g,d+g];this._pxBounds=new H(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ld(a,d){return new _a(a,d)}var xa=_a.extend({initialize:function(a,d,g){if(typeof d=="number"&&(d=s({},g,{radius:d})),k(this,d),this._latlng=ae(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new ie(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Kr.prototype.setStyle,_project:function(){var a=this._latlng.lng,d=this._latlng.lat,g=this._map,b=g.options.crs;if(b.distance===K.distance){var T=Math.PI/180,O=this._mRadius/K.R/T,$=g.project([d+O,a]),Y=g.project([d-O,a]),te=$.add(Y).divideBy(2),he=g.unproject(te).lat,Se=Math.acos((Math.cos(O*T)-Math.sin(d*T)*Math.sin(he*T))/(Math.cos(d*T)*Math.cos(he*T)))/T;(isNaN(Se)||Se===0)&&(Se=O/Math.cos(Math.PI/180*d)),this._point=te.subtract(g.getPixelOrigin()),this._radius=isNaN(Se)?0:te.x-g.project([he,a-Se]).x,this._radiusY=te.y-$.y}else{var ze=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(ze).x}this._updateBounds()}});function po(a,d,g){return new xa(a,d,g)}var yn=Kr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,d){k(this,d),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var d=1/0,g=null,b=Ci,T,O,$=0,Y=this._parts.length;$<Y;$++)for(var te=this._parts[$],he=1,Se=te.length;he<Se;he++){T=te[he-1],O=te[he];var ze=b(a,T,O,!0);ze<d&&(d=ze,g=b(a,T,O))}return g&&(g.distance=Math.sqrt(d)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return rd(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,d){return d=d||this._defaultShape(),a=ae(a),d.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new ie,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return En(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var d=[],g=En(a),b=0,T=a.length;b<T;b++)g?(d[b]=ae(a[b]),this._bounds.extend(d[b])):d[b]=this._convertLatLngs(a[b]);return d},_project:function(){var a=new H;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),d=new F(a,a);this._rawPxBounds&&(this._pxBounds=new H([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)]))},_projectLatlngs:function(a,d,g){var b=a[0]instanceof ue,T=a.length,O,$;if(b){for($=[],O=0;O<T;O++)$[O]=this._map.latLngToLayerPoint(a[O]),g.extend($[O]);d.push($)}else for(O=0;O<T;O++)this._projectLatlngs(a[O],d,g)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var d=this._parts,g,b,T,O,$,Y,te;for(g=0,T=0,O=this._rings.length;g<O;g++)for(te=this._rings[g],b=0,$=te.length;b<$-1;b++)Y=td(te[b],te[b+1],a,b,!0),Y&&(d[T]=d[T]||[],d[T].push(Y[0]),(Y[1]!==te[b+1]||b===$-2)&&(d[T].push(Y[1]),T++))}},_simplifyPoints:function(){for(var a=this._parts,d=this.options.smoothFactor,g=0,b=a.length;g<b;g++)a[g]=va(a[g],d)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,d){var g,b,T,O,$,Y,te=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(g=0,O=this._parts.length;g<O;g++)for(Y=this._parts[g],b=0,$=Y.length,T=$-1;b<$;T=b++)if(!(!d&&b===0)&&ed(a,Y[T],Y[b])<=te)return!0;return!1}});function np(a,d){return new yn(a,d)}yn._flat=nd;var Pr=yn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Qc(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var d=yn.prototype._convertLatLngs.call(this,a),g=d.length;return g>=2&&d[0]instanceof ue&&d[0].equals(d[g-1])&&d.pop(),d},_setLatLngs:function(a){yn.prototype._setLatLngs.call(this,a),En(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return En(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,d=this.options.weight,g=new F(d,d);if(a=new H(a.min.subtract(g),a.max.add(g)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,T=this._rings.length,O;b<T;b++)O=Ql(this._rings[b],a,!0),O.length&&this._parts.push(O)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var d=!1,g,b,T,O,$,Y,te,he;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(O=0,te=this._parts.length;O<te;O++)for(g=this._parts[O],$=0,he=g.length,Y=he-1;$<he;Y=$++)b=g[$],T=g[Y],b.y>a.y!=T.y>a.y&&a.x<(T.x-b.x)*(a.y-b.y)/(T.y-b.y)+b.x&&(d=!d);return d||yn.prototype._containsPoint.call(this,a,!0)}});function rp(a,d){return new Pr(a,d)}var sr=Cr.extend({initialize:function(a,d){k(this,d),this._layers={},a&&this.addData(a)},addData:function(a){var d=I(a)?a:a.features,g,b,T;if(d){for(g=0,b=d.length;g<b;g++)T=d[g],(T.geometries||T.geometry||T.features||T.coordinates)&&this.addData(T);return this}var O=this.options;if(O.filter&&!O.filter(a))return this;var $=ls(a,O);return $?($.feature=ka(a),$.defaultOptions=$.options,this.resetStyle($),O.onEachFeature&&O.onEachFeature(a,$),this.addLayer($)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=s({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(d){this._setLayerStyle(d,a)},this)},_setLayerStyle:function(a,d){a.setStyle&&(typeof d=="function"&&(d=d(a.feature)),a.setStyle(d))}});function ls(a,d){var g=a.type==="Feature"?a.geometry:a,b=g?g.coordinates:null,T=[],O=d&&d.pointToLayer,$=d&&d.coordsToLatLng||ba,Y,te,he,Se;if(!b&&!g)return null;switch(g.type){case"Point":return Y=$(b),wa(O,a,Y,d);case"MultiPoint":for(he=0,Se=b.length;he<Se;he++)Y=$(b[he]),T.push(wa(O,a,Y,d));return new Cr(T);case"LineString":case"MultiLineString":return te=mo(b,g.type==="LineString"?0:1,$),new yn(te,d);case"Polygon":case"MultiPolygon":return te=mo(b,g.type==="Polygon"?1:2,$),new Pr(te,d);case"GeometryCollection":for(he=0,Se=g.geometries.length;he<Se;he++){var ze=ls({geometry:g.geometries[he],type:"Feature",properties:a.properties},d);ze&&T.push(ze)}return new Cr(T);case"FeatureCollection":for(he=0,Se=g.features.length;he<Se;he++){var Xe=ls(g.features[he],d);Xe&&T.push(Xe)}return new Cr(T);default:throw new Error("Invalid GeoJSON object.")}}function wa(a,d,g,b){return a?a(d,g):new kr(g,b&&b.markersInheritOptions&&b)}function ba(a){return new ue(a[1],a[0],a[2])}function mo(a,d,g){for(var b=[],T=0,O=a.length,$;T<O;T++)$=d?mo(a[T],d-1,g):(g||ba)(a[T]),b.push($);return b}function Sa(a,d){return a=ae(a),a.alt!==void 0?[x(a.lng,d),x(a.lat,d),x(a.alt,d)]:[x(a.lng,d),x(a.lat,d)]}function Ca(a,d,g,b){for(var T=[],O=0,$=a.length;O<$;O++)T.push(d?Ca(a[O],En(a[O])?0:d-1,g,b):Sa(a[O],b));return!d&&g&&T.length>0&&T.push(T[0].slice()),T}function us(a,d){return a.feature?s({},a.feature,{geometry:d}):ka(d)}function ka(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var ou={toGeoJSON:function(a){return us(this,{type:"Point",coordinates:Sa(this.getLatLng(),a)})}};kr.include(ou),xa.include(ou),_a.include(ou),yn.include({toGeoJSON:function(a){var d=!En(this._latlngs),g=Ca(this._latlngs,d?1:0,!1,a);return us(this,{type:(d?"Multi":"")+"LineString",coordinates:g})}}),Pr.include({toGeoJSON:function(a){var d=!En(this._latlngs),g=d&&!En(this._latlngs[0]),b=Ca(this._latlngs,g?2:d?1:0,!0,a);return d||(b=[b]),us(this,{type:(g?"Multi":"")+"Polygon",coordinates:b})}}),qr.include({toMultiPoint:function(a){var d=[];return this.eachLayer(function(g){d.push(g.toGeoJSON(a).geometry.coordinates)}),us(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(a){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(d==="MultiPoint")return this.toMultiPoint(a);var g=d==="GeometryCollection",b=[];return this.eachLayer(function(T){if(T.toGeoJSON){var O=T.toGeoJSON(a);if(g)b.push(O.geometry);else{var $=ka(O);$.type==="FeatureCollection"?b.push.apply(b,$.features):b.push($)}}}),g?us(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function ud(a,d){return new sr(a,d)}var $n=ud,Yr=Vn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,d,g){this._url=a,this._bounds=oe(d),k(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ke(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){gt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Qi(this._image),this},bringToBack:function(){return this._map&&wr(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=oe(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",d=this._image=a?this._url:Ye("img");if(Ke(d,"leaflet-image-layer"),this._zoomAnimated&&Ke(d,"leaflet-zoom-animated"),this.options.className&&Ke(d,this.options.className),d.onselectstart=_,d.onmousemove=_,d.onload=u(this.fire,this,"load"),d.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=d.src;return}d.src=this._url,d.alt=this.options.alt},_animateZoom:function(a){var d=this._map.getZoomScale(a.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Dn(this._image,g,d)},_reset:function(){var a=this._image,d=new H(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=d.getSize();Et(a,d.min),a.style.width=g.x+"px",a.style.height=g.y+"px"},_updateOpacity:function(){sn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),cd=function(a,d,g){return new Yr(a,d,g)},au=Yr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",d=this._image=a?this._url:Ye("video");if(Ke(d,"leaflet-image-layer"),this._zoomAnimated&&Ke(d,"leaflet-zoom-animated"),this.options.className&&Ke(d,this.options.className),d.onselectstart=_,d.onmousemove=_,d.onloadeddata=u(this.fire,this,"load"),a){for(var g=d.getElementsByTagName("source"),b=[],T=0;T<g.length;T++)b.push(g[T].src);this._url=g.length>0?b:[d.src];return}I(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted,d.playsInline=!!this.options.playsInline;for(var O=0;O<this._url.length;O++){var $=Ye("source");$.src=this._url[O],d.appendChild($)}}});function dd(a,d,g){return new au(a,d,g)}var lu=Yr.extend({_initImage:function(){var a=this._image=this._url;Ke(a,"leaflet-image-layer"),this._zoomAnimated&&Ke(a,"leaflet-zoom-animated"),this.options.className&&Ke(a,this.options.className),a.onselectstart=_,a.onmousemove=_}});function uu(a,d,g){return new lu(a,d,g)}var or=Vn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,d){a&&(a instanceof ue||I(a))?(this._latlng=ae(a),k(this,d)):(k(this,a),this._source=d),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&sn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&sn(this._container,1),this.bringToFront(),this.options.interactive&&(Ke(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(sn(this._container,0),this._removeTimeout=setTimeout(u(gt,void 0,this._container),200)):gt(this._container),this.options.interactive&&(ht(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=ae(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Qi(this._container),this},bringToBack:function(){return this._map&&wr(this._container),this},_prepareOpen:function(a){var d=this._source;if(!d._map)return!1;if(d instanceof Cr){d=null;var g=this._source._layers;for(var b in g)if(g[b]._map){d=g[b];break}if(!d)return!1;this._source=d}if(!a)if(d.getCenter)a=d.getCenter();else if(d.getLatLng)a=d.getLatLng();else if(d.getBounds)a=d.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,d=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof d=="string")a.innerHTML=d;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),d=re(this.options.offset),g=this._getAnchor();this._zoomAnimated?Et(this._container,a.add(g)):d=d.add(a).add(g);var b=this._containerBottom=-d.y,T=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=b+"px",this._container.style.left=T+"px"}},_getAnchor:function(){return[0,0]}});tt.include({_initOverlay:function(a,d,g,b){var T=d;return T instanceof a||(T=new a(b).setContent(d)),g&&T.setLatLng(g),T}}),Vn.include({_initOverlay:function(a,d,g,b){var T=g;return T instanceof a?(k(T,b),T._source=this):(T=d&&!b?d:new a(b,this),T.setContent(g)),T}});var Pa=or.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,or.prototype.openOn.call(this,a)},onAdd:function(a){or.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Kr||this._source.on("preclick",ir))},onRemove:function(a){or.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Kr||this._source.off("preclick",ir))},getEvents:function(){var a=or.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",d=this._container=Ye("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=Ye("div",a+"-content-wrapper",d);if(this._contentNode=Ye("div",a+"-content",g),uo(d),fa(this._contentNode),We(d,"contextmenu",ir),this._tipContainer=Ye("div",a+"-tip-container",d),this._tip=Ye("div",a+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=Ye("a",a+"-close-button",d);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',We(b,"click",function(T){wt(T),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,d=a.style;d.width="",d.whiteSpace="nowrap";var g=a.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),d.width=g+1+"px",d.whiteSpace="",d.height="";var b=a.offsetHeight,T=this.options.maxHeight,O="leaflet-popup-scrolled";T&&b>T?(d.height=T+"px",Ke(a,O)):ht(a,O),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var d=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),g=this._getAnchor();Et(this._container,d.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,d=parseInt(so(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+d,b=this._containerWidth,T=new F(this._containerLeft,-g-this._containerBottom);T._add(br(this._container));var O=a.layerPointToContainerPoint(T),$=re(this.options.autoPanPadding),Y=re(this.options.autoPanPaddingTopLeft||$),te=re(this.options.autoPanPaddingBottomRight||$),he=a.getSize(),Se=0,ze=0;O.x+b+te.x>he.x&&(Se=O.x+b-he.x+te.x),O.x-Se-Y.x<0&&(Se=O.x-Y.x),O.y+g+te.y>he.y&&(ze=O.y+g-he.y+te.y),O.y-ze-Y.y<0&&(ze=O.y-Y.y),(Se||ze)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Se,ze]))}},_getAnchor:function(){return re(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),cs=function(a,d){return new Pa(a,d)};tt.mergeOptions({closePopupOnClick:!0}),tt.include({openPopup:function(a,d,g){return this._initOverlay(Pa,a,d,g).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Vn.include({bindPopup:function(a,d){return this._popup=this._initOverlay(Pa,this._popup,a,d),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Cr||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Bn(a);var d=a.layer||a.target;if(this._popup._source===d&&!(d instanceof Kr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=d,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var ds=or.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){or.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){or.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=or.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",d=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ye("div",d),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var d,g,b=this._map,T=this._container,O=b.latLngToContainerPoint(b.getCenter()),$=b.layerPointToContainerPoint(a),Y=this.options.direction,te=T.offsetWidth,he=T.offsetHeight,Se=re(this.options.offset),ze=this._getAnchor();Y==="top"?(d=te/2,g=he):Y==="bottom"?(d=te/2,g=0):Y==="center"?(d=te/2,g=he/2):Y==="right"?(d=0,g=he/2):Y==="left"?(d=te,g=he/2):$.x<O.x?(Y="right",d=0,g=he/2):(Y="left",d=te+(Se.x+ze.x)*2,g=he/2),a=a.subtract(re(d,g,!0)).add(Se).add(ze),ht(T,"leaflet-tooltip-right"),ht(T,"leaflet-tooltip-left"),ht(T,"leaflet-tooltip-top"),ht(T,"leaflet-tooltip-bottom"),Ke(T,"leaflet-tooltip-"+Y),Et(T,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&sn(this._container,a)},_animateZoom:function(a){var d=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(d)},_getAnchor:function(){return re(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),go=function(a,d){return new ds(a,d)};tt.include({openTooltip:function(a,d,g){return this._initOverlay(ds,a,d,g).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Vn.include({bindTooltip:function(a,d){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ds,this._tooltip,a,d),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var d=a?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[d](g),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Cr||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var d=typeof a.getElement=="function"&&a.getElement();d&&(We(d,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),We(d,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var d=typeof a.getElement=="function"&&a.getElement();d&&d.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var d=this;this._map.once("moveend",function(){d._openOnceFlag=!1,d._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var d=a.latlng,g,b;this._tooltip.options.sticky&&a.originalEvent&&(g=this._map.mouseEventToContainerPoint(a.originalEvent),b=this._map.containerPointToLayerPoint(g),d=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(d)}});var Ea=ki.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var d=a&&a.tagName==="DIV"?a:document.createElement("div"),g=this.options;if(g.html instanceof Element?(aa(d),d.appendChild(g.html)):d.innerHTML=g.html!==!1?g.html:"",g.bgPos){var b=re(g.bgPos);d.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});function hd(a){return new Ea(a)}ki.Default=as;var Xr=Vn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ae.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){k(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),gt(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Qi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(wr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof F?a:new F(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var d=this.getPane().children,g=-a(-1/0,1/0),b=0,T=d.length,O;b<T;b++)O=d[b].style.zIndex,d[b]!==this._container&&O&&(g=a(g,+O));isFinite(g)&&(this.options.zIndex=g+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ae.ielt9){sn(this._container,this.options.opacity);var a=+new Date,d=!1,g=!1;for(var b in this._tiles){var T=this._tiles[b];if(!(!T.current||!T.loaded)){var O=Math.min(1,(a-T.loaded)/200);sn(T.el,O),O<1?d=!0:(T.active?g=!0:this._onOpaqueTile(T),T.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),d&&(G(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=Ye("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,d=this.options.maxZoom;if(a!==void 0){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===a?(this._levels[g].el.style.zIndex=d-Math.abs(a-g),this._onUpdateLevel(g)):(gt(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var b=this._levels[a],T=this._map;return b||(b=this._levels[a]={},b.el=Ye("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=d,b.origin=T.project(T.unproject(T.getPixelOrigin()),a).round(),b.zoom=a,this._setZoomTransform(b,T.getCenter(),T.getZoom()),_(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var a,d,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)d=this._tiles[a],d.retain=d.current;for(a in this._tiles)if(d=this._tiles[a],d.current&&!d.active){var b=d.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var d in this._tiles)this._tiles[d].coords.z===a&&this._removeTile(d)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)gt(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,d,g,b){var T=Math.floor(a/2),O=Math.floor(d/2),$=g-1,Y=new F(+T,+O);Y.z=+$;var te=this._tileCoordsToKey(Y),he=this._tiles[te];return he&&he.active?(he.retain=!0,!0):(he&&he.loaded&&(he.retain=!0),$>b?this._retainParent(T,O,$,b):!1)},_retainChildren:function(a,d,g,b){for(var T=2*a;T<2*a+2;T++)for(var O=2*d;O<2*d+2;O++){var $=new F(T,O);$.z=g+1;var Y=this._tileCoordsToKey($),te=this._tiles[Y];if(te&&te.active){te.retain=!0;continue}else te&&te.loaded&&(te.retain=!0);g+1<b&&this._retainChildren(T,O,g+1,b)}},_resetView:function(a){var d=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var d=this.options;return d.minNativeZoom!==void 0&&a<d.minNativeZoom?d.minNativeZoom:d.maxNativeZoom!==void 0&&d.maxNativeZoom<a?d.maxNativeZoom:a},_setView:function(a,d,g,b){var T=Math.round(d);this.options.maxZoom!==void 0&&T>this.options.maxZoom||this.options.minZoom!==void 0&&T<this.options.minZoom?T=void 0:T=this._clampZoom(T);var O=this.options.updateWhenZooming&&T!==this._tileZoom;(!b||O)&&(this._tileZoom=T,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),T!==void 0&&this._update(a),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(a,d)},_setZoomTransforms:function(a,d){for(var g in this._levels)this._setZoomTransform(this._levels[g],a,d)},_setZoomTransform:function(a,d,g){var b=this._map.getZoomScale(g,a.zoom),T=a.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(d,g)).round();Ae.any3d?Dn(a.el,T,b):Et(a.el,T)},_resetGrid:function(){var a=this._map,d=a.options.crs,g=this._tileSize=this.getTileSize(),b=this._tileZoom,T=this._map.getPixelWorldBounds(this._tileZoom);T&&(this._globalTileRange=this._pxBoundsToTileRange(T)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,d.wrapLng[0]],b).x/g.x),Math.ceil(a.project([0,d.wrapLng[1]],b).x/g.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([d.wrapLat[0],0],b).y/g.x),Math.ceil(a.project([d.wrapLat[1],0],b).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var d=this._map,g=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),b=d.getZoomScale(g,this._tileZoom),T=d.project(a,this._tileZoom).floor(),O=d.getSize().divideBy(b*2);return new H(T.subtract(O),T.add(O))},_update:function(a){var d=this._map;if(d){var g=this._clampZoom(d.getZoom());if(a===void 0&&(a=d.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(a),T=this._pxBoundsToTileRange(b),O=T.getCenter(),$=[],Y=this.options.keepBuffer,te=new H(T.getBottomLeft().subtract([Y,-Y]),T.getTopRight().add([Y,-Y]));if(!(isFinite(T.min.x)&&isFinite(T.min.y)&&isFinite(T.max.x)&&isFinite(T.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var he in this._tiles){var Se=this._tiles[he].coords;(Se.z!==this._tileZoom||!te.contains(new F(Se.x,Se.y)))&&(this._tiles[he].current=!1)}if(Math.abs(g-this._tileZoom)>1){this._setView(a,g);return}for(var ze=T.min.y;ze<=T.max.y;ze++)for(var Xe=T.min.x;Xe<=T.max.x;Xe++){var Vt=new F(Xe,ze);if(Vt.z=this._tileZoom,!!this._isValidTile(Vt)){var Ot=this._tiles[this._tileCoordsToKey(Vt)];Ot?Ot.current=!0:$.push(Vt)}}if($.sort(function(an,gs){return an.distanceTo(O)-gs.distanceTo(O)}),$.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var _n=document.createDocumentFragment();for(Xe=0;Xe<$.length;Xe++)this._addTile($[Xe],_n);this._level.el.appendChild(_n)}}}},_isValidTile:function(a){var d=this._map.options.crs;if(!d.infinite){var g=this._globalTileRange;if(!d.wrapLng&&(a.x<g.min.x||a.x>g.max.x)||!d.wrapLat&&(a.y<g.min.y||a.y>g.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(a);return oe(this.options.bounds).overlaps(b)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var d=this._map,g=this.getTileSize(),b=a.scaleBy(g),T=b.add(g),O=d.unproject(b,a.z),$=d.unproject(T,a.z);return[O,$]},_tileCoordsToBounds:function(a){var d=this._tileCoordsToNwSe(a),g=new ie(d[0],d[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var d=a.split(":"),g=new F(+d[0],+d[1]);return g.z=+d[2],g},_removeTile:function(a){var d=this._tiles[a];d&&(gt(d.el),delete this._tiles[a],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Ke(a,"leaflet-tile");var d=this.getTileSize();a.style.width=d.x+"px",a.style.height=d.y+"px",a.onselectstart=_,a.onmousemove=_,Ae.ielt9&&this.options.opacity<1&&sn(a,this.options.opacity)},_addTile:function(a,d){var g=this._getTilePos(a),b=this._tileCoordsToKey(a),T=this.createTile(this._wrapCoords(a),u(this._tileReady,this,a));this._initTile(T),this.createTile.length<2&&U(u(this._tileReady,this,a,null,T)),Et(T,g),this._tiles[b]={el:T,coords:a,current:!0},d.appendChild(T),this.fire("tileloadstart",{tile:T,coords:a})},_tileReady:function(a,d,g){d&&this.fire("tileerror",{error:d,tile:g,coords:a});var b=this._tileCoordsToKey(a);g=this._tiles[b],g&&(g.loaded=+new Date,this._map._fadeAnimated?(sn(g.el,0),G(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),d||(Ke(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ae.ielt9||!this._map._fadeAnimated?U(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var d=new F(this._wrapX?y(a.x,this._wrapX):a.x,this._wrapY?y(a.y,this._wrapY):a.y);return d.z=a.z,d},_pxBoundsToTileRange:function(a){var d=this.getTileSize();return new H(a.min.unscaleBy(d).floor(),a.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function hs(a){return new Xr(a)}var Jr=Xr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,d){this._url=a,d=k(this,d),d.detectRetina&&Ae.retina&&d.maxZoom>0?(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom=Math.min(d.maxZoom,d.minZoom+1)):(d.zoomOffset++,d.maxZoom=Math.max(d.minZoom,d.maxZoom-1)),d.minZoom=Math.max(0,d.minZoom)):d.zoomReverse?d.minZoom=Math.min(d.maxZoom,d.minZoom):d.maxZoom=Math.max(d.minZoom,d.maxZoom),typeof d.subdomains=="string"&&(d.subdomains=d.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,d){return this._url===a&&d===void 0&&(d=!0),this._url=a,d||this.redraw(),this},createTile:function(a,d){var g=document.createElement("img");return We(g,"load",u(this._tileOnLoad,this,d,g)),We(g,"error",u(this._tileOnError,this,d,g)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(a),g},getTileUrl:function(a){var d={r:Ae.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-a.y;this.options.tms&&(d.y=g),d["-y"]=g}return A(this._url,s(d,this.options))},_tileOnLoad:function(a,d){Ae.ielt9?setTimeout(u(a,this,null,d),0):a(null,d)},_tileOnError:function(a,d,g){var b=this.options.errorTileUrl;b&&d.getAttribute("src")!==b&&(d.src=b),a(g,d)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,d=this.options.maxZoom,g=this.options.zoomReverse,b=this.options.zoomOffset;return g&&(a=d-a),a+b},_getSubdomain:function(a){var d=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var a,d;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(d=this._tiles[a].el,d.onload=_,d.onerror=_,!d.complete)){d.src=V;var g=this._tiles[a].coords;gt(d),delete this._tiles[a],this.fire("tileabort",{tile:d,coords:g})}},_removeTile:function(a){var d=this._tiles[a];if(d)return d.el.setAttribute("src",V),Xr.prototype._removeTile.call(this,a)},_tileReady:function(a,d,g){if(!(!this._map||g&&g.getAttribute("src")===V))return Xr.prototype._tileReady.call(this,a,d,g)}});function cu(a,d){return new Jr(a,d)}var vo=Jr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,d){this._url=a;var g=s({},this.defaultWmsParams);for(var b in d)b in this.options||(g[b]=d[b]);d=k(this,d);var T=d.detectRetina&&Ae.retina?2:1,O=this.getTileSize();g.width=O.x*T,g.height=O.y*T,this.wmsParams=g},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var d=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[d]=this._crs.code,Jr.prototype.onAdd.call(this,a)},getTileUrl:function(a){var d=this._tileCoordsToNwSe(a),g=this._crs,b=se(g.project(d[0]),g.project(d[1])),T=b.min,O=b.max,$=(this._wmsVersion>=1.3&&this._crs===sd?[T.y,T.x,O.y,O.x]:[T.x,T.y,O.x,O.y]).join(","),Y=Jr.prototype.getTileUrl.call(this,a);return Y+R(this.wmsParams,Y,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+$},setParams:function(a,d){return s(this.wmsParams,a),d||this.redraw(),this}});function fd(a,d){return new vo(a,d)}Jr.WMS=vo,cu.wms=fd;var ar=Vn.extend({options:{padding:.1},initialize:function(a){k(this,a),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ke(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,d){var g=this._map.getZoomScale(d,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),T=this._map.project(this._center,d),O=b.multiplyBy(-g).add(T).subtract(this._map._getNewPixelOrigin(a,d));Ae.any3d?Dn(this._container,O,g):Et(this._container,O)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,d=this._map.getSize(),g=this._map.containerPointToLayerPoint(d.multiplyBy(-a)).round();this._bounds=new H(g,g.add(d.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),du=ar.extend({options:{tolerance:0},getEvents:function(){var a=ar.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ar.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");We(a,"mousemove",this._onMouseMove,this),We(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),We(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){G(this._redrawRequest),delete this._ctx,gt(this._container),ut(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var d in this._layers)a=this._layers[d],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ar.prototype._update.call(this);var a=this._bounds,d=this._container,g=a.getSize(),b=Ae.retina?2:1;Et(d,a.min),d.width=b*g.x,d.height=b*g.y,d.style.width=g.x+"px",d.style.height=g.y+"px",Ae.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){ar.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[h(a)]=a;var d=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var d=a._order,g=d.next,b=d.prev;g?g.prev=b:this._drawLast=b,b?b.next=g:this._drawFirst=g,delete a._order,delete this._layers[h(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var d=a.options.dashArray.split(/[, ]+/),g=[],b,T;for(T=0;T<d.length;T++){if(b=Number(d[T]),isNaN(b))return;g.push(b)}a.options._dashArray=g}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||U(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var d=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new H,this._redrawBounds.extend(a._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(a._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var d=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,d=this._redrawBounds;if(this._ctx.save(),d){var g=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)a=b.layer,(!d||a._pxBounds&&a._pxBounds.intersects(d))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,d){if(this._drawing){var g,b,T,O,$=a._parts,Y=$.length,te=this._ctx;if(Y){for(te.beginPath(),g=0;g<Y;g++){for(b=0,T=$[g].length;b<T;b++)O=$[g][b],te[b?"lineTo":"moveTo"](O.x,O.y);d&&te.closePath()}this._fillStroke(te,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var d=a._point,g=this._ctx,b=Math.max(Math.round(a._radius),1),T=(Math.max(Math.round(a._radiusY),1)||b)/b;T!==1&&(g.save(),g.scale(1,T)),g.beginPath(),g.arc(d.x,d.y/T,b,0,Math.PI*2,!1),T!==1&&g.restore(),this._fillStroke(g,a)}},_fillStroke:function(a,d){var g=d.options;g.fill&&(a.globalAlpha=g.fillOpacity,a.fillStyle=g.fillColor||g.color,a.fill(g.fillRule||"evenodd")),g.stroke&&g.weight!==0&&(a.setLineDash&&a.setLineDash(d.options&&d.options._dashArray||[]),a.globalAlpha=g.opacity,a.lineWidth=g.weight,a.strokeStyle=g.color,a.lineCap=g.lineCap,a.lineJoin=g.lineJoin,a.stroke())},_onClick:function(a){for(var d=this._map.mouseEventToLayerPoint(a),g,b,T=this._drawFirst;T;T=T.next)g=T.layer,g.options.interactive&&g._containsPoint(d)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(g))&&(b=g);this._fireEvent(b?[b]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var d=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,d)}},_handleMouseOut:function(a){var d=this._hoveredLayer;d&&(ht(this._container,"leaflet-interactive"),this._fireEvent([d],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,d){if(!this._mouseHoverThrottled){for(var g,b,T=this._drawFirst;T;T=T.next)g=T.layer,g.options.interactive&&g._containsPoint(d)&&(b=g);b!==this._hoveredLayer&&(this._handleMouseOut(a),b&&(Ke(this._container,"leaflet-interactive"),this._fireEvent([b],a,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,d,g){this._map._fireDOMEvent(d,g||d.type,a)},_bringToFront:function(a){var d=a._order;if(d){var g=d.next,b=d.prev;if(g)g.prev=b;else return;b?b.next=g:g&&(this._drawFirst=g),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(a)}},_bringToBack:function(a){var d=a._order;if(d){var g=d.next,b=d.prev;if(b)b.next=g;else return;g?g.prev=b:b&&(this._drawLast=b),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(a)}}});function hu(a){return Ae.canvas?new du(a):null}var fs=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),pd={_initContainer:function(){this._container=Ye("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ar.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var d=a._container=fs("shape");Ke(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",a._path=fs("path"),d.appendChild(a._path),this._updateStyle(a),this._layers[h(a)]=a},_addPath:function(a){var d=a._container;this._container.appendChild(d),a.options.interactive&&a.addInteractiveTarget(d)},_removePath:function(a){var d=a._container;gt(d),a.removeInteractiveTarget(d),delete this._layers[h(a)]},_updateStyle:function(a){var d=a._stroke,g=a._fill,b=a.options,T=a._container;T.stroked=!!b.stroke,T.filled=!!b.fill,b.stroke?(d||(d=a._stroke=fs("stroke")),T.appendChild(d),d.weight=b.weight+"px",d.color=b.color,d.opacity=b.opacity,b.dashArray?d.dashStyle=I(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):d.dashStyle="",d.endcap=b.lineCap.replace("butt","flat"),d.joinstyle=b.lineJoin):d&&(T.removeChild(d),a._stroke=null),b.fill?(g||(g=a._fill=fs("fill")),T.appendChild(g),g.color=b.fillColor||b.color,g.opacity=b.fillOpacity):g&&(T.removeChild(g),a._fill=null)},_updateCircle:function(a){var d=a._point.round(),g=Math.round(a._radius),b=Math.round(a._radiusY||g);this._setPath(a,a._empty()?"M0 0":"AL "+d.x+","+d.y+" "+g+","+b+" 0,"+65535*360)},_setPath:function(a,d){a._path.v=d},_bringToFront:function(a){Qi(a._container)},_bringToBack:function(a){wr(a._container)}},Un=Ae.vml?fs:mn,Pi=ar.extend({_initContainer:function(){this._container=Un("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Un("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){gt(this._container),ut(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ar.prototype._update.call(this);var a=this._bounds,d=a.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,g.setAttribute("width",d.x),g.setAttribute("height",d.y)),Et(g,a.min),g.setAttribute("viewBox",[a.min.x,a.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(a){var d=a._path=Un("path");a.options.className&&Ke(d,a.options.className),a.options.interactive&&Ke(d,"leaflet-interactive"),this._updateStyle(a),this._layers[h(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){gt(a._path),a.removeInteractiveTarget(a._path),delete this._layers[h(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var d=a._path,g=a.options;d&&(g.stroke?(d.setAttribute("stroke",g.color),d.setAttribute("stroke-opacity",g.opacity),d.setAttribute("stroke-width",g.weight),d.setAttribute("stroke-linecap",g.lineCap),d.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?d.setAttribute("stroke-dasharray",g.dashArray):d.removeAttribute("stroke-dasharray"),g.dashOffset?d.setAttribute("stroke-dashoffset",g.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),g.fill?(d.setAttribute("fill",g.fillColor||g.color),d.setAttribute("fill-opacity",g.fillOpacity),d.setAttribute("fill-rule",g.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(a,d){this._setPath(a,kn(a._parts,d))},_updateCircle:function(a){var d=a._point,g=Math.max(Math.round(a._radius),1),b=Math.max(Math.round(a._radiusY),1)||g,T="a"+g+","+b+" 0 1,0 ",O=a._empty()?"M0 0":"M"+(d.x-g)+","+d.y+T+g*2+",0 "+T+-g*2+",0 ";this._setPath(a,O)},_setPath:function(a,d){a._path.setAttribute("d",d)},_bringToFront:function(a){Qi(a._path)},_bringToBack:function(a){wr(a._path)}});Ae.vml&&Pi.include(pd);function Ta(a){return Ae.svg||Ae.vml?new Pi(a):null}tt.include({getRenderer:function(a){var d=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var d=this._paneRenderers[a];return d===void 0&&(d=this._createRenderer({pane:a}),this._paneRenderers[a]=d),d},_createRenderer:function(a){return this.options.preferCanvas&&hu(a)||Ta(a)}});var md=Pr.extend({initialize:function(a,d){Pr.prototype.initialize.call(this,this._boundsToLatLngs(a),d)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=oe(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function ip(a,d){return new md(a,d)}Pi.create=Un,Pi.pointsToPath=kn,sr.geometryToLayer=ls,sr.coordsToLatLng=ba,sr.coordsToLatLngs=mo,sr.latLngToCoords=Sa,sr.latLngsToCoords=Ca,sr.getFeature=us,sr.asFeature=ka,tt.mergeOptions({boxZoom:!0});var ps=Pn.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){We(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ut(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){gt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),nt(),ca(),this._startPoint=this._map.mouseEventToContainerPoint(a),We(document,{contextmenu:Bn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Ye("div","leaflet-zoom-box",this._container),Ke(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var d=new H(this._point,this._startPoint),g=d.getSize();Et(this._box,d.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(gt(this._box),ht(this._container,"leaflet-crosshair")),ns(),da(),ut(document,{contextmenu:Bn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var d=new ie(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});tt.addInitHook("addHandler","boxZoom",ps),tt.mergeOptions({doubleClickZoom:!0});var gd=Pn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var d=this._map,g=d.getZoom(),b=d.options.zoomDelta,T=a.originalEvent.shiftKey?g-b:g+b;d.options.doubleClickZoom==="center"?d.setZoom(T):d.setZoomAround(a.containerPoint,T)}});tt.addInitHook("addHandler","doubleClickZoom",gd),tt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var fu=Pn.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Fn(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Ke(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ht(this._map._container,"leaflet-grab"),ht(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=oe(this._map.options.maxBounds);this._offsetLimit=se(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var d=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(d),this._prunePositions(d)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,d){return a-(a-d)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;a.x<d.min.x&&(a.x=this._viscousLimit(a.x,d.min.x)),a.y<d.min.y&&(a.y=this._viscousLimit(a.y,d.min.y)),a.x>d.max.x&&(a.x=this._viscousLimit(a.x,d.max.x)),a.y>d.max.y&&(a.y=this._viscousLimit(a.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,d=Math.round(a/2),g=this._initialWorldOffset,b=this._draggable._newPos.x,T=(b-d+g)%a+d-g,O=(b+d+g)%a-d-g,$=Math.abs(T+g)<Math.abs(O+g)?T:O;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=$},_onDragEnd:function(a){var d=this._map,g=d.options,b=!g.inertia||a.noInertia||this._times.length<2;if(d.fire("dragend",a),b)d.fire("moveend");else{this._prunePositions(+new Date);var T=this._lastPos.subtract(this._positions[0]),O=(this._lastTime-this._times[0])/1e3,$=g.easeLinearity,Y=T.multiplyBy($/O),te=Y.distanceTo([0,0]),he=Math.min(g.inertiaMaxSpeed,te),Se=Y.multiplyBy(he/te),ze=he/(g.inertiaDeceleration*$),Xe=Se.multiplyBy(-ze/2).round();!Xe.x&&!Xe.y?d.fire("moveend"):(Xe=d._limitOffset(Xe,d.options.maxBounds),U(function(){d.panBy(Xe,{duration:ze,easeLinearity:$,noMoveStart:!0,animate:!0})}))}}});tt.addInitHook("addHandler","dragging",fu),tt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var pu=Pn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),We(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ut(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,d=document.documentElement,g=a.scrollTop||d.scrollTop,b=a.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(b,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var d=this._panKeys={},g=this.keyCodes,b,T;for(b=0,T=g.left.length;b<T;b++)d[g.left[b]]=[-1*a,0];for(b=0,T=g.right.length;b<T;b++)d[g.right[b]]=[a,0];for(b=0,T=g.down.length;b<T;b++)d[g.down[b]]=[0,a];for(b=0,T=g.up.length;b<T;b++)d[g.up[b]]=[0,-1*a]},_setZoomDelta:function(a){var d=this._zoomKeys={},g=this.keyCodes,b,T;for(b=0,T=g.zoomIn.length;b<T;b++)d[g.zoomIn[b]]=a;for(b=0,T=g.zoomOut.length;b<T;b++)d[g.zoomOut[b]]=-a},_addHooks:function(){We(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ut(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var d=a.keyCode,g=this._map,b;if(d in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(b=this._panKeys[d],a.shiftKey&&(b=re(b).multiplyBy(3)),g.options.maxBounds&&(b=g._limitOffset(re(b),g.options.maxBounds)),g.options.worldCopyJump){var T=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(b)));g.panTo(T)}else g.panBy(b)}else if(d in this._zoomKeys)g.setZoom(g.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[d]);else if(d===27&&g._popup&&g._popup.options.closeOnEscapeKey)g.closePopup();else return;Bn(a)}}});tt.addInitHook("addHandler","keyboard",pu),tt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ct=Pn.extend({addHooks:function(){We(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ut(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var d=Xc(a),g=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var b=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),b),Bn(a)},_performZoom:function(){var a=this._map,d=a.getZoom(),g=this._map.options.zoomSnap||0;a._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),T=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,O=g?Math.ceil(T/g)*g:T,$=a._limitZoom(d+(this._delta>0?O:-O))-d;this._delta=0,this._startTime=null,$&&(a.options.scrollWheelZoom==="center"?a.setZoom(d+$):a.setZoomAround(this._lastMousePos,d+$))}});tt.addInitHook("addHandler","scrollWheelZoom",ct);var mu=600;tt.mergeOptions({tapHold:Ae.touchNative&&Ae.safari&&Ae.mobile,tapTolerance:15});var yo=Pn.extend({addHooks:function(){We(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ut(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var d=a.touches[0];this._startPos=this._newPos=new F(d.clientX,d.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(We(document,"touchend",wt),We(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",d))},this),mu),We(document,"touchend touchcancel contextmenu",this._cancel,this),We(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){ut(document,"touchend",wt),ut(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),ut(document,"touchend touchcancel contextmenu",this._cancel,this),ut(document,"touchmove",this._onMove,this)},_onMove:function(a){var d=a.touches[0];this._newPos=new F(d.clientX,d.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,d){var g=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY});g._simulated=!0,d.target.dispatchEvent(g)}});tt.addInitHook("addHandler","tapHold",yo),tt.mergeOptions({touchZoom:Ae.touch,bounceAtZoomLimits:!0});var ms=Pn.extend({addHooks:function(){Ke(this._map._container,"leaflet-touch-zoom"),We(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ht(this._map._container,"leaflet-touch-zoom"),ut(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var d=this._map;if(!(!a.touches||a.touches.length!==2||d._animatingZoom||this._zooming)){var g=d.mouseEventToContainerPoint(a.touches[0]),b=d.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),d.options.touchZoom!=="center"&&(this._pinchStartLatLng=d.containerPointToLatLng(g.add(b)._divideBy(2))),this._startDist=g.distanceTo(b),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),We(document,"touchmove",this._onTouchMove,this),We(document,"touchend touchcancel",this._onTouchEnd,this),wt(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var d=this._map,g=d.mouseEventToContainerPoint(a.touches[0]),b=d.mouseEventToContainerPoint(a.touches[1]),T=g.distanceTo(b)/this._startDist;if(this._zoom=d.getScaleZoom(T,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&T<1||this._zoom>d.getMaxZoom()&&T>1)&&(this._zoom=d._limitZoom(this._zoom)),d.options.touchZoom==="center"){if(this._center=this._startLatLng,T===1)return}else{var O=g._add(b)._divideBy(2)._subtract(this._centerPoint);if(T===1&&O.x===0&&O.y===0)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract(O),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),G(this._animRequest);var $=u(d._move,d,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=U($,this,!0),wt(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,G(this._animRequest),ut(document,"touchmove",this._onTouchMove,this),ut(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});tt.addInitHook("addHandler","touchZoom",ms),tt.BoxZoom=ps,tt.DoubleClickZoom=gd,tt.Drag=fu,tt.Keyboard=pu,tt.ScrollWheelZoom=ct,tt.TapHold=yo,tt.TouchZoom=ms,n.Bounds=H,n.Browser=Ae,n.CRS=J,n.Canvas=du,n.Circle=xa,n.CircleMarker=_a,n.Class=le,n.Control=vn,n.DivIcon=Ea,n.DivOverlay=or,n.DomEvent=pa,n.DomUtil=lo,n.Draggable=Fn,n.Evented=_e,n.FeatureGroup=Cr,n.GeoJSON=sr,n.GridLayer=Xr,n.Handler=Pn,n.Icon=ki,n.ImageOverlay=Yr,n.LatLng=ue,n.LatLngBounds=ie,n.Layer=Vn,n.LayerGroup=qr,n.LineUtil=id,n.Map=tt,n.Marker=kr,n.Mixin=Jl,n.Path=Kr,n.Point=F,n.PolyUtil=Zf,n.Polygon=Pr,n.Polyline=yn,n.Popup=Pa,n.PosAnimation=ma,n.Projection=Jf,n.Rectangle=md,n.Renderer=ar,n.SVG=Pi,n.SVGOverlay=lu,n.TileLayer=Jr,n.Tooltip=ds,n.Transformation=Oe,n.Util=ge,n.VideoOverlay=au,n.bind=u,n.bounds=se,n.canvas=hu,n.circle=po,n.circleMarker=ld,n.control=Zr,n.divIcon=hd,n.extend=s,n.featureGroup=od,n.geoJSON=ud,n.geoJson=$n,n.gridLayer=hs,n.icon=ad,n.imageOverlay=cd,n.latLng=ae,n.latLngBounds=oe,n.layerGroup=fo,n.map=Gr,n.marker=tp,n.point=re,n.polygon=rp,n.polyline=np,n.popup=cs,n.rectangle=ip,n.setOptions=k,n.stamp=h,n.svg=Ta,n.svgOverlay=uu,n.tileLayer=cu,n.tooltip=go,n.transformation=Be,n.version=r,n.videoOverlay=dd;var vd=window.L;n.noConflict=function(){return window.L=vd,this},window.L=n}))})(Vu,Vu.exports)),Vu.exports}var Ks=k1();const Mw=_c(Ks);function P1(e){return e.split(" ").filter(Boolean)}function E1(e,t){P1(t).forEach(n=>{Ks.DomUtil.addClass(e,n)})}function T1(e,t){P1(t).forEach(n=>{Ks.DomUtil.removeClass(e,n)})}function wD(e,t,n){e!=null&&n!==t&&(t!=null&&t.length>0&&T1(e,t),n!=null&&n.length>0&&E1(e,n))}function Ac(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Al(e,t){return t==null?function(r,s){const o=C.useRef();return o.current||(o.current=e(r,s)),o}:function(r,s){const o=C.useRef();o.current||(o.current=e(r,s));const u=C.useRef(r),{instance:c}=o.current;return C.useEffect(function(){u.current!==r&&(t(c,r,u.current),u.current=r)},[c,r,s]),o}}function gy(e,t){C.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function vy(e){return function(n){const r=Nl(),s=e(Nc(n,r),r);return dy(r.map,n.attribution),Sf(s.current,n.eventHandlers),gy(s.current,r),s}}function R1(e,t){const n=C.useRef();C.useEffect(function(){if(t.pathOptions!==n.current){const s=t.pathOptions??{};e.instance.setStyle(s),n.current=s}},[e,t])}function L1(e){return function(n){const r=Nl(),s=e(Nc(n,r),r);return Sf(s.current,n.eventHandlers),gy(s.current,r),R1(s.current,n),s}}function bD(e){function t(s,o){return Ac(e(s),o)}const n=Al(t),r=S1(n);return my(r)}function SD(e,t){const n=Al(e,t),r=vy(n);return py(r)}function N1(e,t){const n=Al(e),r=C1(n,t);return b1(r)}function A1(e,t){const n=Al(e,t),r=L1(n);return py(r)}function j1(e,t){const n=Al(e,t),r=vy(n);return my(r)}function I1(e,t,n){const{opacity:r,zIndex:s}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),s!=null&&s!==n.zIndex&&e.setZIndex(s)}function CD(e,t,n){t.bounds instanceof Ks.LatLngBounds&&t.bounds!==n.bounds&&e.setBounds(t.bounds),t.opacity!=null&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),t.zIndex!=null&&t.zIndex!==n.zIndex&&e.setZIndex(t.zIndex)}const kD=Object.freeze(Object.defineProperty({__proto__:null,CONTEXT_VERSION:_1,LeafletContext:hy,LeafletProvider:fy,addClassName:E1,createContainerComponent:py,createControlComponent:bD,createControlHook:S1,createDivOverlayComponent:b1,createDivOverlayHook:C1,createElementHook:Al,createElementObject:Ac,createLayerComponent:SD,createLayerHook:vy,createLeafComponent:my,createLeafletContext:x1,createOverlayComponent:N1,createPathComponent:A1,createPathHook:L1,createTileLayerComponent:j1,extendContext:w1,removeClassName:T1,updateCircle:y1,updateClassName:wD,updateGridLayer:I1,updateMediaOverlay:CD,useAttribution:dy,useEventHandlers:Sf,useLayerLifecycle:gy,useLeafletContext:Nl,usePathOptions:R1,withPane:Nc},Symbol.toStringTag,{value:"Module"}));function O1(){return Nl().map}function PD(e){const t=O1();return C.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}const Dw=A1(function({center:t,children:n,...r},s){const o=new Ks.CircleMarker(t,r);return Ac(o,w1(s,{overlayContainer:o}))},y1);function nv(){return nv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nv.apply(this,arguments)}function ED({bounds:e,boundsOptions:t,center:n,children:r,className:s,id:o,placeholder:u,style:c,whenReady:h,zoom:p,...y},_){const[x]=C.useState({className:s,id:o,style:c}),[w,E]=C.useState(null);C.useImperativeHandle(_,()=>w?.map??null,[w]);const k=C.useCallback(N=>{if(N!==null&&w===null){const A=new Ks.Map(N,y);n!=null&&p!=null?A.setView(n,p):e!=null&&A.fitBounds(e,t),h!=null&&A.whenReady(h),E(x1(A))}},[]);C.useEffect(()=>()=>{w?.map.remove()},[w]);const R=w?In.createElement(fy,{value:w},r):u??null;return In.createElement("div",nv({},x,{ref:k}),R)}const TD=C.forwardRef(ED),RD=N1(function(t,n){const r=new Ks.Popup(t,n.overlayContainer);return Ac(r,n)},function(t,n,{position:r},s){C.useEffect(function(){const{instance:u}=t;function c(p){p.popup===u&&(u.update(),s(!0))}function h(p){p.popup===u&&s(!1)}return n.map.on({popupopen:c,popupclose:h}),n.overlayContainer==null?(r!=null&&u.setLatLng(r),u.openOn(n.map)):n.overlayContainer.bindPopup(u),function(){n.map.off({popupopen:c,popupclose:h}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(u)}},[t,n,s,r])}),LD=j1(function({url:t,...n},r){const s=new Ks.TileLayer(t,Nc(n,r));return Ac(s,r)},function(t,n,r){I1(t,n,r);const{url:s}=n;s!=null&&s!==r.url&&t.setUrl(s)});var ri={};const ND=df(kD);var $u={exports:{}},AD=$u.exports,zw;function jD(){return zw||(zw=1,(function(e,t){(function(n,r){r(t)})(AD,function(n){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(o){L.Util.setOptions(this,o),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var u=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,u?this._withAnimation:this._noAnimation),this._markerCluster=u?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(o){if(o instanceof L.LayerGroup)return this.addLayers([o]);if(!o.getLatLng)return this._nonPointGroup.addLayer(o),this.fire("layeradd",{layer:o}),this;if(!this._map)return this._needsClustering.push(o),this.fire("layeradd",{layer:o}),this;if(this.hasLayer(o))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(o,this._maxZoom),this.fire("layeradd",{layer:o}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var u=o,c=this._zoom;if(o.__parent)for(;u.__parent._zoom>=c;)u=u.__parent;return this._currentShownBounds.contains(u.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(o,u):this._animationAddLayerNonAnimated(o,u)),this},removeLayer:function(o){return o instanceof L.LayerGroup?this.removeLayers([o]):o.getLatLng?this._map?o.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(o)),this._removeLayer(o,!0),this.fire("layerremove",{layer:o}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),o.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(o)&&(this._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,o)&&this.hasLayer(o)&&this._needsRemoving.push({layer:o,latlng:o._latlng}),this.fire("layerremove",{layer:o}),this):(this._nonPointGroup.removeLayer(o),this.fire("layerremove",{layer:o}),this)},addLayers:function(o,u){if(!L.Util.isArray(o))return this.addLayer(o);var c=this._featureGroup,h=this._nonPointGroup,p=this.options.chunkedLoading,y=this.options.chunkInterval,_=this.options.chunkProgress,x=o.length,w=0,E=!0,k;if(this._map){var R=new Date().getTime(),N=L.bind(function(){var I=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();w<x;w++){if(p&&w%200===0){var D=new Date().getTime()-I;if(D>y)break}if(k=o[w],k instanceof L.LayerGroup){E&&(o=o.slice(),E=!1),this._extractNonGroupLayers(k,o),x=o.length;continue}if(!k.getLatLng){h.addLayer(k),u||this.fire("layeradd",{layer:k});continue}if(!this.hasLayer(k)&&(this._addLayer(k,this._maxZoom),u||this.fire("layeradd",{layer:k}),k.__parent&&k.__parent.getChildCount()===2)){var V=k.__parent.getAllChildMarkers(),Z=V[0]===k?V[1]:V[0];c.removeLayer(Z)}}_&&_(w,x,new Date().getTime()-R),w===x?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(N,this.options.chunkDelay)},this);N()}else for(var A=this._needsClustering;w<x;w++){if(k=o[w],k instanceof L.LayerGroup){E&&(o=o.slice(),E=!1),this._extractNonGroupLayers(k,o),x=o.length;continue}if(!k.getLatLng){h.addLayer(k);continue}this.hasLayer(k)||A.push(k)}return this},removeLayers:function(o){var u,c,h=o.length,p=this._featureGroup,y=this._nonPointGroup,_=!0;if(!this._map){for(u=0;u<h;u++){if(c=o[u],c instanceof L.LayerGroup){_&&(o=o.slice(),_=!1),this._extractNonGroupLayers(c,o),h=o.length;continue}this._arraySplice(this._needsClustering,c),y.removeLayer(c),this.hasLayer(c)&&this._needsRemoving.push({layer:c,latlng:c._latlng}),this.fire("layerremove",{layer:c})}return this}if(this._unspiderfy){this._unspiderfy();var x=o.slice(),w=h;for(u=0;u<w;u++){if(c=x[u],c instanceof L.LayerGroup){this._extractNonGroupLayers(c,x),w=x.length;continue}this._unspiderfyLayer(c)}}for(u=0;u<h;u++){if(c=o[u],c instanceof L.LayerGroup){_&&(o=o.slice(),_=!1),this._extractNonGroupLayers(c,o),h=o.length;continue}if(!c.__parent){y.removeLayer(c),this.fire("layerremove",{layer:c});continue}this._removeLayer(c,!0,!0),this.fire("layerremove",{layer:c}),p.hasLayer(c)&&(p.removeLayer(c),c.clusterShow&&c.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(o){o.off(this._childMarkerEventHandlers,this),delete o.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var o=new L.LatLngBounds;this._topClusterLevel&&o.extend(this._topClusterLevel._bounds);for(var u=this._needsClustering.length-1;u>=0;u--)o.extend(this._needsClustering[u].getLatLng());return o.extend(this._nonPointGroup.getBounds()),o},eachLayer:function(o,u){var c=this._needsClustering.slice(),h=this._needsRemoving,p,y,_;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(c),y=c.length-1;y>=0;y--){for(p=!0,_=h.length-1;_>=0;_--)if(h[_].layer===c[y]){p=!1;break}p&&o.call(u,c[y])}this._nonPointGroup.eachLayer(o,u)},getLayers:function(){var o=[];return this.eachLayer(function(u){o.push(u)}),o},getLayer:function(o){var u=null;return o=parseInt(o,10),this.eachLayer(function(c){L.stamp(c)===o&&(u=c)}),u},hasLayer:function(o){if(!o)return!1;var u,c=this._needsClustering;for(u=c.length-1;u>=0;u--)if(c[u]===o)return!0;for(c=this._needsRemoving,u=c.length-1;u>=0;u--)if(c[u].layer===o)return!1;return!!(o.__parent&&o.__parent._group===this)||this._nonPointGroup.hasLayer(o)},zoomToShowLayer:function(o,u){var c=this._map;typeof u!="function"&&(u=function(){});var h=function(){(c.hasLayer(o)||c.hasLayer(o.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",h,this),this.off("animationend",h,this),c.hasLayer(o)?u():o.__parent._icon&&(this.once("spiderfied",u,this),o.__parent.spiderfy()))};o._icon&&this._map.getBounds().contains(o.getLatLng())?u():o.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",h,this),this._map.panTo(o.getLatLng())):(this._map.on("moveend",h,this),this.on("animationend",h,this),o.__parent.zoomToBounds())},onAdd:function(o){this._map=o;var u,c,h;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(o),this._nonPointGroup.addTo(o),this._gridClusters||this._generateInitialClusters(),this._maxLat=o.options.crs.projection.MAX_LATITUDE,u=0,c=this._needsRemoving.length;u<c;u++)h=this._needsRemoving[u],h.newlatlng=h.layer._latlng,h.layer._latlng=h.latlng;for(u=0,c=this._needsRemoving.length;u<c;u++)h=this._needsRemoving[u],this._removeLayer(h.layer,!0),h.layer._latlng=h.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),c=this._needsClustering,this._needsClustering=[],this.addLayers(c,!0)},onRemove:function(o){o.off("zoomend",this._zoomEnd,this),o.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(o){for(var u=o;u&&!u._icon;)u=u.__parent;return u||null},_arraySplice:function(o,u){for(var c=o.length-1;c>=0;c--)if(o[c]===u)return o.splice(c,1),!0},_removeFromGridUnclustered:function(o,u){for(var c=this._map,h=this._gridUnclustered,p=Math.floor(this._map.getMinZoom());u>=p&&h[u].removeObject(o,c.project(o.getLatLng(),u));u--);},_childMarkerDragStart:function(o){o.target.__dragStart=o.target._latlng},_childMarkerMoved:function(o){if(!this._ignoreMove&&!o.target.__dragStart){var u=o.target._popup&&o.target._popup.isOpen();this._moveChild(o.target,o.oldLatLng,o.latlng),u&&o.target.openPopup()}},_moveChild:function(o,u,c){o._latlng=u,this.removeLayer(o),o._latlng=c,this.addLayer(o)},_childMarkerDragEnd:function(o){var u=o.target.__dragStart;delete o.target.__dragStart,u&&this._moveChild(o.target,u,o.target._latlng)},_removeLayer:function(o,u,c){var h=this._gridClusters,p=this._gridUnclustered,y=this._featureGroup,_=this._map,x=Math.floor(this._map.getMinZoom());u&&this._removeFromGridUnclustered(o,this._maxZoom);var w=o.__parent,E=w._markers,k;for(this._arraySplice(E,o);w&&(w._childCount--,w._boundsNeedUpdate=!0,!(w._zoom<x));)u&&w._childCount<=1?(k=w._markers[0]===o?w._markers[1]:w._markers[0],h[w._zoom].removeObject(w,_.project(w._cLatLng,w._zoom)),p[w._zoom].addObject(k,_.project(k.getLatLng(),w._zoom)),this._arraySplice(w.__parent._childClusters,w),w.__parent._markers.push(k),k.__parent=w.__parent,w._icon&&(y.removeLayer(w),c||y.addLayer(k))):w._iconNeedsUpdate=!0,w=w.__parent;delete o.__parent},_isOrIsParent:function(o,u){for(;u;){if(o===u)return!0;u=u.parentNode}return!1},fire:function(o,u,c){if(u&&u.layer instanceof L.MarkerCluster){if(u.originalEvent&&this._isOrIsParent(u.layer._icon,u.originalEvent.relatedTarget))return;o="cluster"+o}L.FeatureGroup.prototype.fire.call(this,o,u,c)},listens:function(o,u){return L.FeatureGroup.prototype.listens.call(this,o,u)||L.FeatureGroup.prototype.listens.call(this,"cluster"+o,u)},_defaultIconCreateFunction:function(o){var u=o.getChildCount(),c=" marker-cluster-";return u<10?c+="small":u<100?c+="medium":c+="large",new L.DivIcon({html:"<div><span>"+u+"</span></div>",className:"marker-cluster"+c,iconSize:new L.Point(40,40)})},_bindEvents:function(){var o=this._map,u=this.options.spiderfyOnMaxZoom,c=this.options.showCoverageOnHover,h=this.options.zoomToBoundsOnClick,p=this.options.spiderfyOnEveryZoom;(u||h||p)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),c&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),o.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(o){var u=o.layer,c=u;if(!(o.type==="clusterkeypress"&&o.originalEvent&&o.originalEvent.keyCode!==13)){for(;c._childClusters.length===1;)c=c._childClusters[0];c._zoom===this._maxZoom&&c._childCount===u._childCount&&this.options.spiderfyOnMaxZoom?u.spiderfy():this.options.zoomToBoundsOnClick&&u.zoomToBounds(),this.options.spiderfyOnEveryZoom&&u.spiderfy(),o.originalEvent&&o.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(o){var u=this._map;this._inZoomAnimation||(this._shownPolygon&&u.removeLayer(this._shownPolygon),o.layer.getChildCount()>2&&o.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(o.layer.getConvexHull(),this.options.polygonOptions),u.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var o=this.options.spiderfyOnMaxZoom,u=this.options.showCoverageOnHover,c=this.options.zoomToBoundsOnClick,h=this.options.spiderfyOnEveryZoom,p=this._map;(o||c||h)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),u&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),p.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var o=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,o),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),o),this._currentShownBounds=o}},_generateInitialClusters:function(){var o=Math.ceil(this._map.getMaxZoom()),u=Math.floor(this._map.getMinZoom()),c=this.options.maxClusterRadius,h=c;typeof c!="function"&&(h=function(){return c}),this.options.disableClusteringAtZoom!==null&&(o=this.options.disableClusteringAtZoom-1),this._maxZoom=o,this._gridClusters={},this._gridUnclustered={};for(var p=o;p>=u;p--)this._gridClusters[p]=new L.DistanceGrid(h(p)),this._gridUnclustered[p]=new L.DistanceGrid(h(p));this._topClusterLevel=new this._markerCluster(this,u-1)},_addLayer:function(o,u){var c=this._gridClusters,h=this._gridUnclustered,p=Math.floor(this._map.getMinZoom()),y,_;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(o),o.on(this._childMarkerEventHandlers,this);u>=p;u--){y=this._map.project(o.getLatLng(),u);var x=c[u].getNearObject(y);if(x){x._addChild(o),o.__parent=x;return}if(x=h[u].getNearObject(y),x){var w=x.__parent;w&&this._removeLayer(x,!1);var E=new this._markerCluster(this,u,x,o);c[u].addObject(E,this._map.project(E._cLatLng,u)),x.__parent=E,o.__parent=E;var k=E;for(_=u-1;_>w._zoom;_--)k=new this._markerCluster(this,_,k),c[_].addObject(k,this._map.project(x.getLatLng(),_));w._addChild(k),this._removeFromGridUnclustered(x,u);return}h[u].addObject(o,y)}this._topClusterLevel._addChild(o),o.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(o){o instanceof L.MarkerCluster&&o._iconNeedsUpdate&&o._updateIcon()})},_enqueue:function(o){this._queue.push(o),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var o=0;o<this._queue.length;o++)this._queue[o].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var o=Math.round(this._map._zoom);this._processQueue(),this._zoom<o&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,o)):this._zoom>o?(this._animationStart(),this._animationZoomOut(this._zoom,o)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(o){var u=this._maxLat;return u!==void 0&&(o.getNorth()>=u&&(o._northEast.lat=1/0),o.getSouth()<=-u&&(o._southWest.lat=-1/0)),o},_animationAddLayerNonAnimated:function(o,u){if(u===o)this._featureGroup.addLayer(o);else if(u._childCount===2){u._addToMap();var c=u.getAllChildMarkers();this._featureGroup.removeLayer(c[0]),this._featureGroup.removeLayer(c[1])}else u._updateIcon()},_extractNonGroupLayers:function(o,u){var c=o.getLayers(),h=0,p;for(u=u||[];h<c.length;h++){if(p=c[h],p instanceof L.LayerGroup){this._extractNonGroupLayers(p,u);continue}u.push(p)}return u},_overrideMarkerIcon:function(o){var u=o.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[o]}});return u}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(o,u){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(o,u){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(o,u){this._animationAddLayerNonAnimated(o,u)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(o,u){var c=this._getExpandedVisibleBounds(),h=this._featureGroup,p=Math.floor(this._map.getMinZoom()),y;this._ignoreMove=!0,this._topClusterLevel._recursively(c,o,p,function(_){var x=_._latlng,w=_._markers,E;for(c.contains(x)||(x=null),_._isSingleParent()&&o+1===u?(h.removeLayer(_),_._recursivelyAddChildrenToMap(null,u,c)):(_.clusterHide(),_._recursivelyAddChildrenToMap(x,u,c)),y=w.length-1;y>=0;y--)E=w[y],c.contains(E._latlng)||h.removeLayer(E)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(c,u),h.eachLayer(function(_){!(_ instanceof L.MarkerCluster)&&_._icon&&_.clusterShow()}),this._topClusterLevel._recursively(c,o,u,function(_){_._recursivelyRestoreChildPositions(u)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(c,o,p,function(_){h.removeLayer(_),_.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(o,u){this._animationZoomOutSingle(this._topClusterLevel,o-1,u),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o,this._getExpandedVisibleBounds())},_animationAddLayer:function(o,u){var c=this,h=this._featureGroup;h.addLayer(o),u!==o&&(u._childCount>2?(u._updateIcon(),this._forceLayout(),this._animationStart(),o._setPos(this._map.latLngToLayerPoint(u.getLatLng())),o.clusterHide(),this._enqueue(function(){h.removeLayer(o),o.clusterShow(),c._animationEnd()})):(this._forceLayout(),c._animationStart(),c._animationZoomOutSingle(u,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(o,u,c){var h=this._getExpandedVisibleBounds(),p=Math.floor(this._map.getMinZoom());o._recursivelyAnimateChildrenInAndAddSelfToMap(h,p,u+1,c);var y=this;this._forceLayout(),o._recursivelyBecomeVisible(h,c),this._enqueue(function(){if(o._childCount===1){var _=o._markers[0];this._ignoreMove=!0,_.setLatLng(_.getLatLng()),this._ignoreMove=!1,_.clusterShow&&_.clusterShow()}else o._recursively(h,c,p,function(x){x._recursivelyRemoveChildrenFromMap(h,p,u+1)});y._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(o){return new L.MarkerClusterGroup(o)};var s=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(o,u,c,h){L.Marker.prototype.initialize.call(this,c?c._cLatLng||c.getLatLng():new L.LatLng(0,0),{icon:this,pane:o.options.clusterPane}),this._group=o,this._zoom=u,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,c&&this._addChild(c),h&&this._addChild(h)},getAllChildMarkers:function(o,u){o=o||[];for(var c=this._childClusters.length-1;c>=0;c--)this._childClusters[c].getAllChildMarkers(o,u);for(var h=this._markers.length-1;h>=0;h--)u&&this._markers[h].__dragStart||o.push(this._markers[h]);return o},getChildCount:function(){return this._childCount},zoomToBounds:function(o){for(var u=this._childClusters.slice(),c=this._group._map,h=c.getBoundsZoom(this._bounds),p=this._zoom+1,y=c.getZoom(),_;u.length>0&&h>p;){p++;var x=[];for(_=0;_<u.length;_++)x=x.concat(u[_]._childClusters);u=x}h>p?this._group._map.setView(this._latlng,p):h<=y?this._group._map.setView(this._latlng,y+1):this._group._map.fitBounds(this._bounds,o)},getBounds:function(){var o=new L.LatLngBounds;return o.extend(this._bounds),o},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(o,u){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(o),o instanceof L.MarkerCluster?(u||(this._childClusters.push(o),o.__parent=this),this._childCount+=o._childCount):(u||this._markers.push(o),this._childCount++),this.__parent&&this.__parent._addChild(o,!0)},_setClusterCenter:function(o){this._cLatLng||(this._cLatLng=o._cLatLng||o._latlng)},_resetBounds:function(){var o=this._bounds;o._southWest&&(o._southWest.lat=1/0,o._southWest.lng=1/0),o._northEast&&(o._northEast.lat=-1/0,o._northEast.lng=-1/0)},_recalculateBounds:function(){var o=this._markers,u=this._childClusters,c=0,h=0,p=this._childCount,y,_,x,w;if(p!==0){for(this._resetBounds(),y=0;y<o.length;y++)x=o[y]._latlng,this._bounds.extend(x),c+=x.lat,h+=x.lng;for(y=0;y<u.length;y++)_=u[y],_._boundsNeedUpdate&&_._recalculateBounds(),this._bounds.extend(_._bounds),x=_._wLatLng,w=_._childCount,c+=x.lat*w,h+=x.lng*w;this._latlng=this._wLatLng=new L.LatLng(c/p,h/p),this._boundsNeedUpdate=!1}},_addToMap:function(o){o&&(this._backupLatlng=this._latlng,this.setLatLng(o)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(o,u,c){this._recursively(o,this._group._map.getMinZoom(),c-1,function(h){var p=h._markers,y,_;for(y=p.length-1;y>=0;y--)_=p[y],_._icon&&(_._setPos(u),_.clusterHide())},function(h){var p=h._childClusters,y,_;for(y=p.length-1;y>=0;y--)_=p[y],_._icon&&(_._setPos(u),_.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(o,u,c,h){this._recursively(o,h,u,function(p){p._recursivelyAnimateChildrenIn(o,p._group._map.latLngToLayerPoint(p.getLatLng()).round(),c),p._isSingleParent()&&c-1===h?(p.clusterShow(),p._recursivelyRemoveChildrenFromMap(o,u,c)):p.clusterHide(),p._addToMap()})},_recursivelyBecomeVisible:function(o,u){this._recursively(o,this._group._map.getMinZoom(),u,null,function(c){c.clusterShow()})},_recursivelyAddChildrenToMap:function(o,u,c){this._recursively(c,this._group._map.getMinZoom()-1,u,function(h){if(u!==h._zoom)for(var p=h._markers.length-1;p>=0;p--){var y=h._markers[p];c.contains(y._latlng)&&(o&&(y._backupLatlng=y.getLatLng(),y.setLatLng(o),y.clusterHide&&y.clusterHide()),h._group._featureGroup.addLayer(y))}},function(h){h._addToMap(o)})},_recursivelyRestoreChildPositions:function(o){for(var u=this._markers.length-1;u>=0;u--){var c=this._markers[u];c._backupLatlng&&(c.setLatLng(c._backupLatlng),delete c._backupLatlng)}if(o-1===this._zoom)for(var h=this._childClusters.length-1;h>=0;h--)this._childClusters[h]._restorePosition();else for(var p=this._childClusters.length-1;p>=0;p--)this._childClusters[p]._recursivelyRestoreChildPositions(o)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(o,u,c,h){var p,y;this._recursively(o,u-1,c-1,function(_){for(y=_._markers.length-1;y>=0;y--)p=_._markers[y],(!h||!h.contains(p._latlng))&&(_._group._featureGroup.removeLayer(p),p.clusterShow&&p.clusterShow())},function(_){for(y=_._childClusters.length-1;y>=0;y--)p=_._childClusters[y],(!h||!h.contains(p._latlng))&&(_._group._featureGroup.removeLayer(p),p.clusterShow&&p.clusterShow())})},_recursively:function(o,u,c,h,p){var y=this._childClusters,_=this._zoom,x,w;if(u<=_&&(h&&h(this),p&&_===c&&p(this)),_<u||_<c)for(x=y.length-1;x>=0;x--)w=y[x],w._boundsNeedUpdate&&w._recalculateBounds(),o.intersects(w._bounds)&&w._recursively(o,u,c,h,p)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var o=this.options.opacity;return this.setOpacity(0),this.options.opacity=o,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(o){this._cellSize=o,this._sqCellSize=o*o,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(o,u){var c=this._getCoord(u.x),h=this._getCoord(u.y),p=this._grid,y=p[h]=p[h]||{},_=y[c]=y[c]||[],x=L.Util.stamp(o);this._objectPoint[x]=u,_.push(o)},updateObject:function(o,u){this.removeObject(o),this.addObject(o,u)},removeObject:function(o,u){var c=this._getCoord(u.x),h=this._getCoord(u.y),p=this._grid,y=p[h]=p[h]||{},_=y[c]=y[c]||[],x,w;for(delete this._objectPoint[L.Util.stamp(o)],x=0,w=_.length;x<w;x++)if(_[x]===o)return _.splice(x,1),w===1&&delete y[c],!0},eachObject:function(o,u){var c,h,p,y,_,x,w,E=this._grid;for(c in E){_=E[c];for(h in _)for(x=_[h],p=0,y=x.length;p<y;p++)w=o.call(u,x[p]),w&&(p--,y--)}},getNearObject:function(o){var u=this._getCoord(o.x),c=this._getCoord(o.y),h,p,y,_,x,w,E,k,R=this._objectPoint,N=this._sqCellSize,A=null;for(h=c-1;h<=c+1;h++)if(_=this._grid[h],_){for(p=u-1;p<=u+1;p++)if(x=_[p],x)for(y=0,w=x.length;y<w;y++)E=x[y],k=this._sqDist(R[L.Util.stamp(E)],o),(k<N||k<=N&&A===null)&&(N=k,A=E)}return A},_getCoord:function(o){var u=Math.floor(o/this._cellSize);return isFinite(u)?u:o},_sqDist:function(o,u){var c=u.x-o.x,h=u.y-o.y;return c*c+h*h}},(function(){L.QuickHull={getDistant:function(o,u){var c=u[1].lat-u[0].lat,h=u[0].lng-u[1].lng;return h*(o.lat-u[0].lat)+c*(o.lng-u[0].lng)},findMostDistantPointFromBaseLine:function(o,u){var c=0,h=null,p=[],y,_,x;for(y=u.length-1;y>=0;y--){if(_=u[y],x=this.getDistant(_,o),x>0)p.push(_);else continue;x>c&&(c=x,h=_)}return{maxPoint:h,newPoints:p}},buildConvexHull:function(o,u){var c=[],h=this.findMostDistantPointFromBaseLine(o,u);return h.maxPoint?(c=c.concat(this.buildConvexHull([o[0],h.maxPoint],h.newPoints)),c=c.concat(this.buildConvexHull([h.maxPoint,o[1]],h.newPoints)),c):[o[0]]},getConvexHull:function(o){var u=!1,c=!1,h=!1,p=!1,y=null,_=null,x=null,w=null,E=null,k=null,R;for(R=o.length-1;R>=0;R--){var N=o[R];(u===!1||N.lat>u)&&(y=N,u=N.lat),(c===!1||N.lat<c)&&(_=N,c=N.lat),(h===!1||N.lng>h)&&(x=N,h=N.lng),(p===!1||N.lng<p)&&(w=N,p=N.lng)}c!==u?(k=_,E=y):(k=w,E=x);var A=[].concat(this.buildConvexHull([k,E],o),this.buildConvexHull([E,k],o));return A}}})(),L.MarkerCluster.include({getConvexHull:function(){var o=this.getAllChildMarkers(),u=[],c,h;for(h=o.length-1;h>=0;h--)c=o[h].getLatLng(),u.push(c);return L.QuickHull.getConvexHull(u)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var o=this.getAllChildMarkers(null,!0),u=this._group,c=u._map,h=c.latLngToLayerPoint(this._latlng),p;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?p=this._group.options.spiderfyShapePositions(o.length,h):o.length>=this._circleSpiralSwitchover?p=this._generatePointsSpiral(o.length,h):(h.y+=10,p=this._generatePointsCircle(o.length,h)),this._animationSpiderfy(o,p)}},unspiderfy:function(o){this._group._inZoomAnimation||(this._animationUnspiderfy(o),this._group._spiderfied=null)},_generatePointsCircle:function(o,u){var c=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+o),h=c/this._2PI,p=this._2PI/o,y=[],_,x;for(h=Math.max(h,35),y.length=o,_=0;_<o;_++)x=this._circleStartAngle+_*p,y[_]=new L.Point(u.x+h*Math.cos(x),u.y+h*Math.sin(x))._round();return y},_generatePointsSpiral:function(o,u){var c=this._group.options.spiderfyDistanceMultiplier,h=c*this._spiralLengthStart,p=c*this._spiralFootSeparation,y=c*this._spiralLengthFactor*this._2PI,_=0,x=[],w;for(x.length=o,w=o;w>=0;w--)w<o&&(x[w]=new L.Point(u.x+h*Math.cos(_),u.y+h*Math.sin(_))._round()),_+=p/h+w*5e-4,h+=y/_;return x},_noanimationUnspiderfy:function(){var o=this._group,u=o._map,c=o._featureGroup,h=this.getAllChildMarkers(null,!0),p,y;for(o._ignoreMove=!0,this.setOpacity(1),y=h.length-1;y>=0;y--)p=h[y],c.removeLayer(p),p._preSpiderfyLatlng&&(p.setLatLng(p._preSpiderfyLatlng),delete p._preSpiderfyLatlng),p.setZIndexOffset&&p.setZIndexOffset(0),p._spiderLeg&&(u.removeLayer(p._spiderLeg),delete p._spiderLeg);o.fire("unspiderfied",{cluster:this,markers:h}),o._ignoreMove=!1,o._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(o,u){var c=this._group,h=c._map,p=c._featureGroup,y=this._group.options.spiderLegPolylineOptions,_,x,w,E;for(c._ignoreMove=!0,_=0;_<o.length;_++)E=h.layerPointToLatLng(u[_]),x=o[_],w=new L.Polyline([this._latlng,E],y),h.addLayer(w),x._spiderLeg=w,x._preSpiderfyLatlng=x._latlng,x.setLatLng(E),x.setZIndexOffset&&x.setZIndexOffset(1e6),p.addLayer(x);this.setOpacity(.3),c._ignoreMove=!1,c.fire("spiderfied",{cluster:this,markers:o})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(o,u){var c=this,h=this._group,p=h._map,y=h._featureGroup,_=this._latlng,x=p.latLngToLayerPoint(_),w=L.Path.SVG,E=L.extend({},this._group.options.spiderLegPolylineOptions),k=E.opacity,R,N,A,I,D,V;for(k===void 0&&(k=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),w?(E.opacity=0,E.className=(E.className||"")+" leaflet-cluster-spider-leg"):E.opacity=k,h._ignoreMove=!0,R=0;R<o.length;R++)N=o[R],V=p.layerPointToLatLng(u[R]),A=new L.Polyline([_,V],E),p.addLayer(A),N._spiderLeg=A,w&&(I=A._path,D=I.getTotalLength()+.1,I.style.strokeDasharray=D,I.style.strokeDashoffset=D),N.setZIndexOffset&&N.setZIndexOffset(1e6),N.clusterHide&&N.clusterHide(),y.addLayer(N),N._setPos&&N._setPos(x);for(h._forceLayout(),h._animationStart(),R=o.length-1;R>=0;R--)V=p.layerPointToLatLng(u[R]),N=o[R],N._preSpiderfyLatlng=N._latlng,N.setLatLng(V),N.clusterShow&&N.clusterShow(),w&&(A=N._spiderLeg,I=A._path,I.style.strokeDashoffset=0,A.setStyle({opacity:k}));this.setOpacity(.3),h._ignoreMove=!1,setTimeout(function(){h._animationEnd(),h.fire("spiderfied",{cluster:c,markers:o})},200)},_animationUnspiderfy:function(o){var u=this,c=this._group,h=c._map,p=c._featureGroup,y=o?h._latLngToNewLayerPoint(this._latlng,o.zoom,o.center):h.latLngToLayerPoint(this._latlng),_=this.getAllChildMarkers(null,!0),x=L.Path.SVG,w,E,k,R,N,A;for(c._ignoreMove=!0,c._animationStart(),this.setOpacity(1),E=_.length-1;E>=0;E--)w=_[E],w._preSpiderfyLatlng&&(w.closePopup(),w.setLatLng(w._preSpiderfyLatlng),delete w._preSpiderfyLatlng,A=!0,w._setPos&&(w._setPos(y),A=!1),w.clusterHide&&(w.clusterHide(),A=!1),A&&p.removeLayer(w),x&&(k=w._spiderLeg,R=k._path,N=R.getTotalLength()+.1,R.style.strokeDashoffset=N,k.setStyle({opacity:0})));c._ignoreMove=!1,setTimeout(function(){var I=0;for(E=_.length-1;E>=0;E--)w=_[E],w._spiderLeg&&I++;for(E=_.length-1;E>=0;E--)w=_[E],w._spiderLeg&&(w.clusterShow&&w.clusterShow(),w.setZIndexOffset&&w.setZIndexOffset(0),I>1&&p.removeLayer(w),h.removeLayer(w._spiderLeg),delete w._spiderLeg);c._animationEnd(),c.fire("unspiderfied",{cluster:u,markers:_})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(o){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(o))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(o){this._spiderfied&&this._spiderfied.unspiderfy(o)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(o){o._spiderLeg&&(this._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow(),o.setZIndexOffset&&o.setZIndexOffset(0),this._map.removeLayer(o._spiderLeg),delete o._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(o){return o?o instanceof L.MarkerClusterGroup?o=o._topClusterLevel.getAllChildMarkers():o instanceof L.LayerGroup?o=o._layers:o instanceof L.MarkerCluster?o=o.getAllChildMarkers():o instanceof L.Marker&&(o=[o]):o=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(o),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(o),this},_flagParentsIconsNeedUpdate:function(o){var u,c;for(u in o)for(c=o[u].__parent;c;)c._iconNeedsUpdate=!0,c=c.__parent},_refreshSingleMarkerModeMarkers:function(o){var u,c;for(u in o)c=o[u],this.hasLayer(c)&&c.setIcon(this._overrideMarkerIcon(c))}}),L.Marker.include({refreshIconOptions:function(o,u){var c=this.options.icon;return L.setOptions(c,o),this.setIcon(c),u&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=r,n.MarkerCluster=s,Object.defineProperty(n,"__esModule",{value:!0})})})($u,$u.exports)),$u.exports}const ID="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",OD=Object.freeze(Object.defineProperty({__proto__:null,default:ID},Symbol.toStringTag,{value:"Module"})),MD=df(OD),DD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",zD=Object.freeze(Object.defineProperty({__proto__:null,default:DD},Symbol.toStringTag,{value:"Module"})),BD=df(zD),FD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",VD=Object.freeze(Object.defineProperty({__proto__:null,default:FD},Symbol.toStringTag,{value:"Module"})),$D=df(VD);var Bw;function UD(){if(Bw)return ri;Bw=1;var e=ri&&ri.__assign||function(){return e=Object.assign||function(p){for(var y,_=1,x=arguments.length;_<x;_++){y=arguments[_];for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&(p[w]=y[w])}return p},e.apply(this,arguments)},t=ri&&ri.__rest||function(p,y){var _={};for(var x in p)Object.prototype.hasOwnProperty.call(p,x)&&y.indexOf(x)<0&&(_[x]=p[x]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,x=Object.getOwnPropertySymbols(p);w<x.length;w++)y.indexOf(x[w])<0&&Object.prototype.propertyIsEnumerable.call(p,x[w])&&(_[x[w]]=p[x[w]]);return _},n=ri&&ri.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(ri,"__esModule",{value:!0});var r=ND,s=n(k1());jD(),delete s.default.Icon.Default.prototype._getIconUrl,s.default.Icon.Default.mergeOptions({iconRetinaUrl:MD.default,iconUrl:BD.default,shadowUrl:$D.default});function o(p){var y={},_={};p.children;var x=t(p,["children"]);return Object.entries(x).forEach(function(w){var E,k,R=w[0],N=w[1];R.startsWith("on")?_=e(e({},_),(E={},E[R]=N,E)):y=e(e({},y),(k={},k[R]=N,k))}),{clusterProps:y,clusterEvents:_}}function u(p,y){var _=o(p),x=_.clusterProps,w=_.clusterEvents,E=new s.default.MarkerClusterGroup(x);return Object.entries(w).forEach(function(k){var R=k[0],N=k[1],A="cluster".concat(R.substring(2).toLowerCase());E.on(A,N)}),(0,r.createElementObject)(E,(0,r.extendContext)(y,{layerContainer:E}))}var c=function(p,y,_){},h=(0,r.createPathComponent)(u,c);return ri.default=h,ri}var HD=UD();const WD=_c(HD),GD="https://ipegpbgcektdtbnfvhvc.supabase.co",ZD="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlwZWdwYmdjZWt0ZHRibmZ2aHZjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwOTYzNjMsImV4cCI6MjA4MDY3MjM2M30.FHe6qYLmqvvTjRbKQQqHWNpsDbCBCeT9hPMgnAyE2bE",Bt=oS(GD,ZD),qD=e=>e<10?"custom-cluster-icon-small":e<100?"custom-cluster-icon-medium":"custom-cluster-icon-large",KD=e=>{const t=e.getChildCount(),n=qD(t);return Mw.divIcon({html:`<span>${t}</span>`,className:`custom-cluster-icon ${n}`,iconSize:Mw.point(40,40,!0)})};function YD({selectedId:e,markers:t}){const n=O1();return C.useEffect(()=>{if(e&&t.length>0){const r=t.find(s=>s.survey_id===e);r&&r.lat&&r.lng&&n.setView([r.lat,r.lng],18,{animate:!0})}},[e,t,n]),null}function XD({onClear:e}){return PD({click:t=>{t.originalEvent.target.classList.contains("leaflet-container")&&e()}}),null}function JD(){const{query:e}=Fb(),{selectedSurveyId:t,setSelectedSurveyId:n,highlightedId:r,setHighlightedId:s,clearSelection:o}=Sc(),[u,c]=C.useState([]),[h,p]=C.useState(!0),[y,_]=C.useState("roads");C.useEffect(()=>{const E=setTimeout(()=>{x()},500);return()=>clearTimeout(E)},[e]);async function x(){try{p(!0);let E=Bt.from("survey_units").select("survey_id, lat, lng, consumer_name, status, city_district, tehsil, uc_name").order("created_at",{ascending:!1});e?E=E.or(`survey_id.ilike.%${e}%,consumer_name.ilike.%${e}%,city_district.ilike.%${e}%`):E=E.eq("city_district","SARGODHA").eq("tehsil","SARGODHA").ilike("uc_name","MC-1%");const{data:k,error:R}=await E.limit(5e3);if(R)throw R;c(k||[])}catch(E){console.error("Error fetching markers:",E)}finally{p(!1)}}const w={roads:"https://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}",satellite:"https://{s}.google.com/vt/lyrs=y&x={x}&y={y}&z={z}"};return m.jsxs("div",{className:"w-full h-full bg-slate-50 relative",onClick:E=>{E.target.classList.contains("leaflet-container")&&o()},children:[m.jsx("div",{className:"absolute top-4 right-4 z-[1000] flex flex-col gap-2",children:m.jsx("button",{onClick:()=>_(y==="roads"?"satellite":"roads"),className:"p-2.5 bg-white/95 dark:bg-slate-900/95 backdrop-blur-md rounded-xl shadow-2xl border border-slate-200 dark:border-white/10 text-slate-700 dark:text-slate-200 hover:scale-105 active:scale-95 transition-all group",title:"Toggle Map Layer",children:y==="roads"?m.jsx(hS,{size:20,className:"group-hover:text-indigo-500"}):m.jsx(Lg,{size:20,className:"group-hover:text-emerald-500"})})}),h&&m.jsx("div",{className:"absolute inset-0 z-[1001] bg-slate-100/20 backdrop-blur-[2px] flex items-center justify-center animate-fade-in transition-colors",children:m.jsxs("div",{className:"glass-panel p-4 rounded-xl flex items-center gap-3 shadow-2xl border-white/5",children:[m.jsx(fS,{className:"text-indigo-600 animate-spin",size:20}),m.jsx("span",{className:"text-xs font-bold premium-gradient-text tracking-widest uppercase",children:"Syncing Map Data"})]})}),m.jsxs(TD,{center:[32.074,72.6861],zoom:13,className:"w-full h-full z-0",zoomControl:!1,preferCanvas:!0,children:[m.jsx(LD,{url:w[y],subdomains:["mt0","mt1","mt2","mt3"],attribution:" Google Maps",maxZoom:20}),m.jsx(YD,{selectedId:t,markers:u}),m.jsx(XD,{onClear:o}),m.jsx(WD,{chunkedLoading:!0,maxClusterRadius:50,disableClusteringAtZoom:17,iconCreateFunction:KD,showCoverageOnHover:!1,spiderfyOnMaxZoom:!0,children:u.map(E=>{const k=E.survey_id===r||E.survey_id===t;return!E.lat||!E.lng?null:m.jsxs(In.Fragment,{children:[k&&m.jsx(Dw,{center:[E.lat,E.lng],radius:15,pathOptions:{fillColor:"#ef4444",fillOpacity:.4,color:"#ef4444",weight:1,stroke:!0,className:"selected-marker-highlight"},interactive:!1}),m.jsx(Dw,{center:[E.lat,E.lng],radius:k?10:4,pathOptions:{fillColor:k?"#ef4444":"#6366f1",fillOpacity:.8,color:"#fff",weight:k?3:1,stroke:!0},eventHandlers:{click:R=>{s(E.survey_id)}},children:m.jsx(RD,{className:"premium-popup",children:m.jsxs("div",{className:"p-1",children:[m.jsx("div",{className:"text-[10px] uppercase font-bold text-indigo-600 dark:text-indigo-400 mb-1",children:"Survey Record"}),m.jsx("div",{className:"font-bold text-slate-900 dark:text-slate-200",children:E.consumer_name||"No Name Found"}),m.jsxs("div",{className:"text-[10px] text-slate-500 dark:text-slate-500",children:["ID: ",E.survey_id]}),m.jsx("div",{className:"text-[10px] font-bold text-slate-600 dark:text-slate-400 mt-1",children:lD(E.city_district,uy(E.uc_name,E.city_district,E.tehsil))}),m.jsxs("div",{className:"mt-2 pt-2 border-t border-slate-200 dark:border-white/5 text-[10px] text-indigo-600 dark:text-indigo-300 flex items-center gap-1 font-extrabold uppercase tracking-tight cursor-pointer",onClick:R=>{R.stopPropagation(),console.log("[Map] Selecting record for detail view:",E.survey_id),n(E.survey_id)},children:[m.jsx(Lg,{size:10})," View Full Report"]})]})})})]},E.survey_id)})})]})]})}const Nt=({status:e,variant:t="default",className:n=""})=>{const r={default:"bg-slate-500/10 text-slate-500 border-slate-500/20",success:"bg-emerald-500/10 text-emerald-600 border-emerald-500/20",active:"bg-emerald-500/15 text-emerald-600 border-emerald-500/30",warning:"bg-amber-500/10 text-amber-600 border-amber-500/20",pending:"bg-amber-500/15 text-amber-600 border-amber-500/30 font-black",danger:"bg-red-500/10 text-red-500 border-red-500/20",archived:"bg-red-500/15 text-red-600 border-red-500/30",info:"bg-indigo-500/10 text-indigo-500 border-indigo-500/20",domestic:"bg-blue-500/10 text-blue-600 border-blue-500/30",commercial:"bg-purple-500/10 text-purple-600 border-purple-500/30"},s=r[t.toLowerCase()]||r.default;return m.jsx("span",{className:Me("status-pill",s,n),children:e})},QD=({text:e,title:t="Copy"})=>{const[n,r]=C.useState(!1),s=()=>{navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),2e3)};return m.jsx("button",{onClick:s,className:`p-1 rounded transition-all ${n?"text-emerald-500 bg-emerald-500/10":"text-indigo-500 hover:bg-indigo-500/10"}`,title:n?"Copied!":t,children:n?m.jsx($h,{size:12}):m.jsx(yA,{size:12})})},er=({amount:e,currency:t="Rs."})=>{const n=new Intl.NumberFormat("en-PK",{minimumFractionDigits:0,maximumFractionDigits:0}).format(e||0);return m.jsxs("span",{className:"font-display font-bold tabular-nums",children:[m.jsx("span",{className:"text-[10px] text-slate-400 mr-1 uppercase font-medium",children:t}),n]})},ez=({message:e})=>m.jsxs("div",{className:"p-4 bg-red-500/5 border border-red-500/10 rounded-2xl flex items-center gap-3 text-red-500 animate-fade-in",children:[m.jsx(Wo,{size:18}),m.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:e||"System Logic Error"})]});function tz(e){const t=nz(e),n=C.forwardRef((r,s)=>{const{children:o,...u}=r,c=C.Children.toArray(o),h=c.find(iz);if(h){const p=h.props.children,y=c.map(_=>_===h?C.Children.count(p)>1?C.Children.only(null):C.isValidElement(p)?p.props.children:null:_);return m.jsx(t,{...u,ref:s,children:C.isValidElement(p)?C.cloneElement(p,void 0,y):null})}return m.jsx(t,{...u,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function nz(e){const t=C.forwardRef((n,r)=>{const{children:s,...o}=n;if(C.isValidElement(s)){const u=oz(s),c=sz(o,s.props);return s.type!==C.Fragment&&(c.ref=r?Ll(r,u):u),C.cloneElement(s,c)}return C.Children.count(s)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rz=Symbol("radix.slottable");function iz(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rz}function sz(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...c)=>{const h=o(...c);return s(...c),h}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function oz(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var az=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ot=az.reduce((e,t)=>{const n=tz(`Primitive.${t}`),r=C.forwardRef((s,o)=>{const{asChild:u,...c}=s,h=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(h,{...c,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function lz(e,t){e&&Sl.flushSync(()=>e.dispatchEvent(t))}var tn=globalThis?.document?C.useLayoutEffect:()=>{};function uz(e,t){return C.useReducer((n,r)=>t[n][r]??n,e)}var Ys=e=>{const{present:t,children:n}=e,r=cz(t),s=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),o=dt(r.ref,dz(s));return typeof n=="function"||r.isPresent?C.cloneElement(s,{ref:o}):null};Ys.displayName="Presence";function cz(e){const[t,n]=C.useState(),r=C.useRef(null),s=C.useRef(e),o=C.useRef("none"),u=e?"mounted":"unmounted",[c,h]=uz(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const p=ph(r.current);o.current=c==="mounted"?p:"none"},[c]),tn(()=>{const p=r.current,y=s.current;if(y!==e){const x=o.current,w=ph(p);e?h("MOUNT"):w==="none"||p?.display==="none"?h("UNMOUNT"):h(y&&x!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,h]),tn(()=>{if(t){let p;const y=t.ownerDocument.defaultView??window,_=w=>{const k=ph(r.current).includes(CSS.escape(w.animationName));if(w.target===t&&k&&(h("ANIMATION_END"),!s.current)){const R=t.style.animationFillMode;t.style.animationFillMode="forwards",p=y.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=R)})}},x=w=>{w.target===t&&(o.current=ph(r.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",_),t.addEventListener("animationend",_),()=>{y.clearTimeout(p),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",_),t.removeEventListener("animationend",_)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:C.useCallback(p=>{r.current=p?getComputedStyle(p):null,n(p)},[])}}function ph(e){return e?.animationName||"none"}function dz(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function hz(e,t){const n=C.createContext(t),r=o=>{const{children:u,...c}=o,h=C.useMemo(()=>c,Object.values(c));return m.jsx(n.Provider,{value:h,children:u})};r.displayName=e+"Provider";function s(o){const u=C.useContext(n);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function jc(e,t=[]){let n=[];function r(o,u){const c=C.createContext(u),h=n.length;n=[...n,u];const p=_=>{const{scope:x,children:w,...E}=_,k=x?.[e]?.[h]||c,R=C.useMemo(()=>E,Object.values(E));return m.jsx(k.Provider,{value:R,children:w})};p.displayName=o+"Provider";function y(_,x){const w=x?.[e]?.[h]||c,E=C.useContext(w);if(E)return E;if(u!==void 0)return u;throw new Error(`\`${_}\` must be used within \`${o}\``)}return[p,y]}const s=()=>{const o=n.map(u=>C.createContext(u));return function(c){const h=c?.[e]||o;return C.useMemo(()=>({[`__scope${e}`]:{...c,[e]:h}}),[c,h])}};return s.scopeName=e,[r,fz(s,...t)]}function fz(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const u=r.reduce((c,{useScope:h,scopeName:p})=>{const _=h(o)[`__scope${p}`];return{...c,..._}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}function On(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...n)=>t.current?.(...n),[])}var pz=C.createContext(void 0);function M1(e){const t=C.useContext(pz);return e||t||"ltr"}function rv(e,[t,n]){return Math.min(n,Math.max(t,e))}function st(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e?.(s),n===!1||!s.defaultPrevented)return t?.(s)}}function mz(e,t){return C.useReducer((n,r)=>t[n][r]??n,e)}var yy="ScrollArea",[D1]=jc(yy),[gz,xr]=D1(yy),z1=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:o=600,...u}=e,[c,h]=C.useState(null),[p,y]=C.useState(null),[_,x]=C.useState(null),[w,E]=C.useState(null),[k,R]=C.useState(null),[N,A]=C.useState(0),[I,D]=C.useState(0),[V,Z]=C.useState(!1),[M,B]=C.useState(!1),ee=dt(t,U=>h(U)),ce=M1(s);return m.jsx(gz,{scope:n,type:r,dir:ce,scrollHideDelay:o,scrollArea:c,viewport:p,onViewportChange:y,content:_,onContentChange:x,scrollbarX:w,onScrollbarXChange:E,scrollbarXEnabled:V,onScrollbarXEnabledChange:Z,scrollbarY:k,onScrollbarYChange:R,scrollbarYEnabled:M,onScrollbarYEnabledChange:B,onCornerWidthChange:A,onCornerHeightChange:D,children:m.jsx(ot.div,{dir:ce,...u,ref:ee,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":I+"px",...e.style}})})});z1.displayName=yy;var B1="ScrollAreaViewport",F1=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...o}=e,u=xr(B1,n),c=C.useRef(null),h=dt(t,c,u.onViewportChange);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),m.jsx(ot.div,{"data-radix-scroll-area-viewport":"",...o,ref:h,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...e.style},children:m.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});F1.displayName=B1;var hi="ScrollAreaScrollbar",V1=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=xr(hi,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:u}=s,c=e.orientation==="horizontal";return C.useEffect(()=>(c?o(!0):u(!0),()=>{c?o(!1):u(!1)}),[c,o,u]),s.type==="hover"?m.jsx(vz,{...r,ref:t,forceMount:n}):s.type==="scroll"?m.jsx(yz,{...r,ref:t,forceMount:n}):s.type==="auto"?m.jsx($1,{...r,ref:t,forceMount:n}):s.type==="always"?m.jsx(_y,{...r,ref:t}):null});V1.displayName=hi;var vz=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=xr(hi,e.__scopeScrollArea),[o,u]=C.useState(!1);return C.useEffect(()=>{const c=s.scrollArea;let h=0;if(c){const p=()=>{window.clearTimeout(h),u(!0)},y=()=>{h=window.setTimeout(()=>u(!1),s.scrollHideDelay)};return c.addEventListener("pointerenter",p),c.addEventListener("pointerleave",y),()=>{window.clearTimeout(h),c.removeEventListener("pointerenter",p),c.removeEventListener("pointerleave",y)}}},[s.scrollArea,s.scrollHideDelay]),m.jsx(Ys,{present:n||o,children:m.jsx($1,{"data-state":o?"visible":"hidden",...r,ref:t})})}),yz=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=xr(hi,e.__scopeScrollArea),o=e.orientation==="horizontal",u=kf(()=>h("SCROLL_END"),100),[c,h]=mz("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return C.useEffect(()=>{if(c==="idle"){const p=window.setTimeout(()=>h("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(p)}},[c,s.scrollHideDelay,h]),C.useEffect(()=>{const p=s.viewport,y=o?"scrollLeft":"scrollTop";if(p){let _=p[y];const x=()=>{const w=p[y];_!==w&&(h("SCROLL"),u()),_=w};return p.addEventListener("scroll",x),()=>p.removeEventListener("scroll",x)}},[s.viewport,o,h,u]),m.jsx(Ys,{present:n||c!=="hidden",children:m.jsx(_y,{"data-state":c==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:st(e.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:st(e.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),$1=C.forwardRef((e,t)=>{const n=xr(hi,e.__scopeScrollArea),{forceMount:r,...s}=e,[o,u]=C.useState(!1),c=e.orientation==="horizontal",h=kf(()=>{if(n.viewport){const p=n.viewport.offsetWidth<n.viewport.scrollWidth,y=n.viewport.offsetHeight<n.viewport.scrollHeight;u(c?p:y)}},10);return wl(n.viewport,h),wl(n.content,h),m.jsx(Ys,{present:r||o,children:m.jsx(_y,{"data-state":o?"visible":"hidden",...s,ref:t})})}),_y=C.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=xr(hi,e.__scopeScrollArea),o=C.useRef(null),u=C.useRef(0),[c,h]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=Z1(c.viewport,c.content),y={...r,sizes:c,onSizesChange:h,hasThumb:p>0&&p<1,onThumbChange:x=>o.current=x,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:x=>u.current=x};function _(x,w){return Cz(x,u.current,c,w)}return n==="horizontal"?m.jsx(_z,{...y,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const x=s.viewport.scrollLeft,w=Fw(x,c,s.dir);o.current.style.transform=`translate3d(${w}px, 0, 0)`}},onWheelScroll:x=>{s.viewport&&(s.viewport.scrollLeft=x)},onDragScroll:x=>{s.viewport&&(s.viewport.scrollLeft=_(x,s.dir))}}):n==="vertical"?m.jsx(xz,{...y,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const x=s.viewport.scrollTop,w=Fw(x,c);o.current.style.transform=`translate3d(0, ${w}px, 0)`}},onWheelScroll:x=>{s.viewport&&(s.viewport.scrollTop=x)},onDragScroll:x=>{s.viewport&&(s.viewport.scrollTop=_(x))}}):null}),_z=C.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=xr(hi,e.__scopeScrollArea),[u,c]=C.useState(),h=C.useRef(null),p=dt(t,h,o.onScrollbarXChange);return C.useEffect(()=>{h.current&&c(getComputedStyle(h.current))},[h]),m.jsx(H1,{"data-orientation":"horizontal",...s,ref:p,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Cf(n)+"px",...e.style},onThumbPointerDown:y=>e.onThumbPointerDown(y.x),onDragScroll:y=>e.onDragScroll(y.x),onWheelScroll:(y,_)=>{if(o.viewport){const x=o.viewport.scrollLeft+y.deltaX;e.onWheelScroll(x),K1(x,_)&&y.preventDefault()}},onResize:()=>{h.current&&o.viewport&&u&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:Qh(u.paddingLeft),paddingEnd:Qh(u.paddingRight)}})}})}),xz=C.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=xr(hi,e.__scopeScrollArea),[u,c]=C.useState(),h=C.useRef(null),p=dt(t,h,o.onScrollbarYChange);return C.useEffect(()=>{h.current&&c(getComputedStyle(h.current))},[h]),m.jsx(H1,{"data-orientation":"vertical",...s,ref:p,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Cf(n)+"px",...e.style},onThumbPointerDown:y=>e.onThumbPointerDown(y.y),onDragScroll:y=>e.onDragScroll(y.y),onWheelScroll:(y,_)=>{if(o.viewport){const x=o.viewport.scrollTop+y.deltaY;e.onWheelScroll(x),K1(x,_)&&y.preventDefault()}},onResize:()=>{h.current&&o.viewport&&u&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:Qh(u.paddingTop),paddingEnd:Qh(u.paddingBottom)}})}})}),[wz,U1]=D1(hi),H1=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:u,onThumbPointerDown:c,onThumbPositionChange:h,onDragScroll:p,onWheelScroll:y,onResize:_,...x}=e,w=xr(hi,n),[E,k]=C.useState(null),R=dt(t,ee=>k(ee)),N=C.useRef(null),A=C.useRef(""),I=w.viewport,D=r.content-r.viewport,V=On(y),Z=On(h),M=kf(_,10);function B(ee){if(N.current){const ce=ee.clientX-N.current.left,U=ee.clientY-N.current.top;p({x:ce,y:U})}}return C.useEffect(()=>{const ee=ce=>{const U=ce.target;E?.contains(U)&&V(ce,D)};return document.addEventListener("wheel",ee,{passive:!1}),()=>document.removeEventListener("wheel",ee,{passive:!1})},[I,E,D,V]),C.useEffect(Z,[r,Z]),wl(E,M),wl(w.content,M),m.jsx(wz,{scope:n,scrollbar:E,hasThumb:s,onThumbChange:On(o),onThumbPointerUp:On(u),onThumbPositionChange:Z,onThumbPointerDown:On(c),children:m.jsx(ot.div,{...x,ref:R,style:{position:"absolute",...x.style},onPointerDown:st(e.onPointerDown,ee=>{ee.button===0&&(ee.target.setPointerCapture(ee.pointerId),N.current=E.getBoundingClientRect(),A.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",w.viewport&&(w.viewport.style.scrollBehavior="auto"),B(ee))}),onPointerMove:st(e.onPointerMove,B),onPointerUp:st(e.onPointerUp,ee=>{const ce=ee.target;ce.hasPointerCapture(ee.pointerId)&&ce.releasePointerCapture(ee.pointerId),document.body.style.webkitUserSelect=A.current,w.viewport&&(w.viewport.style.scrollBehavior=""),N.current=null})})})}),Jh="ScrollAreaThumb",W1=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=U1(Jh,e.__scopeScrollArea);return m.jsx(Ys,{present:n||s.hasThumb,children:m.jsx(bz,{ref:t,...r})})}),bz=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,o=xr(Jh,n),u=U1(Jh,n),{onThumbPositionChange:c}=u,h=dt(t,_=>u.onThumbChange(_)),p=C.useRef(void 0),y=kf(()=>{p.current&&(p.current(),p.current=void 0)},100);return C.useEffect(()=>{const _=o.viewport;if(_){const x=()=>{if(y(),!p.current){const w=kz(_,c);p.current=w,c()}};return c(),_.addEventListener("scroll",x),()=>_.removeEventListener("scroll",x)}},[o.viewport,y,c]),m.jsx(ot.div,{"data-state":u.hasThumb?"visible":"hidden",...s,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:st(e.onPointerDownCapture,_=>{const w=_.target.getBoundingClientRect(),E=_.clientX-w.left,k=_.clientY-w.top;u.onThumbPointerDown({x:E,y:k})}),onPointerUp:st(e.onPointerUp,u.onThumbPointerUp)})});W1.displayName=Jh;var xy="ScrollAreaCorner",G1=C.forwardRef((e,t)=>{const n=xr(xy,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?m.jsx(Sz,{...e,ref:t}):null});G1.displayName=xy;var Sz=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=xr(xy,n),[o,u]=C.useState(0),[c,h]=C.useState(0),p=!!(o&&c);return wl(s.scrollbarX,()=>{const y=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(y),h(y)}),wl(s.scrollbarY,()=>{const y=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(y),u(y)}),p?m.jsx(ot.div,{...r,ref:t,style:{width:o,height:c,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Qh(e){return e?parseInt(e,10):0}function Z1(e,t){const n=e/t;return isNaN(n)?0:n}function Cf(e){const t=Z1(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Cz(e,t,n,r="ltr"){const s=Cf(n),o=s/2,u=t||o,c=s-u,h=n.scrollbar.paddingStart+u,p=n.scrollbar.size-n.scrollbar.paddingEnd-c,y=n.content-n.viewport,_=r==="ltr"?[0,y]:[y*-1,0];return q1([h,p],_)(e)}function Fw(e,t,n="ltr"){const r=Cf(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,u=t.content-t.viewport,c=o-r,h=n==="ltr"?[0,u]:[u*-1,0],p=rv(e,h);return q1([0,u],[0,c])(p)}function q1(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function K1(e,t){return e>0&&e<t}var kz=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function s(){const o={left:e.scrollLeft,top:e.scrollTop},u=n.left!==o.left,c=n.top!==o.top;(u||c)&&t(),n=o,r=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(r)};function kf(e,t){const n=On(e),r=C.useRef(0);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),C.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function wl(e,t){const n=On(t);tn(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var Y1=z1,Pz=F1,X1=V1,Ez=W1,Tz=G1;const ef=C.forwardRef(({className:e,children:t,...n},r)=>m.jsxs(Y1,{ref:r,className:Me("relative overflow-hidden",e),...n,children:[m.jsx(Pz,{className:"h-full w-full rounded-[inherit]",children:t}),m.jsx(J1,{}),m.jsx(Tz,{})]}));ef.displayName=Y1.displayName;const J1=C.forwardRef(({className:e,orientation:t="vertical",...n},r)=>m.jsx(X1,{ref:r,orientation:t,className:Me("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:m.jsx(Ez,{className:"relative flex-1 rounded-full bg-border"})}));J1.displayName=X1.displayName;const fn=C.forwardRef(({className:e,...t},n)=>m.jsx("div",{ref:n,className:Me("rounded-xl border bg-card text-card-foreground shadow",e),...t}));fn.displayName="Card";const Rh=C.forwardRef(({className:e,...t},n)=>m.jsx("div",{ref:n,className:Me("flex flex-col space-y-1.5 p-6",e),...t}));Rh.displayName="CardHeader";const Lh=C.forwardRef(({className:e,...t},n)=>m.jsx("h3",{ref:n,className:Me("font-semibold leading-none tracking-tight",e),...t}));Lh.displayName="CardTitle";const Nh=C.forwardRef(({className:e,...t},n)=>m.jsx("p",{ref:n,className:Me("text-sm text-muted-foreground",e),...t}));Nh.displayName="CardDescription";const bn=C.forwardRef(({className:e,...t},n)=>m.jsx("div",{ref:n,className:Me("p-6 pt-0",e),...t}));bn.displayName="CardContent";const Q1=C.forwardRef(({className:e,...t},n)=>m.jsx("div",{ref:n,className:Me("flex items-center p-6 pt-0",e),...t}));Q1.displayName="CardFooter";var Rz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Lz=Rz.reduce((e,t)=>{const n=v1(`Primitive.${t}`),r=C.forwardRef((s,o)=>{const{asChild:u,...c}=s,h=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(h,{...c,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Nz="Separator",Vw="horizontal",Az=["horizontal","vertical"],ek=C.forwardRef((e,t)=>{const{decorative:n,orientation:r=Vw,...s}=e,o=jz(r)?r:Vw,c=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return m.jsx(Lz.div,{"data-orientation":o,...c,...s,ref:t})});ek.displayName=Nz;function jz(e){return Az.includes(e)}var tk=ek;const nk=C.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>m.jsx(tk,{ref:s,decorative:n,orientation:t,className:Me("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));nk.displayName=tk.displayName;function rk({surveyId:e,onClose:t,onNext:n,onPrev:r,hasNext:s,hasPrev:o}){const[u,c]=C.useState(null),[h,p]=C.useState([]),[y,_]=C.useState({totalDue:0,totalPaid:0,outstanding:0,recoveryRate:0,lastPaidDate:null}),[x,w]=C.useState(!0),[E,k]=C.useState(null),[R,N]=C.useState(0),[A,I]=C.useState(!1);C.useEffect(()=>{e&&(c(null),p([]),_({totalDue:0,totalPaid:0,outstanding:0,recoveryRate:0,lastPaidDate:null}),N(0),D())},[e]),C.useEffect(()=>{const M=B=>{document.activeElement?.tagName==="INPUT"||document.activeElement?.tagName==="TEXTAREA"||A&&(B.key==="Escape"&&(I(!1),B.preventDefault(),B.stopImmediatePropagation()),(B.key==="ArrowRight"||B.key==="ArrowLeft")&&u?.image_urls?.length>1&&(B.key==="ArrowRight"&&N(ee=>(ee+1)%u.image_urls.length),B.key==="ArrowLeft"&&N(ee=>(ee-1+u.image_urls.length)%u.image_urls.length),B.preventDefault(),B.stopImmediatePropagation()),["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"].includes(B.key)&&B.stopImmediatePropagation())};return window.addEventListener("keydown",M,!0),()=>window.removeEventListener("keydown",M,!0)},[A,u]);async function D(){if(e)try{w(!0),k(null);const{data:M,error:B}=await Bt.rpc("get_unit_history_360",{p_survey_id:e});if(B)throw B;const ee=Array.isArray(M)?M[0]:M;if(!ee||!ee.unit)throw new Error("No record found for the provided ID");c(ee.unit),p(ee.bills||[]);const ce=ee.stats||{total_due:0,total_paid:0,outstanding:0,last_paid_date:null};_({totalDue:Number(ce.total_due),totalPaid:Number(ce.total_paid),outstanding:Number(ce.outstanding),lastPaidDate:ce.last_paid_date,recoveryRate:ce.total_due>0?ce.total_paid/ce.total_due*100:0})}catch(M){k(M.message)}finally{w(!1)}}if(!e)return null;const V=()=>u?u.status==="ARCHIVED"?m.jsx(Nt,{status:"Archived",variant:"archived",className:"h-5"}):u.is_biller?m.jsx(Nt,{status:"Active",variant:"active",className:"h-5"}):m.jsx(Nt,{status:"New Survey",variant:"pending",className:"h-5"}):null,Z=()=>{const M=u?.unit_type||u?.consumer_type||u?.property_type||u?.consumer_category||u?.type||"",B=M.toLowerCase();return B.includes("residen")||B.includes("domest")||B.includes("home")?m.jsx(Nt,{status:"Domestic",variant:"domestic",className:"h-4.5"}):B.includes("commer")||B.includes("shop")||B.includes("office")?m.jsx(Nt,{status:"Commercial",variant:"commercial",className:"h-4.5"}):m.jsx(Nt,{status:M||"General",variant:"default",className:"h-4.5"})};return m.jsxs(pl.div,{className:"flex flex-col h-full w-full bg-background font-sans",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},drag:"x",dragConstraints:{left:0,right:0},dragElastic:.2,onDragEnd:(M,{offset:B,velocity:ee})=>{const ce=B.x,U=100;ce<-U&&n?.(),ce>U&&r?.()},children:[m.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border bg-card/50 backdrop-blur-sm shrink-0",children:[m.jsx("div",{className:"flex-1 min-w-0",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("h2",{className:"text-2xl font-black tabular-nums tracking-tighter leading-none text-primary",children:e}),m.jsx("div",{className:"h-8 w-px bg-border/50"}),m.jsxs("div",{className:"flex flex-col gap-0.5",children:[m.jsx("span",{className:"badge-subtext text-primary/80",children:u?.surveyor_name||"System Auto"}),m.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[m.jsx("span",{className:"badge-subtext font-mono tracking-normal text-foreground/80",children:u?.survey_date||"N/A"}),m.jsx("span",{className:"badge-subtext font-mono tracking-normal text-foreground/80",children:u?.survey_time||"--:--"})]})]})]})}),m.jsxs("div",{className:"flex items-center gap-1 border-l border-border/50 pl-3 ml-2",children:[m.jsx(He,{variant:"ghost",size:"icon",className:`h-8 w-8 rounded-full transition-colors ${o?"hover:bg-muted opacity-100":"opacity-20 cursor-not-allowed"}`,onClick:M=>{M.stopPropagation(),o&&r&&r()},disabled:!o,title:"Previous Record (Left Arrow)",children:m.jsx(Ku,{size:18})}),m.jsx(He,{variant:"ghost",size:"icon",className:`h-8 w-8 rounded-full transition-colors ${s?"hover:bg-muted opacity-100":"opacity-20 cursor-not-allowed"}`,onClick:M=>{M.stopPropagation(),s&&n&&n()},disabled:!s,title:"Next Record (Right Arrow)",children:m.jsx(hl,{size:18})}),m.jsx("div",{className:"h-6 w-px bg-border/50 mx-1"}),m.jsx(He,{variant:"ghost",size:"icon",onClick:t,className:"h-8 w-8 rounded-full hover:bg-destructive/10 hover:text-destructive shrink-0",children:m.jsx(Ag,{size:20})})]})]}),x?m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-4 text-muted-foreground",children:[m.jsx("div",{className:"w-8 h-8 border-4 border-primary/20 border-t-primary rounded-full animate-spin"}),m.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest animate-pulse",children:"Loading Data..."})]}):E?m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center space-y-4",children:[m.jsx("div",{className:"p-4 rounded-full bg-destructive/10 text-destructive mb-2",children:m.jsx(Wo,{size:32})}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("h3",{className:"font-bold text-lg",children:"Unable to Load Record"}),m.jsx("p",{className:"text-muted-foreground text-sm",children:E})]}),m.jsx(He,{variant:"outline",onClick:D,className:"mt-4",children:"Retry Connection"})]}):u?m.jsx(ef,{className:"flex-1",children:m.jsxs("div",{className:"p-4 space-y-4",children:[m.jsx("div",{className:"relative aspect-video w-full rounded-xl overflow-hidden bg-muted group border border-border/50 shadow-sm",children:u.image_urls&&u.image_urls.length>0?m.jsxs(m.Fragment,{children:[m.jsx("img",{src:u.image_urls[R],className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105 cursor-zoom-in",alt:"Evidence",onClick:()=>I(!0)}),u.image_urls.length>1&&m.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:[m.jsx(He,{variant:"secondary",size:"icon",className:"h-8 w-8 rounded-full bg-black/40 text-white hover:bg-black/60 border-0 backdrop-blur-md pointer-events-auto",onClick:M=>{M.stopPropagation(),N(B=>(B-1+u.image_urls.length)%u.image_urls.length)},children:m.jsx(Ku,{size:16})}),m.jsx(He,{variant:"secondary",size:"icon",className:"h-8 w-8 rounded-full bg-black/40 text-white hover:bg-black/60 border-0 backdrop-blur-md pointer-events-auto",onClick:M=>{M.stopPropagation(),N(B=>(B+1)%u.image_urls.length)},children:m.jsx(hl,{size:16})})]}),m.jsx("div",{className:"absolute inset-x-0 bottom-0 h-24 bg-gradient-to-t from-black/60 to-transparent pointer-events-none"}),m.jsxs("div",{className:"absolute bottom-3 left-3 right-3 flex items-end justify-between text-white pointer-events-none",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"badge-subtext bg-black/20 backdrop-blur-[2px] text-white/90 px-2 py-0.5 rounded-md border-none",children:["Image ",R+1," of ",u.image_urls.length]}),m.jsx("div",{className:"flex",children:m.jsxs("span",{className:"badge-subtext bg-black/20 backdrop-blur-[2px] text-white/90 px-2 py-0.5 rounded-md border-none font-bold",children:[m.jsx(mS,{size:8,className:"mr-1 inline"}),uy(u.uc_name,u.city_district,u.tehsil)]})})]}),m.jsx(He,{size:"icon",variant:"secondary",className:"h-7 w-7 rounded-full bg-white/20 hover:bg-white/40 border-0 text-white backdrop-blur-md pointer-events-auto",onClick:()=>I(!0),children:m.jsx(EA,{size:12})})]})]}):m.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-muted-foreground",children:[m.jsx(hS,{size:32,className:"opacity-20 mb-2"}),m.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest opacity-60",children:"No Evidence"})]})}),m.jsx(fn,{className:"shadow-none border-border/60 bg-card/50",children:m.jsxs(bn,{className:"p-3 flex items-center justify-between",children:[m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("p",{className:"badge-subtext mb-1",children:"Identity Profile"}),m.jsx("h3",{className:"text-base font-bold leading-tight truncate pr-4",children:u.consumer_name||"Anonymous"}),m.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 mt-1.5",children:[Z(),m.jsx("span",{className:"badge-subtext normal-case tracking-normal font-medium bg-transparent border-none text-muted-foreground/80 lowercase italic",children:u.address||"No Verified Address"})]})]}),m.jsx("div",{className:"text-right shrink-0",children:V()})]})}),m.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[m.jsxs("div",{className:"p-2.5 rounded-xl border border-border/40 bg-card/30",children:[m.jsx("p",{className:"badge-subtext mb-1 opacity-60",children:"Demand"}),m.jsx("p",{className:"text-xs font-bold text-foreground tabular-nums",children:m.jsx(er,{amount:y.outstanding})})]}),m.jsxs("div",{className:"p-2.5 rounded-xl border border-border/40 bg-card/30",children:[m.jsx("p",{className:"badge-subtext mb-1 opacity-60",children:"Paid"}),m.jsx("p",{className:"text-xs font-bold text-emerald-600 tabular-nums",children:m.jsx(er,{amount:y.totalPaid})})]}),m.jsxs("div",{className:"p-2.5 rounded-xl border border-border/40 bg-card/30",children:[m.jsx("p",{className:"badge-subtext mb-1 opacity-60",children:"Recovery"}),m.jsxs("p",{className:"text-xs font-bold text-indigo-600 tabular-nums",children:[y.recoveryRate.toFixed(0),"%"]})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex items-center justify-between px-1",children:[m.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground",children:"Billing History"}),m.jsxs("span",{className:"text-[9px] font-bold opacity-50",children:[h.length," Records"]})]}),m.jsx("div",{className:"space-y-1.5",children:h.length>0?h.map((M,B)=>m.jsxs("div",{className:"flex items-center justify-between p-2.5 rounded-lg border border-border/40 bg-card/30 hover:bg-card transition-colors group",children:[m.jsxs("div",{className:"flex items-center gap-2.5",children:[m.jsx("div",{className:`w-7 h-7 rounded flex items-center justify-center border ${M.payment_status==="PAID"?"bg-emerald-500/10 border-emerald-500/20 text-emerald-600":"bg-orange-500/10 border-orange-500/20 text-orange-600"}`,children:m.jsx(dS,{size:12})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[11px] font-bold uppercase leading-none",children:M.bill_month}),m.jsxs("span",{className:"badge-subtext font-mono tracking-normal bg-transparent border-none p-0 mt-0.5 opacity-50",children:["#",M.psid]})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("div",{className:`text-[11px] font-bold tabular-nums ${M.payment_status==="PAID"?"text-emerald-600":"text-foreground"}`,children:m.jsx(er,{amount:M.amount_paid>0?M.amount_paid:M.amount_due})}),m.jsx(Nt,{status:M.payment_status,variant:M.payment_status==="PAID"?"success":"warning",className:"h-3.5"})]})]},B)):m.jsx("div",{className:"py-6 text-center text-[10px] text-muted-foreground italic border border-dashed border-border rounded-xl opacity-60",children:"No linked transactions found."})})]})]})}):null,m.jsxs("div",{className:"p-4 border-t border-border bg-card/50 backdrop-blur-sm shrink-0 grid grid-cols-2 gap-3",children:[m.jsxs(He,{variant:"outline",className:"w-full text-xs font-black uppercase tracking-widest border-dashed",children:[m.jsx(Wo,{size:14,className:"mr-2 text-destructive"}),"Report Issue"]}),m.jsxs(He,{className:"w-full text-xs font-black uppercase tracking-widest",children:[m.jsx(wA,{size:14,className:"mr-2"}),"Open In GIS"]})]}),m.jsx(hO,{children:A&&m.jsxs(pl.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-black/95 flex flex-col items-center justify-center p-4",onClick:()=>I(!1),children:[m.jsx("div",{className:"absolute top-4 right-4 z-50",children:m.jsx(He,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/10 rounded-full",onClick:()=>I(!1),children:m.jsx(Ag,{size:24})})}),m.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",onClick:M=>M.stopPropagation(),children:[u?.image_urls?.length>1&&m.jsx(He,{variant:"ghost",size:"icon",className:"absolute left-4 text-white hover:bg-white/10 h-12 w-12 rounded-full",onClick:()=>N(M=>(M-1+u.image_urls.length)%u.image_urls.length),children:m.jsx(Ku,{size:32})}),m.jsx(pl.img,{src:u.image_urls[R],initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl"},R),u?.image_urls?.length>1&&m.jsx(He,{variant:"ghost",size:"icon",className:"absolute right-4 text-white hover:bg-white/10 h-12 w-12 rounded-full",onClick:()=>N(M=>(M+1)%u.image_urls.length),children:m.jsx(hl,{size:32})})]}),m.jsxs("div",{className:"absolute bottom-6 text-white/50 text-xs font-black uppercase tracking-widest",children:[R+1," / ",u.image_urls.length]})]})})]})}function iv({className:e,...t}){return m.jsx("div",{className:Me("animate-pulse rounded-md bg-muted",e),...t})}function Iz(){const[e,t]=C.useState({survey:{active:0,domestic:0,commercial:0,archived:0},system:{staff:0,bills:0,tickets:0,visits:0,layers:0},cities:{}}),[n,r]=C.useState(!0),[s,o]=C.useState(null),u={p_district:null,p_tehsil:null,p_uc:null,p_surveyor:null,p_search:null,p_master_status:"ALL",p_unit_type:null,p_sort_column:"id_numeric",p_sort_direction:"desc",p_page_size:1,p_page_index:0},c=C.useCallback(async p=>{try{const[y,_]=await Promise.all([Bt.rpc("get_hydrated_survey_stats",{...u,...p,p_master_status:"ACTIVE_BILLER"}),Bt.rpc("get_hydrated_survey_stats",{...u,...p,p_master_status:"NEW_SURVEY"})]);return(y.data?.[0]?.total_result_count||0)+(_.data?.[0]?.total_result_count||0)}catch{return 0}},[]),h=C.useCallback(async()=>{try{r(!0);const[{data:p},y,_,x,w,E,k]=await Promise.all([Bt.from("location_hierarchy").select("tehsil"),Bt.from("staff").select("*",{count:"exact",head:!0}),Bt.from("bills").select("*",{count:"exact",head:!0}),Bt.from("tickets").select("*",{count:"exact",head:!0}),Bt.from("compliance_visits").select("*",{count:"exact",head:!0}),Bt.from("location_layers").select("*",{count:"exact",head:!0}),Bt.rpc("get_hydrated_survey_stats",{...u,p_master_status:"ARCHIVED"})]),[R,N,A]=await Promise.all([c({}),c({p_unit_type:"Domestic"}),c({p_unit_type:"Commercial"})]),I=[...new Set((p||[]).map(V=>V.tehsil).filter(Boolean))].sort();let D={};await Promise.all(I.map(async V=>{const Z=await c({p_tehsil:V});Z>0&&(D[V]=Z)})),t({survey:{active:R,domestic:N,commercial:A,archived:k.data?.[0]?.total_result_count||0},system:{staff:y.count||0,bills:_.count||0,tickets:x.count||0,visits:w.count||0,layers:E.count||0},cities:D}),o(new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))}catch(p){console.error(p)}finally{r(!1)}},[c]);return C.useEffect(()=>{h()},[h]),m.jsx("div",{className:"h-full overflow-y-auto no-scrollbar bg-background selection:bg-primary/10",children:m.jsxs("div",{className:"p-1.5 md:p-3 max-w-[1700px] mx-auto space-y-2.5 animate-fade-in pb-20",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 px-1 mb-1",children:[m.jsxs("div",{className:"flex flex-col shrink-0",children:[m.jsxs("h1",{className:"text-xl font-black tracking-tighter uppercase leading-none text-foreground flex items-center gap-2",children:[m.jsx("div",{className:"p-1 rounded bg-primary/10 text-primary",children:m.jsx(cS,{size:16})}),"Node",m.jsx("span",{className:"text-primary",children:"."}),"Explorer"]}),m.jsxs("span",{className:"text-[8px] font-black text-muted-foreground uppercase tracking-[0.2em] mt-1.5 flex items-center gap-1",children:[m.jsx("div",{className:"h-1 w-1 rounded-full bg-emerald-500 animate-pulse"}),"Live Telemetry Stream"]})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-1 sm:justify-end flex-1",children:[n?[...Array(3)].map((p,y)=>m.jsx(iv,{className:"h-6 w-20 rounded-md border border-border/40"},y)):Object.entries(e.cities).map(([p,y])=>m.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 rounded border border-border/60 bg-card/60 hover:border-primary/40 transition-all cursor-default group shadow-sm",children:[m.jsx("span",{className:"text-[9px] font-black uppercase text-muted-foreground group-hover:text-primary transition-colors",children:p}),m.jsx("span",{className:"text-[10px] font-black tabular-nums",children:y.toLocaleString()})]},p)),m.jsx("div",{className:"h-5 w-px bg-border/60 mx-1 hidden md:block"}),m.jsxs(He,{onClick:h,variant:"outline",disabled:n,className:"h-7 px-2.5 border-border font-black text-[9px] uppercase tracking-widest gap-1.5 bg-card hover:bg-muted shadow-sm transition-all active:scale-95",children:[m.jsx(Rv,{size:10,className:n?"animate-spin":""}),n?"SYNC":"REFRESH"]})]})]}),m.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-6 lg:grid-cols-8 gap-1.5 auto-rows-min",children:n?[...Array(10)].map((p,y)=>m.jsx(iv,{className:"h-[68px] col-span-1 rounded-xl border border-border/40"},y)):m.jsxs(m.Fragment,{children:[m.jsx(Bi,{label:"Total Surveys",value:e.survey.active,icon:m.jsx(cA,{size:15}),color:"primary"}),m.jsx(Bi,{label:"Domestic",value:e.survey.domestic,icon:m.jsx(CA,{size:15}),color:"blue"}),m.jsx(Bi,{label:"Commercial",value:e.survey.commercial,icon:m.jsx(fA,{size:15}),color:"purple"}),m.jsx(Bi,{label:"Archived",value:e.survey.archived,icon:m.jsx(NA,{size:15}),color:"slate",badge:"Static"}),m.jsx(Bi,{label:"Staffing",value:e.system.staff,icon:m.jsx(IA,{size:15}),color:"emerald"}),m.jsx(Bi,{label:"Billing",value:e.system.bills,icon:m.jsx(uS,{size:15}),color:"amber"}),m.jsx(Bi,{label:"Ticketing",value:e.system.tickets,icon:m.jsx(yS,{size:15}),color:"rose"}),m.jsx(Bi,{label:"Audits",value:e.system.visits,icon:m.jsx(pA,{size:15}),color:"cyan"}),m.jsx(Bi,{label:"GIS Layers",value:e.system.layers,icon:m.jsx(Pc,{size:15}),color:"violet"}),m.jsx("div",{className:"col-span-1 border border-dashed border-border/20 rounded-xl flex items-center justify-center h-[68px]",children:m.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest text-muted-foreground/30",children:"Reserved"})})]})}),m.jsxs("div",{className:"flex items-center justify-between px-2 pt-4 border-t border-border/20 opacity-40 mt-auto",children:[m.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest",children:"Secure Master Node Connection  v2.8.4"}),m.jsxs("span",{className:"text-[9px] font-black tracking-widest uppercase tabular-nums",children:["Pulse: ",s||"--:--"]})]})]})})}function Bi({label:e,value:t,icon:n,color:r,badge:s}){const o={primary:"text-primary bg-primary/10 border-primary/20",indigo:"text-indigo-500 bg-indigo-500/10 border-indigo-500/20",blue:"text-blue-500 bg-blue-500/10 border-blue-500/20",purple:"text-purple-500 bg-purple-500/10 border-purple-500/20",slate:"text-slate-500 bg-slate-500/10 border-slate-500/20",emerald:"text-emerald-500 bg-emerald-500/10 border-emerald-500/20",amber:"text-amber-500 bg-amber-500/10 border-amber-500/20",rose:"text-rose-500 bg-rose-500/10 border-rose-500/20",cyan:"text-cyan-500 bg-cyan-500/10 border-cyan-500/20",violet:"text-violet-500 bg-violet-500/10 border-violet-500/20"};return m.jsxs(fn,{className:"col-span-1 border-border/50 bg-card/60 hover:bg-card hover:border-primary/30 transition-all shadow-sm group relative overflow-hidden flex flex-col items-start p-2 min-h-[68px] min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1.5 w-full",children:[m.jsx("div",{className:`p-1.5 rounded-lg ${o[r]||"bg-muted"} group-hover:scale-105 transition-transform shrink-0`,children:n}),s&&m.jsx("span",{className:"text-[7px] font-black uppercase bg-zinc-500/10 text-zinc-500 px-1 rounded-[2px] border border-zinc-500/20 ml-auto opacity-60",children:s})]}),m.jsxs("div",{className:"flex flex-col w-full min-w-0 text-left",children:[m.jsx("span",{className:"text-[9px] font-black text-muted-foreground uppercase tracking-tight leading-none truncate w-full group-hover:text-foreground transition-colors mb-0.5",children:e}),m.jsx("span",{className:"text-sm md:text-base font-black tabular-nums tracking-tighter leading-none text-foreground truncate",children:typeof t=="number"?t.toLocaleString():t})]})]})}function ik(e={}){const[t,n]=C.useState([]),[r,s]=C.useState([]),[o,u]=C.useState([]),[c,h]=C.useState(!1);C.useEffect(()=>{p()},[]),C.useEffect(()=>{e.district?y(e.district):s([])},[e.district]),C.useEffect(()=>{e.tehsil?_(e.tehsil):u([])},[e.tehsil]);async function p(){try{const{data:x}=await Bt.from("location_hierarchy").select("city_district");if(x){const w=[...new Set(x.map(E=>E.city_district?.toUpperCase().trim()).filter(Boolean))].sort();n(w)}}catch(x){console.error("Error fetching districts:",x)}}async function y(x){if(x)try{const{data:w}=await Bt.from("location_hierarchy").select("tehsil").eq("city_district",x);if(w){const E=[...new Set(w.map(k=>k.tehsil?.toUpperCase().trim()).filter(Boolean))].sort();s(E)}}catch(w){console.error("Error fetching tehsils:",w)}}async function _(x){if(x)try{const{data:w}=await Bt.from("location_hierarchy").select("uc_name").eq("tehsil",x);if(w){const E=[...new Set(w.map(k=>k.uc_name?.trim().toUpperCase()).filter(Boolean))].sort();u(E)}}catch(w){console.error("Error fetching UCs:",w)}}return{districts:t,tehsils:r,ucs:o,refreshDistricts:p}}function Fs(e,t){return typeof e=="function"?e(t):e}function nr(e,t){return n=>{t.setState(r=>({...r,[e]:Fs(n,r[e])}))}}function Pf(e){return e instanceof Function}function Oz(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function Mz(e,t){const n=[],r=s=>{s.forEach(o=>{n.push(o);const u=t(o);u!=null&&u.length&&r(u)})};return r(e),n}function Ze(e,t,n){let r=[],s;return o=>{let u;n.key&&n.debug&&(u=Date.now());const c=e(o);if(!(c.length!==r.length||c.some((y,_)=>r[_]!==y)))return s;r=c;let p;if(n.key&&n.debug&&(p=Date.now()),s=t(...c),n==null||n.onChange==null||n.onChange(s),n.key&&n.debug&&n!=null&&n.debug()){const y=Math.round((Date.now()-u)*100)/100,_=Math.round((Date.now()-p)*100)/100,x=_/16,w=(E,k)=>{for(E=String(E);E.length<k;)E=" "+E;return E};console.info(`%c ${w(_,5)} /${w(y,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*x,120))}deg 100% 31%);`,n?.key)}return s}}function qe(e,t,n,r){return{debug:()=>{var s;return(s=e?.debugAll)!=null?s:e[t]},key:!1,onChange:r}}function Dz(e,t,n,r){const s=()=>{var u;return(u=o.getValue())!=null?u:e.options.renderFallbackValue},o={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:s,getContext:Ze(()=>[e,n,t,o],(u,c,h,p)=>({table:u,column:c,row:h,cell:p,getValue:p.getValue,renderValue:p.renderValue}),qe(e.options,"debugCells"))};return e._features.forEach(u=>{u.createCell==null||u.createCell(o,n,t,e)},{}),o}function zz(e,t,n,r){var s,o;const c={...e._getDefaultColumnDef(),...t},h=c.accessorKey;let p=(s=(o=c.id)!=null?o:h?typeof String.prototype.replaceAll=="function"?h.replaceAll(".","_"):h.replace(/\./g,"_"):void 0)!=null?s:typeof c.header=="string"?c.header:void 0,y;if(c.accessorFn?y=c.accessorFn:h&&(h.includes(".")?y=x=>{let w=x;for(const k of h.split(".")){var E;w=(E=w)==null?void 0:E[k]}return w}:y=x=>x[c.accessorKey]),!p)throw new Error;let _={id:`${String(p)}`,accessorFn:y,parent:r,depth:n,columnDef:c,columns:[],getFlatColumns:Ze(()=>[!0],()=>{var x;return[_,...(x=_.columns)==null?void 0:x.flatMap(w=>w.getFlatColumns())]},qe(e.options,"debugColumns")),getLeafColumns:Ze(()=>[e._getOrderColumnsFn()],x=>{var w;if((w=_.columns)!=null&&w.length){let E=_.columns.flatMap(k=>k.getLeafColumns());return x(E)}return[_]},qe(e.options,"debugColumns"))};for(const x of e._features)x.createColumn==null||x.createColumn(_,e);return _}const hn="debugHeaders";function $w(e,t,n){var r;let o={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const u=[],c=h=>{h.subHeaders&&h.subHeaders.length&&h.subHeaders.map(c),u.push(h)};return c(o),u},getContext:()=>({table:e,header:o,column:t})};return e._features.forEach(u=>{u.createHeader==null||u.createHeader(o,e)}),o}const Bz={createTable:e=>{e.getHeaderGroups=Ze(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>{var o,u;const c=(o=r?.map(_=>n.find(x=>x.id===_)).filter(Boolean))!=null?o:[],h=(u=s?.map(_=>n.find(x=>x.id===_)).filter(Boolean))!=null?u:[],p=n.filter(_=>!(r!=null&&r.includes(_.id))&&!(s!=null&&s.includes(_.id)));return mh(t,[...c,...p,...h],e)},qe(e.options,hn)),e.getCenterHeaderGroups=Ze(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>(n=n.filter(o=>!(r!=null&&r.includes(o.id))&&!(s!=null&&s.includes(o.id))),mh(t,n,e,"center")),qe(e.options,hn)),e.getLeftHeaderGroups=Ze(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var s;const o=(s=r?.map(u=>n.find(c=>c.id===u)).filter(Boolean))!=null?s:[];return mh(t,o,e,"left")},qe(e.options,hn)),e.getRightHeaderGroups=Ze(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var s;const o=(s=r?.map(u=>n.find(c=>c.id===u)).filter(Boolean))!=null?s:[];return mh(t,o,e,"right")},qe(e.options,hn)),e.getFooterGroups=Ze(()=>[e.getHeaderGroups()],t=>[...t].reverse(),qe(e.options,hn)),e.getLeftFooterGroups=Ze(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),qe(e.options,hn)),e.getCenterFooterGroups=Ze(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),qe(e.options,hn)),e.getRightFooterGroups=Ze(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),qe(e.options,hn)),e.getFlatHeaders=Ze(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),qe(e.options,hn)),e.getLeftFlatHeaders=Ze(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),qe(e.options,hn)),e.getCenterFlatHeaders=Ze(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),qe(e.options,hn)),e.getRightFlatHeaders=Ze(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),qe(e.options,hn)),e.getCenterLeafHeaders=Ze(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),qe(e.options,hn)),e.getLeftLeafHeaders=Ze(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),qe(e.options,hn)),e.getRightLeafHeaders=Ze(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),qe(e.options,hn)),e.getLeafHeaders=Ze(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var s,o,u,c,h,p;return[...(s=(o=t[0])==null?void 0:o.headers)!=null?s:[],...(u=(c=n[0])==null?void 0:c.headers)!=null?u:[],...(h=(p=r[0])==null?void 0:p.headers)!=null?h:[]].map(y=>y.getLeafHeaders()).flat()},qe(e.options,hn))}};function mh(e,t,n,r){var s,o;let u=0;const c=function(x,w){w===void 0&&(w=1),u=Math.max(u,w),x.filter(E=>E.getIsVisible()).forEach(E=>{var k;(k=E.columns)!=null&&k.length&&c(E.columns,w+1)},0)};c(e);let h=[];const p=(x,w)=>{const E={depth:w,id:[r,`${w}`].filter(Boolean).join("_"),headers:[]},k=[];x.forEach(R=>{const N=[...k].reverse()[0],A=R.column.depth===E.depth;let I,D=!1;if(A&&R.column.parent?I=R.column.parent:(I=R.column,D=!0),N&&N?.column===I)N.subHeaders.push(R);else{const V=$w(n,I,{id:[r,w,I.id,R?.id].filter(Boolean).join("_"),isPlaceholder:D,placeholderId:D?`${k.filter(Z=>Z.column===I).length}`:void 0,depth:w,index:k.length});V.subHeaders.push(R),k.push(V)}E.headers.push(R),R.headerGroup=E}),h.push(E),w>0&&p(k,w-1)},y=t.map((x,w)=>$w(n,x,{depth:u,index:w}));p(y,u-1),h.reverse();const _=x=>x.filter(E=>E.column.getIsVisible()).map(E=>{let k=0,R=0,N=[0];E.subHeaders&&E.subHeaders.length?(N=[],_(E.subHeaders).forEach(I=>{let{colSpan:D,rowSpan:V}=I;k+=D,N.push(V)})):k=1;const A=Math.min(...N);return R=R+A,E.colSpan=k,E.rowSpan=R,{colSpan:k,rowSpan:R}});return _((s=(o=h[0])==null?void 0:o.headers)!=null?s:[]),h}const Fz=(e,t,n,r,s,o,u)=>{let c={id:t,index:r,original:n,depth:s,parentId:u,_valuesCache:{},_uniqueValuesCache:{},getValue:h=>{if(c._valuesCache.hasOwnProperty(h))return c._valuesCache[h];const p=e.getColumn(h);if(p!=null&&p.accessorFn)return c._valuesCache[h]=p.accessorFn(c.original,r),c._valuesCache[h]},getUniqueValues:h=>{if(c._uniqueValuesCache.hasOwnProperty(h))return c._uniqueValuesCache[h];const p=e.getColumn(h);if(p!=null&&p.accessorFn)return p.columnDef.getUniqueValues?(c._uniqueValuesCache[h]=p.columnDef.getUniqueValues(c.original,r),c._uniqueValuesCache[h]):(c._uniqueValuesCache[h]=[c.getValue(h)],c._uniqueValuesCache[h])},renderValue:h=>{var p;return(p=c.getValue(h))!=null?p:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Mz(c.subRows,h=>h.subRows),getParentRow:()=>c.parentId?e.getRow(c.parentId,!0):void 0,getParentRows:()=>{let h=[],p=c;for(;;){const y=p.getParentRow();if(!y)break;h.push(y),p=y}return h.reverse()},getAllCells:Ze(()=>[e.getAllLeafColumns()],h=>h.map(p=>Dz(e,c,p,p.id)),qe(e.options,"debugRows")),_getAllCellsByColumnId:Ze(()=>[c.getAllCells()],h=>h.reduce((p,y)=>(p[y.column.id]=y,p),{}),qe(e.options,"debugRows"))};for(let h=0;h<e._features.length;h++){const p=e._features[h];p==null||p.createRow==null||p.createRow(c,e)}return c},Vz={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},sk=(e,t,n)=>{var r,s;const o=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((s=e.getValue(t))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(o))};sk.autoRemove=e=>Br(e);const ok=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};ok.autoRemove=e=>Br(e);const ak=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===n?.toLowerCase()};ak.autoRemove=e=>Br(e);const lk=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};lk.autoRemove=e=>Br(e);const uk=(e,t,n)=>!n.some(r=>{var s;return!((s=e.getValue(t))!=null&&s.includes(r))});uk.autoRemove=e=>Br(e)||!(e!=null&&e.length);const ck=(e,t,n)=>n.some(r=>{var s;return(s=e.getValue(t))==null?void 0:s.includes(r)});ck.autoRemove=e=>Br(e)||!(e!=null&&e.length);const dk=(e,t,n)=>e.getValue(t)===n;dk.autoRemove=e=>Br(e);const hk=(e,t,n)=>e.getValue(t)==n;hk.autoRemove=e=>Br(e);const wy=(e,t,n)=>{let[r,s]=n;const o=e.getValue(t);return o>=r&&o<=s};wy.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,s=typeof n!="number"?parseFloat(n):n,o=t===null||Number.isNaN(r)?-1/0:r,u=n===null||Number.isNaN(s)?1/0:s;if(o>u){const c=o;o=u,u=c}return[o,u]};wy.autoRemove=e=>Br(e)||Br(e[0])&&Br(e[1]);const Vi={includesString:sk,includesStringSensitive:ok,equalsString:ak,arrIncludes:lk,arrIncludesAll:uk,arrIncludesSome:ck,equals:dk,weakEquals:hk,inNumberRange:wy};function Br(e){return e==null||e===""}const $z={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:nr("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n?.getValue(e.id);return typeof r=="string"?Vi.includesString:typeof r=="number"?Vi.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Vi.equals:Array.isArray(r)?Vi.arrIncludes:Vi.weakEquals},e.getFilterFn=()=>{var n,r;return Pf(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Vi[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,s;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const s=e.getFilterFn(),o=r?.find(y=>y.id===e.id),u=Fs(n,o?o.value:void 0);if(Uw(s,u,e)){var c;return(c=r?.filter(y=>y.id!==e.id))!=null?c:[]}const h={id:e.id,value:u};if(o){var p;return(p=r?.map(y=>y.id===e.id?h:y))!=null?p:[]}return r!=null&&r.length?[...r,h]:[h]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=s=>{var o;return(o=Fs(t,s))==null?void 0:o.filter(u=>{const c=n.find(h=>h.id===u.id);if(c){const h=c.getFilterFn();if(Uw(h,u.value,c))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Uw(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const Uz=(e,t,n)=>n.reduce((r,s)=>{const o=s.getValue(e);return r+(typeof o=="number"?o:0)},0),Hz=(e,t,n)=>{let r;return n.forEach(s=>{const o=s.getValue(e);o!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}),r},Wz=(e,t,n)=>{let r;return n.forEach(s=>{const o=s.getValue(e);o!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}),r},Gz=(e,t,n)=>{let r,s;return n.forEach(o=>{const u=o.getValue(e);u!=null&&(r===void 0?u>=u&&(r=s=u):(r>u&&(r=u),s<u&&(s=u)))}),[r,s]},Zz=(e,t)=>{let n=0,r=0;if(t.forEach(s=>{let o=s.getValue(e);o!=null&&(o=+o)>=o&&(++n,r+=o)}),n)return r/n},qz=(e,t)=>{if(!t.length)return;const n=t.map(o=>o.getValue(e));if(!Oz(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),s=n.sort((o,u)=>o-u);return n.length%2!==0?s[r]:(s[r-1]+s[r])/2},Kz=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),Yz=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,Xz=(e,t)=>t.length,Gm={sum:Uz,min:Hz,max:Wz,extent:Gz,mean:Zz,median:qz,unique:Kz,uniqueCount:Yz,count:Xz},Jz={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:nr("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n?.getValue(e.id);if(typeof r=="number")return Gm.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Gm.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return Pf(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:Gm[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var s;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((s=n.subRows)!=null&&s.length)}}};function Qz(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(o=>!t.includes(o.id));return n==="remove"?r:[...t.map(o=>e.find(u=>u.id===o)).filter(Boolean),...r]}const eB={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:nr("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=Ze(n=>[ec(t,n)],n=>n.findIndex(r=>r.id===e.id),qe(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=ec(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const s=ec(t,n);return((r=s[s.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=Ze(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>s=>{let o=[];if(!(t!=null&&t.length))o=s;else{const u=[...t],c=[...s];for(;c.length&&u.length;){const h=u.shift(),p=c.findIndex(y=>y.id===h);p>-1&&o.push(c.splice(p,1)[0])}o=[...o,...c]}return Qz(o,n,r)},qe(e.options,"debugTable"))}},Zm=()=>({left:[],right:[]}),tB={getInitialState:e=>({columnPinning:Zm(),...e}),getDefaultOptions:e=>({onColumnPinningChange:nr("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(s=>s.id).filter(Boolean);t.setColumnPinning(s=>{var o,u;if(n==="right"){var c,h;return{left:((c=s?.left)!=null?c:[]).filter(_=>!(r!=null&&r.includes(_))),right:[...((h=s?.right)!=null?h:[]).filter(_=>!(r!=null&&r.includes(_))),...r]}}if(n==="left"){var p,y;return{left:[...((p=s?.left)!=null?p:[]).filter(_=>!(r!=null&&r.includes(_))),...r],right:((y=s?.right)!=null?y:[]).filter(_=>!(r!=null&&r.includes(_)))}}return{left:((o=s?.left)!=null?o:[]).filter(_=>!(r!=null&&r.includes(_))),right:((u=s?.right)!=null?u:[]).filter(_=>!(r!=null&&r.includes(_)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var s,o,u;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((o=(u=t.options.enableColumnPinning)!=null?u:t.options.enablePinning)!=null?o:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(c=>c.id),{left:r,right:s}=t.getState().columnPinning,o=n.some(c=>r?.includes(c)),u=n.some(c=>s?.includes(c));return o?"left":u?"right":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();return s?(n=(r=t.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=Ze(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,s)=>{const o=[...r??[],...s??[]];return n.filter(u=>!o.includes(u.column.id))},qe(t.options,"debugRows")),e.getLeftVisibleCells=Ze(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(o=>n.find(u=>u.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),qe(t.options,"debugRows")),e.getRightVisibleCells=Ze(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(o=>n.find(u=>u.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),qe(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?Zm():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:Zm())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var s,o;return!!((s=r.left)!=null&&s.length||(o=r.right)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=Ze(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),qe(e.options,"debugColumns")),e.getRightLeafColumns=Ze(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),qe(e.options,"debugColumns")),e.getCenterLeafColumns=Ze(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const s=[...n??[],...r??[]];return t.filter(o=>!s.includes(o.id))},qe(e.options,"debugColumns"))}};function nB(e){return e||(typeof document<"u"?document:null)}const gh={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},qm=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),rB={getDefaultColumnDef:()=>gh,getInitialState:e=>({columnSizing:{},columnSizingInfo:qm(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:nr("columnSizing",e),onColumnSizingInfoChange:nr("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,s;const o=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:gh.minSize,(r=o??e.columnDef.size)!=null?r:gh.size),(s=e.columnDef.maxSize)!=null?s:gh.maxSize)},e.getStart=Ze(n=>[n,ec(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((s,o)=>s+o.getSize(),0),qe(t.options,"debugColumns")),e.getAfter=Ze(n=>[n,ec(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((s,o)=>s+o.getSize(),0),qe(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...s}=n;return s})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var o;n+=(o=s.column.getSize())!=null?o:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),s=r?.getCanResize();return o=>{if(!r||!s||(o.persist==null||o.persist(),Km(o)&&o.touches&&o.touches.length>1))return;const u=e.getSize(),c=e?e.getLeafHeaders().map(N=>[N.column.id,N.column.getSize()]):[[r.id,r.getSize()]],h=Km(o)?Math.round(o.touches[0].clientX):o.clientX,p={},y=(N,A)=>{typeof A=="number"&&(t.setColumnSizingInfo(I=>{var D,V;const Z=t.options.columnResizeDirection==="rtl"?-1:1,M=(A-((D=I?.startOffset)!=null?D:0))*Z,B=Math.max(M/((V=I?.startSize)!=null?V:0),-.999999);return I.columnSizingStart.forEach(ee=>{let[ce,U]=ee;p[ce]=Math.round(Math.max(U+U*B,0)*100)/100}),{...I,deltaOffset:M,deltaPercentage:B}}),(t.options.columnResizeMode==="onChange"||N==="end")&&t.setColumnSizing(I=>({...I,...p})))},_=N=>y("move",N),x=N=>{y("end",N),t.setColumnSizingInfo(A=>({...A,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},w=nB(n),E={moveHandler:N=>_(N.clientX),upHandler:N=>{w?.removeEventListener("mousemove",E.moveHandler),w?.removeEventListener("mouseup",E.upHandler),x(N.clientX)}},k={moveHandler:N=>(N.cancelable&&(N.preventDefault(),N.stopPropagation()),_(N.touches[0].clientX),!1),upHandler:N=>{var A;w?.removeEventListener("touchmove",k.moveHandler),w?.removeEventListener("touchend",k.upHandler),N.cancelable&&(N.preventDefault(),N.stopPropagation()),x((A=N.touches[0])==null?void 0:A.clientX)}},R=iB()?{passive:!1}:!1;Km(o)?(w?.addEventListener("touchmove",k.moveHandler,R),w?.addEventListener("touchend",k.upHandler,R)):(w?.addEventListener("mousemove",E.moveHandler,R),w?.addEventListener("mouseup",E.upHandler,R)),t.setColumnSizingInfo(N=>({...N,startOffset:h,startSize:u,deltaOffset:0,deltaPercentage:0,columnSizingStart:c,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?qm():(n=e.initialState.columnSizingInfo)!=null?n:qm())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0}}};let vh=null;function iB(){if(typeof vh=="boolean")return vh;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return vh=e,vh}function Km(e){return e.type==="touchstart"}const sB={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:nr("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const s=e.columns;return(n=s.length?s.some(o=>o.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Ze(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),qe(t.options,"debugRows")),e.getVisibleCells=Ze(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,s)=>[...n,...r,...s],qe(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>Ze(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),qe(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((s,o)=>({...s,[o.id]:n||!(o.getCanHide!=null&&o.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function ec(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const oB={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},aB={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:nr("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,s,o;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&((o=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?o:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Vi.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return Pf(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Vi[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},lB={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:nr("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var s,o;e.setExpanded(r?{}:(s=(o=e.initialState)==null?void 0:o.expanded)!=null?s:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(o=>{const u=o.split(".");r=Math.max(r,u.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var s;const o=r===!0?!0:!!(r!=null&&r[e.id]);let u={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(c=>{u[c]=!0}):u=r,n=(s=n)!=null?s:!o,!o&&n)return{...u,[e.id]:!0};if(o&&!n){const{[e.id]:c,...h}=u;return h}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r?.[e.id])},e.getCanExpand=()=>{var n,r,s;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((s=e.subRows)!=null&&s.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},sv=0,ov=10,Ym=()=>({pageIndex:sv,pageSize:ov}),uB={getInitialState:e=>({...e,pagination:{...Ym(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:nr("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const s=o=>Fs(r,o);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(s)},e.resetPagination=r=>{var s;e.setPagination(r?Ym():(s=e.initialState.pagination)!=null?s:Ym())},e.setPageIndex=r=>{e.setPagination(s=>{let o=Fs(r,s.pageIndex);const u=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return o=Math.max(0,Math.min(o,u)),{...s,pageIndex:o}})},e.resetPageIndex=r=>{var s,o;e.setPageIndex(r?sv:(s=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?s:sv)},e.resetPageSize=r=>{var s,o;e.setPageSize(r?ov:(s=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?s:ov)},e.setPageSize=r=>{e.setPagination(s=>{const o=Math.max(1,Fs(r,s.pageSize)),u=s.pageSize*s.pageIndex,c=Math.floor(u/o);return{...s,pageIndex:c,pageSize:o}})},e.setPageCount=r=>e.setPagination(s=>{var o;let u=Fs(r,(o=e.options.pageCount)!=null?o:-1);return typeof u=="number"&&(u=Math.max(-1,u)),{...s,pageCount:u}}),e.getPageOptions=Ze(()=>[e.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((o,u)=>u)),s},qe(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,s=e.getPageCount();return s===-1?!0:s===0?!1:r<s-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},Xm=()=>({top:[],bottom:[]}),cB={getInitialState:e=>({rowPinning:Xm(),...e}),getDefaultOptions:e=>({onRowPinningChange:nr("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,s)=>{const o=r?e.getLeafRows().map(h=>{let{id:p}=h;return p}):[],u=s?e.getParentRows().map(h=>{let{id:p}=h;return p}):[],c=new Set([...u,e.id,...o]);t.setRowPinning(h=>{var p,y;if(n==="bottom"){var _,x;return{top:((_=h?.top)!=null?_:[]).filter(k=>!(c!=null&&c.has(k))),bottom:[...((x=h?.bottom)!=null?x:[]).filter(k=>!(c!=null&&c.has(k))),...Array.from(c)]}}if(n==="top"){var w,E;return{top:[...((w=h?.top)!=null?w:[]).filter(k=>!(c!=null&&c.has(k))),...Array.from(c)],bottom:((E=h?.bottom)!=null?E:[]).filter(k=>!(c!=null&&c.has(k)))}}return{top:((p=h?.top)!=null?p:[]).filter(k=>!(c!=null&&c.has(k))),bottom:((y=h?.bottom)!=null?y:[]).filter(k=>!(c!=null&&c.has(k)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:s}=t.options;return typeof r=="function"?r(e):(n=r??s)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:s}=t.getState().rowPinning,o=n.some(c=>r?.includes(c)),u=n.some(c=>s?.includes(c));return o?"top":u?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();if(!s)return-1;const o=(n=s==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(u=>{let{id:c}=u;return c});return(r=o?.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?Xm():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:Xm())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var s,o;return!!((s=r.top)!=null&&s.length||(o=r.bottom)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var s;return((s=e.options.keepPinnedRows)==null||s?(n??[]).map(u=>{const c=e.getRow(u,!0);return c.getIsAllParentsExpanded()?c:null}):(n??[]).map(u=>t.find(c=>c.id===u))).filter(Boolean).map(u=>({...u,position:r}))},e.getTopRows=Ze(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),qe(e.options,"debugRows")),e.getBottomRows=Ze(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),qe(e.options,"debugRows")),e.getCenterRows=Ze(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const s=new Set([...n??[],...r??[]]);return t.filter(o=>!s.has(o.id))},qe(e.options,"debugRows"))}},dB={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:nr("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},s=e.getPreGroupedRowModel().flatRows;return t?s.forEach(o=>{o.getCanSelect()&&(r[o.id]=!0)}):s.forEach(o=>{delete r[o.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),s={...n};return e.getRowModel().rows.forEach(o=>{av(s,o.id,r,!0,e)}),s}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Ze(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?Jm(e,n):{rows:[],flatRows:[],rowsById:{}},qe(e.options,"debugTable")),e.getFilteredSelectedRowModel=Ze(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?Jm(e,n):{rows:[],flatRows:[],rowsById:{}},qe(e.options,"debugTable")),e.getGroupedSelectedRowModel=Ze(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?Jm(e,n):{rows:[],flatRows:[],rowsById:{}},qe(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(s=>s.getCanSelect()&&!n[s.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(s=>!n[s.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const s=e.getIsSelected();t.setRowSelection(o=>{var u;if(n=typeof n<"u"?n:!s,e.getCanSelect()&&s===n)return o;const c={...o};return av(c,e.id,n,(u=r?.selectChildren)!=null?u:!0,t),c})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return by(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return lv(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return lv(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var s;n&&e.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},av=(e,t,n,r,s)=>{var o;const u=s.getRow(t,!0);n?(u.getCanMultiSelect()||Object.keys(e).forEach(c=>delete e[c]),u.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(o=u.subRows)!=null&&o.length&&u.getCanSelectSubRows()&&u.subRows.forEach(c=>av(e,c.id,n,r,s))};function Jm(e,t){const n=e.getState().rowSelection,r=[],s={},o=function(u,c){return u.map(h=>{var p;const y=by(h,n);if(y&&(r.push(h),s[h.id]=h),(p=h.subRows)!=null&&p.length&&(h={...h,subRows:o(h.subRows)}),y)return h}).filter(Boolean)};return{rows:o(t.rows),flatRows:r,rowsById:s}}function by(e,t){var n;return(n=t[e.id])!=null?n:!1}function lv(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let s=!0,o=!1;return e.subRows.forEach(u=>{if(!(o&&!s)&&(u.getCanSelect()&&(by(u,t)?o=!0:s=!1),u.subRows&&u.subRows.length)){const c=lv(u,t);c==="all"?o=!0:(c==="some"&&(o=!0),s=!1)}}),s?"all":o?"some":!1}const uv=/([0-9]+)/gm,hB=(e,t,n)=>fk(Hs(e.getValue(n)).toLowerCase(),Hs(t.getValue(n)).toLowerCase()),fB=(e,t,n)=>fk(Hs(e.getValue(n)),Hs(t.getValue(n))),pB=(e,t,n)=>Sy(Hs(e.getValue(n)).toLowerCase(),Hs(t.getValue(n)).toLowerCase()),mB=(e,t,n)=>Sy(Hs(e.getValue(n)),Hs(t.getValue(n))),gB=(e,t,n)=>{const r=e.getValue(n),s=t.getValue(n);return r>s?1:r<s?-1:0},vB=(e,t,n)=>Sy(e.getValue(n),t.getValue(n));function Sy(e,t){return e===t?0:e>t?1:-1}function Hs(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function fk(e,t){const n=e.split(uv).filter(Boolean),r=t.split(uv).filter(Boolean);for(;n.length&&r.length;){const s=n.shift(),o=r.shift(),u=parseInt(s,10),c=parseInt(o,10),h=[u,c].sort();if(isNaN(h[0])){if(s>o)return 1;if(o>s)return-1;continue}if(isNaN(h[1]))return isNaN(u)?-1:1;if(u>c)return 1;if(c>u)return-1}return n.length-r.length}const Mu={alphanumeric:hB,alphanumericCaseSensitive:fB,text:pB,textCaseSensitive:mB,datetime:gB,basic:vB},yB={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:nr("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of n){const o=s?.getValue(e.id);if(Object.prototype.toString.call(o)==="[object Date]")return Mu.datetime;if(typeof o=="string"&&(r=!0,o.split(uv).length>1))return Mu.alphanumeric}return r?Mu.text:Mu.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof n?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return Pf(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Mu[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const s=e.getNextSortingOrder(),o=typeof n<"u"&&n!==null;t.setSorting(u=>{const c=u?.find(w=>w.id===e.id),h=u?.findIndex(w=>w.id===e.id);let p=[],y,_=o?n:s==="desc";if(u!=null&&u.length&&e.getCanMultiSort()&&r?c?y="toggle":y="add":u!=null&&u.length&&h!==u.length-1?y="replace":c?y="toggle":y="replace",y==="toggle"&&(o||s||(y="remove")),y==="add"){var x;p=[...u,{id:e.id,desc:_}],p.splice(0,p.length-((x=t.options.maxMultiSortColCount)!=null?x:Number.MAX_SAFE_INTEGER))}else y==="toggle"?p=u.map(w=>w.id===e.id?{...w,desc:_}:w):y==="remove"?p=u.filter(w=>w.id!==e.id):p=[{id:e.id,desc:_}];return p})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,s;const o=e.getFirstSortDir(),u=e.getIsSorted();return u?u!==o&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(s=t.options.enableMultiRemove)!=null)||s)?!1:u==="desc"?"asc":"desc":o},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(s=>s.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},_B=[Bz,sB,eB,tB,Vz,$z,oB,aB,yB,Jz,lB,uB,cB,dB,rB];function xB(e){var t,n;const r=[..._B,...(t=e._features)!=null?t:[]];let s={_features:r};const o=s._features.reduce((x,w)=>Object.assign(x,w.getDefaultOptions==null?void 0:w.getDefaultOptions(s)),{}),u=x=>s.options.mergeOptions?s.options.mergeOptions(o,x):{...o,...x};let h={...{},...(n=e.initialState)!=null?n:{}};s._features.forEach(x=>{var w;h=(w=x.getInitialState==null?void 0:x.getInitialState(h))!=null?w:h});const p=[];let y=!1;const _={_features:r,options:{...o,...e},initialState:h,_queue:x=>{p.push(x),y||(y=!0,Promise.resolve().then(()=>{for(;p.length;)p.shift()();y=!1}).catch(w=>setTimeout(()=>{throw w})))},reset:()=>{s.setState(s.initialState)},setOptions:x=>{const w=Fs(x,s.options);s.options=u(w)},getState:()=>s.options.state,setState:x=>{s.options.onStateChange==null||s.options.onStateChange(x)},_getRowId:(x,w,E)=>{var k;return(k=s.options.getRowId==null?void 0:s.options.getRowId(x,w,E))!=null?k:`${E?[E.id,w].join("."):w}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(x,w)=>{let E=(w?s.getPrePaginationRowModel():s.getRowModel()).rowsById[x];if(!E&&(E=s.getCoreRowModel().rowsById[x],!E))throw new Error;return E},_getDefaultColumnDef:Ze(()=>[s.options.defaultColumn],x=>{var w;return x=(w=x)!=null?w:{},{header:E=>{const k=E.header.column.columnDef;return k.accessorKey?k.accessorKey:k.accessorFn?k.id:null},cell:E=>{var k,R;return(k=(R=E.renderValue())==null||R.toString==null?void 0:R.toString())!=null?k:null},...s._features.reduce((E,k)=>Object.assign(E,k.getDefaultColumnDef==null?void 0:k.getDefaultColumnDef()),{}),...x}},qe(e,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:Ze(()=>[s._getColumnDefs()],x=>{const w=function(E,k,R){return R===void 0&&(R=0),E.map(N=>{const A=zz(s,N,R,k),I=N;return A.columns=I.columns?w(I.columns,A,R+1):[],A})};return w(x)},qe(e,"debugColumns")),getAllFlatColumns:Ze(()=>[s.getAllColumns()],x=>x.flatMap(w=>w.getFlatColumns()),qe(e,"debugColumns")),_getAllFlatColumnsById:Ze(()=>[s.getAllFlatColumns()],x=>x.reduce((w,E)=>(w[E.id]=E,w),{}),qe(e,"debugColumns")),getAllLeafColumns:Ze(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(x,w)=>{let E=x.flatMap(k=>k.getLeafColumns());return w(E)},qe(e,"debugColumns")),getColumn:x=>s._getAllFlatColumnsById()[x]};Object.assign(s,_);for(let x=0;x<s._features.length;x++){const w=s._features[x];w==null||w.createTable==null||w.createTable(s)}return s}function wB(){return e=>Ze(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(s,o,u){o===void 0&&(o=0);const c=[];for(let p=0;p<s.length;p++){const y=Fz(e,e._getRowId(s[p],p,u),s[p],p,o,void 0,u?.id);if(n.flatRows.push(y),n.rowsById[y.id]=y,c.push(y),e.options.getSubRows){var h;y.originalSubRows=e.options.getSubRows(s[p],p),(h=y.originalSubRows)!=null&&h.length&&(y.subRows=r(y.originalSubRows,o+1,y))}}return c};return n.rows=r(t),n},qe(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function Hw(e,t){return e?bB(e)?C.createElement(e,t):e:null}function bB(e){return SB(e)||typeof e=="function"||CB(e)}function SB(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function CB(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function kB(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=C.useState(()=>({current:xB(t)})),[r,s]=C.useState(()=>n.current.initialState);return n.current.setOptions(o=>({...o,...e,state:{...r,...e.state},onStateChange:u=>{s(u),e.onStateChange==null||e.onStateChange(u)}})),n.current}const pk=C.forwardRef(({className:e,...t},n)=>m.jsx("div",{className:"relative w-full overflow-auto",children:m.jsx("table",{ref:n,className:Me("w-full caption-bottom text-sm",e),...t})}));pk.displayName="Table";const mk=C.forwardRef(({className:e,...t},n)=>m.jsx("thead",{ref:n,className:Me("[&_tr]:border-b",e),...t}));mk.displayName="TableHeader";const gk=C.forwardRef(({className:e,...t},n)=>m.jsx("tbody",{ref:n,className:Me("[&_tr:last-child]:border-0",e),...t}));gk.displayName="TableBody";const PB=C.forwardRef(({className:e,...t},n)=>m.jsx("tfoot",{ref:n,className:Me("border-t bg-muted/50 font-medium [&_tr]:last:border-b-0",e),...t}));PB.displayName="TableFooter";const Uu=C.forwardRef(({className:e,...t},n)=>m.jsx("tr",{ref:n,className:Me("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Uu.displayName="TableRow";const vk=C.forwardRef(({className:e,...t},n)=>m.jsx("th",{ref:n,className:Me("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));vk.displayName="TableHead";const Ah=C.forwardRef(({className:e,...t},n)=>m.jsx("td",{ref:n,className:Me("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ah.displayName="TableCell";const EB=C.forwardRef(({className:e,...t},n)=>m.jsx("caption",{ref:n,className:Me("mt-4 text-sm text-muted-foreground",e),...t}));EB.displayName="TableCaption";function yk({columns:e,data:t,loading:n,onRowClick:r}){const s=kB({data:t,columns:e,getCoreRowModel:wB()});return m.jsx("div",{className:"rounded-md border border-border/50 bg-card/30",children:m.jsxs(pk,{children:[m.jsx(mk,{className:"bg-muted/50",children:s.getHeaderGroups().map(o=>m.jsx(Uu,{className:"hover:bg-transparent",children:o.headers.map(u=>m.jsx(vk,{className:`text-[10px] font-black uppercase tracking-widest text-muted-foreground h-10 px-4 ${u.column.columnDef.meta?.className||""}`,children:u.isPlaceholder?null:Hw(u.column.columnDef.header,u.getContext())},u.id))},o.id))}),m.jsx(gk,{children:n?m.jsx(Uu,{children:m.jsx(Ah,{colSpan:e.length,className:"h-24 text-center",children:m.jsx("div",{className:"flex items-center justify-center gap-2 text-muted-foreground animate-pulse",children:m.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Hydrating Dataset..."})})})}):s.getRowModel().rows?.length?s.getRowModel().rows.map(o=>m.jsx(Uu,{"data-state":o.getIsSelected()&&"selected",className:`border-b border-border/40 hover:bg-muted/30 transition-colors ${r?"cursor-pointer active:scale-[0.99] active:bg-muted/50":""}`,onClick:()=>r&&r(o.original),children:o.getVisibleCells().map(u=>m.jsx(Ah,{className:`px-4 py-3 ${u.column.columnDef.meta?.className||""}`,children:Hw(u.column.columnDef.cell,u.getContext())},u.id))},o.id)):m.jsx(Uu,{children:m.jsx(Ah,{colSpan:e.length,className:"h-24 text-center text-muted-foreground",children:"No results found."})})})]})})}var TB=xc[" useId ".trim().toString()]||(()=>{}),RB=0;function ml(e){const[t,n]=C.useState(TB());return tn(()=>{n(r=>r??String(RB++))},[e]),t?`radix-${t}`:""}var LB=xc[" useInsertionEffect ".trim().toString()]||tn;function cv({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,u]=NB({defaultProp:t,onChange:n}),c=e!==void 0,h=c?e:s;{const y=C.useRef(e!==void 0);C.useEffect(()=>{const _=y.current;_!==c&&console.warn(`${r} is changing from ${_?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=c},[c,r])}const p=C.useCallback(y=>{if(c){const _=AB(y)?y(e):y;_!==e&&u.current?.(_)}else o(y)},[c,e,o,u]);return[h,p]}function NB({defaultProp:e,onChange:t}){const[n,r]=C.useState(e),s=C.useRef(n),o=C.useRef(t);return LB(()=>{o.current=t},[t]),C.useEffect(()=>{s.current!==n&&(o.current?.(n),s.current=n)},[n,s]),[n,r,o]}function AB(e){return typeof e=="function"}function jB(e,t=globalThis?.document){const n=On(e);C.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var IB="DismissableLayer",dv="dismissableLayer.update",OB="dismissableLayer.pointerDownOutside",MB="dismissableLayer.focusOutside",Ww,_k=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Cy=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:u,onDismiss:c,...h}=e,p=C.useContext(_k),[y,_]=C.useState(null),x=y?.ownerDocument??globalThis?.document,[,w]=C.useState({}),E=dt(t,M=>_(M)),k=Array.from(p.layers),[R]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),N=k.indexOf(R),A=y?k.indexOf(y):-1,I=p.layersWithOutsidePointerEventsDisabled.size>0,D=A>=N,V=BB(M=>{const B=M.target,ee=[...p.branches].some(ce=>ce.contains(B));!D||ee||(s?.(M),u?.(M),M.defaultPrevented||c?.())},x),Z=FB(M=>{const B=M.target;[...p.branches].some(ce=>ce.contains(B))||(o?.(M),u?.(M),M.defaultPrevented||c?.())},x);return jB(M=>{A===p.layers.size-1&&(r?.(M),!M.defaultPrevented&&c&&(M.preventDefault(),c()))},x),C.useEffect(()=>{if(y)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Ww=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),Gw(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Ww)}},[y,x,n,p]),C.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),Gw())},[y,p]),C.useEffect(()=>{const M=()=>w({});return document.addEventListener(dv,M),()=>document.removeEventListener(dv,M)},[]),m.jsx(ot.div,{...h,ref:E,style:{pointerEvents:I?D?"auto":"none":void 0,...e.style},onFocusCapture:st(e.onFocusCapture,Z.onFocusCapture),onBlurCapture:st(e.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:st(e.onPointerDownCapture,V.onPointerDownCapture)})});Cy.displayName=IB;var DB="DismissableLayerBranch",zB=C.forwardRef((e,t)=>{const n=C.useContext(_k),r=C.useRef(null),s=dt(t,r);return C.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),m.jsx(ot.div,{...e,ref:s})});zB.displayName=DB;function BB(e,t=globalThis?.document){const n=On(e),r=C.useRef(!1),s=C.useRef(()=>{});return C.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let h=function(){xk(OB,n,p,{discrete:!0})};const p={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=h,t.addEventListener("click",s.current,{once:!0})):h()}else t.removeEventListener("click",s.current);r.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function FB(e,t=globalThis?.document){const n=On(e),r=C.useRef(!1);return C.useEffect(()=>{const s=o=>{o.target&&!r.current&&xk(MB,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Gw(){const e=new CustomEvent(dv);document.dispatchEvent(e)}function xk(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?lz(s,o):s.dispatchEvent(o)}var Qm="focusScope.autoFocusOnMount",eg="focusScope.autoFocusOnUnmount",Zw={bubbles:!1,cancelable:!0},VB="FocusScope",ky=C.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...u}=e,[c,h]=C.useState(null),p=On(s),y=On(o),_=C.useRef(null),x=dt(t,k=>h(k)),w=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let k=function(I){if(w.paused||!c)return;const D=I.target;c.contains(D)?_.current=D:js(_.current,{select:!0})},R=function(I){if(w.paused||!c)return;const D=I.relatedTarget;D!==null&&(c.contains(D)||js(_.current,{select:!0}))},N=function(I){if(document.activeElement===document.body)for(const V of I)V.removedNodes.length>0&&js(c)};document.addEventListener("focusin",k),document.addEventListener("focusout",R);const A=new MutationObserver(N);return c&&A.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",R),A.disconnect()}}},[r,c,w.paused]),C.useEffect(()=>{if(c){Kw.add(w);const k=document.activeElement;if(!c.contains(k)){const N=new CustomEvent(Qm,Zw);c.addEventListener(Qm,p),c.dispatchEvent(N),N.defaultPrevented||($B(ZB(wk(c)),{select:!0}),document.activeElement===k&&js(c))}return()=>{c.removeEventListener(Qm,p),setTimeout(()=>{const N=new CustomEvent(eg,Zw);c.addEventListener(eg,y),c.dispatchEvent(N),N.defaultPrevented||js(k??document.body,{select:!0}),c.removeEventListener(eg,y),Kw.remove(w)},0)}}},[c,p,y,w]);const E=C.useCallback(k=>{if(!n&&!r||w.paused)return;const R=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,N=document.activeElement;if(R&&N){const A=k.currentTarget,[I,D]=UB(A);I&&D?!k.shiftKey&&N===D?(k.preventDefault(),n&&js(I,{select:!0})):k.shiftKey&&N===I&&(k.preventDefault(),n&&js(D,{select:!0})):N===A&&k.preventDefault()}},[n,r,w.paused]);return m.jsx(ot.div,{tabIndex:-1,...u,ref:x,onKeyDown:E})});ky.displayName=VB;function $B(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(js(r,{select:t}),document.activeElement!==n)return}function UB(e){const t=wk(e),n=qw(t,e),r=qw(t.reverse(),e);return[n,r]}function wk(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function qw(e,t){for(const n of e)if(!HB(n,{upTo:t}))return n}function HB(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function WB(e){return e instanceof HTMLInputElement&&"select"in e}function js(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&WB(e)&&t&&e.select()}}var Kw=GB();function GB(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Yw(e,t),e.unshift(t)},remove(t){e=Yw(e,t),e[0]?.resume()}}}function Yw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function ZB(e){return e.filter(t=>t.tagName!=="A")}var qB="Portal",Py=C.forwardRef((e,t)=>{const{container:n,...r}=e,[s,o]=C.useState(!1);tn(()=>o(!0),[]);const u=n||s&&globalThis?.document?.body;return u?vT.createPortal(m.jsx(ot.div,{...r,ref:t}),u):null});Py.displayName=qB;var tg=0;function bk(){C.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Xw()),document.body.insertAdjacentElement("beforeend",e[1]??Xw()),tg++,()=>{tg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),tg--}},[])}function Xw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var jh="right-scroll-bar-position",Ih="width-before-scroll-bar",KB="with-scroll-bars-hidden",YB="--removed-body-scroll-bar-size";function ng(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function XB(e,t){var n=C.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var JB=typeof window<"u"?C.useLayoutEffect:C.useEffect,Jw=new WeakMap;function QB(e,t){var n=XB(null,function(r){return e.forEach(function(s){return ng(s,r)})});return JB(function(){var r=Jw.get(n);if(r){var s=new Set(r),o=new Set(e),u=n.current;s.forEach(function(c){o.has(c)||ng(c,null)}),o.forEach(function(c){s.has(c)||ng(c,u)})}Jw.set(n,e)},[e]),n}function eF(e){return e}function tF(e,t){t===void 0&&(t=eF);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var u=t(o,r);return n.push(u),function(){n=n.filter(function(c){return c!==u})}},assignSyncMedium:function(o){for(r=!0;n.length;){var u=n;n=[],u.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){r=!0;var u=[];if(n.length){var c=n;n=[],c.forEach(o),u=n}var h=function(){var y=u;u=[],y.forEach(o)},p=function(){return Promise.resolve().then(h)};p(),n={push:function(y){u.push(y),p()},filter:function(y){return u=u.filter(y),n}}}};return s}function nF(e){e===void 0&&(e={});var t=tF(null);return t.options=oi({async:!0,ssr:!1},e),t}var Sk=function(e){var t=e.sideCar,n=Cl(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,oi({},n))};Sk.isSideCarExport=!0;function rF(e,t){return e.useMedium(t),Sk}var Ck=nF(),rg=function(){},Ef=C.forwardRef(function(e,t){var n=C.useRef(null),r=C.useState({onScrollCapture:rg,onWheelCapture:rg,onTouchMoveCapture:rg}),s=r[0],o=r[1],u=e.forwardProps,c=e.children,h=e.className,p=e.removeScrollBar,y=e.enabled,_=e.shards,x=e.sideCar,w=e.noRelative,E=e.noIsolation,k=e.inert,R=e.allowPinchZoom,N=e.as,A=N===void 0?"div":N,I=e.gapMode,D=Cl(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),V=x,Z=QB([n,t]),M=oi(oi({},D),s);return C.createElement(C.Fragment,null,y&&C.createElement(V,{sideCar:Ck,removeScrollBar:p,shards:_,noRelative:w,noIsolation:E,inert:k,setCallbacks:o,allowPinchZoom:!!R,lockRef:n,gapMode:I}),u?C.cloneElement(C.Children.only(c),oi(oi({},M),{ref:Z})):C.createElement(A,oi({},M,{className:h,ref:Z}),c))});Ef.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ef.classNames={fullWidth:Ih,zeroRight:jh};var iF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function sF(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=iF();return t&&e.setAttribute("nonce",t),e}function oF(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function aF(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var lF=function(){var e=0,t=null;return{add:function(n){e==0&&(t=sF())&&(oF(t,n),aF(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},uF=function(){var e=lF();return function(t,n){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},kk=function(){var e=uF(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},cF={left:0,top:0,right:0,gap:0},ig=function(e){return parseInt(e||"",10)||0},dF=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[ig(n),ig(r),ig(s)]},hF=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return cF;var t=dF(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},fF=kk(),gl="data-scroll-locked",pF=function(e,t,n,r){var s=e.left,o=e.top,u=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(KB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(gl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(jh,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Ih,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(jh," .").concat(jh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ih," .").concat(Ih,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(gl,`] {
    `).concat(YB,": ").concat(c,`px;
  }
`)},Qw=function(){var e=parseInt(document.body.getAttribute(gl)||"0",10);return isFinite(e)?e:0},mF=function(){C.useEffect(function(){return document.body.setAttribute(gl,(Qw()+1).toString()),function(){var e=Qw()-1;e<=0?document.body.removeAttribute(gl):document.body.setAttribute(gl,e.toString())}},[])},gF=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;mF();var o=C.useMemo(function(){return hF(s)},[s]);return C.createElement(fF,{styles:pF(o,!t,s,n?"":"!important")})},hv=!1;if(typeof window<"u")try{var yh=Object.defineProperty({},"passive",{get:function(){return hv=!0,!0}});window.addEventListener("test",yh,yh),window.removeEventListener("test",yh,yh)}catch{hv=!1}var Xa=hv?{passive:!1}:!1,vF=function(e){return e.tagName==="TEXTAREA"},Pk=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!vF(e)&&n[t]==="visible")},yF=function(e){return Pk(e,"overflowY")},_F=function(e){return Pk(e,"overflowX")},eb=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Ek(e,r);if(s){var o=Tk(e,r),u=o[1],c=o[2];if(u>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},xF=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},wF=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Ek=function(e,t){return e==="v"?yF(t):_F(t)},Tk=function(e,t){return e==="v"?xF(t):wF(t)},bF=function(e,t){return e==="h"&&t==="rtl"?-1:1},SF=function(e,t,n,r,s){var o=bF(e,window.getComputedStyle(t).direction),u=o*r,c=n.target,h=t.contains(c),p=!1,y=u>0,_=0,x=0;do{if(!c)break;var w=Tk(e,c),E=w[0],k=w[1],R=w[2],N=k-R-o*E;(E||N)&&Ek(e,c)&&(_+=N,x+=E);var A=c.parentNode;c=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!h&&c!==document.body||h&&(t.contains(c)||t===c));return(y&&Math.abs(_)<1||!y&&Math.abs(x)<1)&&(p=!0),p},_h=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},tb=function(e){return[e.deltaX,e.deltaY]},nb=function(e){return e&&"current"in e?e.current:e},CF=function(e,t){return e[0]===t[0]&&e[1]===t[1]},kF=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},PF=0,Ja=[];function EF(e){var t=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),s=C.useState(PF++)[0],o=C.useState(kk)[0],u=C.useRef(e);C.useEffect(function(){u.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var k=TR([e.lockRef.current],(e.shards||[]).map(nb),!0).filter(Boolean);return k.forEach(function(R){return R.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),k.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var c=C.useCallback(function(k,R){if("touches"in k&&k.touches.length===2||k.type==="wheel"&&k.ctrlKey)return!u.current.allowPinchZoom;var N=_h(k),A=n.current,I="deltaX"in k?k.deltaX:A[0]-N[0],D="deltaY"in k?k.deltaY:A[1]-N[1],V,Z=k.target,M=Math.abs(I)>Math.abs(D)?"h":"v";if("touches"in k&&M==="h"&&Z.type==="range")return!1;var B=window.getSelection(),ee=B&&B.anchorNode,ce=ee?ee===Z||ee.contains(Z):!1;if(ce)return!1;var U=eb(M,Z);if(!U)return!0;if(U?V=M:(V=M==="v"?"h":"v",U=eb(M,Z)),!U)return!1;if(!r.current&&"changedTouches"in k&&(I||D)&&(r.current=V),!V)return!0;var G=r.current||V;return SF(G,R,k,G==="h"?I:D)},[]),h=C.useCallback(function(k){var R=k;if(!(!Ja.length||Ja[Ja.length-1]!==o)){var N="deltaY"in R?tb(R):_h(R),A=t.current.filter(function(V){return V.name===R.type&&(V.target===R.target||R.target===V.shadowParent)&&CF(V.delta,N)})[0];if(A&&A.should){R.cancelable&&R.preventDefault();return}if(!A){var I=(u.current.shards||[]).map(nb).filter(Boolean).filter(function(V){return V.contains(R.target)}),D=I.length>0?c(R,I[0]):!u.current.noIsolation;D&&R.cancelable&&R.preventDefault()}}},[]),p=C.useCallback(function(k,R,N,A){var I={name:k,delta:R,target:N,should:A,shadowParent:TF(N)};t.current.push(I),setTimeout(function(){t.current=t.current.filter(function(D){return D!==I})},1)},[]),y=C.useCallback(function(k){n.current=_h(k),r.current=void 0},[]),_=C.useCallback(function(k){p(k.type,tb(k),k.target,c(k,e.lockRef.current))},[]),x=C.useCallback(function(k){p(k.type,_h(k),k.target,c(k,e.lockRef.current))},[]);C.useEffect(function(){return Ja.push(o),e.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:x}),document.addEventListener("wheel",h,Xa),document.addEventListener("touchmove",h,Xa),document.addEventListener("touchstart",y,Xa),function(){Ja=Ja.filter(function(k){return k!==o}),document.removeEventListener("wheel",h,Xa),document.removeEventListener("touchmove",h,Xa),document.removeEventListener("touchstart",y,Xa)}},[]);var w=e.removeScrollBar,E=e.inert;return C.createElement(C.Fragment,null,E?C.createElement(o,{styles:kF(s)}):null,w?C.createElement(gF,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function TF(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const RF=rF(Ck,EF);var Ey=C.forwardRef(function(e,t){return C.createElement(Ef,oi({},e,{ref:t,sideCar:RF}))});Ey.classNames=Ef.classNames;var LF=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Qa=new WeakMap,xh=new WeakMap,wh={},sg=0,Rk=function(e){return e&&(e.host||Rk(e.parentNode))},NF=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Rk(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},AF=function(e,t,n,r){var s=NF(t,Array.isArray(e)?e:[e]);wh[n]||(wh[n]=new WeakMap);var o=wh[n],u=[],c=new Set,h=new Set(s),p=function(_){!_||c.has(_)||(c.add(_),p(_.parentNode))};s.forEach(p);var y=function(_){!_||h.has(_)||Array.prototype.forEach.call(_.children,function(x){if(c.has(x))y(x);else try{var w=x.getAttribute(r),E=w!==null&&w!=="false",k=(Qa.get(x)||0)+1,R=(o.get(x)||0)+1;Qa.set(x,k),o.set(x,R),u.push(x),k===1&&E&&xh.set(x,!0),R===1&&x.setAttribute(n,"true"),E||x.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",x,N)}})};return y(t),c.clear(),sg++,function(){u.forEach(function(_){var x=Qa.get(_)-1,w=o.get(_)-1;Qa.set(_,x),o.set(_,w),x||(xh.has(_)||_.removeAttribute(r),xh.delete(_)),w||_.removeAttribute(n)}),sg--,sg||(Qa=new WeakMap,Qa=new WeakMap,xh=new WeakMap,wh={})}},Lk=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=LF(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),AF(r,s,n,"aria-hidden")):function(){return null}};function jF(e){const t=IF(e),n=C.forwardRef((r,s)=>{const{children:o,...u}=r,c=C.Children.toArray(o),h=c.find(MF);if(h){const p=h.props.children,y=c.map(_=>_===h?C.Children.count(p)>1?C.Children.only(null):C.isValidElement(p)?p.props.children:null:_);return m.jsx(t,{...u,ref:s,children:C.isValidElement(p)?C.cloneElement(p,void 0,y):null})}return m.jsx(t,{...u,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function IF(e){const t=C.forwardRef((n,r)=>{const{children:s,...o}=n;if(C.isValidElement(s)){const u=zF(s),c=DF(o,s.props);return s.type!==C.Fragment&&(c.ref=r?Ll(r,u):u),C.cloneElement(s,c)}return C.Children.count(s)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var OF=Symbol("radix.slottable");function MF(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===OF}function DF(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...c)=>{const h=o(...c);return s(...c),h}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function zF(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Tf="Dialog",[Nk]=jc(Tf),[BF,Ur]=Nk(Tf),Ak=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:u=!0}=e,c=C.useRef(null),h=C.useRef(null),[p,y]=cv({prop:r,defaultProp:s??!1,onChange:o,caller:Tf});return m.jsx(BF,{scope:t,triggerRef:c,contentRef:h,contentId:ml(),titleId:ml(),descriptionId:ml(),open:p,onOpenChange:y,onOpenToggle:C.useCallback(()=>y(_=>!_),[y]),modal:u,children:n})};Ak.displayName=Tf;var jk="DialogTrigger",FF=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ur(jk,n),o=dt(t,s.triggerRef);return m.jsx(ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ly(s.open),...r,ref:o,onClick:st(e.onClick,s.onOpenToggle)})});FF.displayName=jk;var Ty="DialogPortal",[VF,Ik]=Nk(Ty,{forceMount:void 0}),Ok=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=Ur(Ty,t);return m.jsx(VF,{scope:t,forceMount:n,children:C.Children.map(r,u=>m.jsx(Ys,{present:n||o.open,children:m.jsx(Py,{asChild:!0,container:s,children:u})}))})};Ok.displayName=Ty;var tf="DialogOverlay",Mk=C.forwardRef((e,t)=>{const n=Ik(tf,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Ur(tf,e.__scopeDialog);return o.modal?m.jsx(Ys,{present:r||o.open,children:m.jsx(UF,{...s,ref:t})}):null});Mk.displayName=tf;var $F=jF("DialogOverlay.RemoveScroll"),UF=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ur(tf,n);return m.jsx(Ey,{as:$F,allowPinchZoom:!0,shards:[s.contentRef],children:m.jsx(ot.div,{"data-state":Ly(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Go="DialogContent",Dk=C.forwardRef((e,t)=>{const n=Ik(Go,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Ur(Go,e.__scopeDialog);return m.jsx(Ys,{present:r||o.open,children:o.modal?m.jsx(HF,{...s,ref:t}):m.jsx(WF,{...s,ref:t})})});Dk.displayName=Go;var HF=C.forwardRef((e,t)=>{const n=Ur(Go,e.__scopeDialog),r=C.useRef(null),s=dt(t,n.contentRef,r);return C.useEffect(()=>{const o=r.current;if(o)return Lk(o)},[]),m.jsx(zk,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:st(e.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:st(e.onPointerDownOutside,o=>{const u=o.detail.originalEvent,c=u.button===0&&u.ctrlKey===!0;(u.button===2||c)&&o.preventDefault()}),onFocusOutside:st(e.onFocusOutside,o=>o.preventDefault())})}),WF=C.forwardRef((e,t)=>{const n=Ur(Go,e.__scopeDialog),r=C.useRef(!1),s=C.useRef(!1);return m.jsx(zk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const u=o.target;n.triggerRef.current?.contains(u)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),zk=C.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...u}=e,c=Ur(Go,n),h=C.useRef(null),p=dt(t,h);return bk(),m.jsxs(m.Fragment,{children:[m.jsx(ky,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:m.jsx(Cy,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Ly(c.open),...u,ref:p,onDismiss:()=>c.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(GF,{titleId:c.titleId}),m.jsx(qF,{contentRef:h,descriptionId:c.descriptionId})]})]})}),Ry="DialogTitle",Bk=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ur(Ry,n);return m.jsx(ot.h2,{id:s.titleId,...r,ref:t})});Bk.displayName=Ry;var Fk="DialogDescription",Vk=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ur(Fk,n);return m.jsx(ot.p,{id:s.descriptionId,...r,ref:t})});Vk.displayName=Fk;var $k="DialogClose",Uk=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ur($k,n);return m.jsx(ot.button,{type:"button",...r,ref:t,onClick:st(e.onClick,()=>s.onOpenChange(!1))})});Uk.displayName=$k;function Ly(e){return e?"open":"closed"}var Hk="DialogTitleWarning",[Q4,Wk]=hz(Hk,{contentName:Go,titleName:Ry,docsSlug:"dialog"}),GF=({titleId:e})=>{const t=Wk(Hk),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return C.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},ZF="DialogDescriptionWarning",qF=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Wk(ZF).contentName}}.`;return C.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},KF=Ak,YF=Ok,Gk=Mk,Zk=Dk,qk=Bk,Kk=Vk,XF=Uk;const fv=KF,JF=YF,Yk=C.forwardRef(({className:e,...t},n)=>m.jsx(Gk,{className:Me("fixed inset-0 z-50 bg-black/40 backdrop-blur-[2px] data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Yk.displayName=Gk.displayName;const QF=cy("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),nf=C.forwardRef(({side:e="right",className:t,children:n,...r},s)=>m.jsxs(JF,{children:[m.jsx(Yk,{}),m.jsxs(Zk,{ref:s,className:Me(QF({side:e}),t),...r,children:[n,m.jsxs(XF,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[m.jsx(Ag,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));nf.displayName=Zk.displayName;const Xk=({className:e,...t})=>m.jsx("div",{className:Me("flex flex-col space-y-2 text-center sm:text-left",e),...t});Xk.displayName="SheetHeader";const Jk=C.forwardRef(({className:e,...t},n)=>m.jsx(qk,{ref:n,className:Me("text-lg font-semibold text-foreground",e),...t}));Jk.displayName=qk.displayName;const eV=C.forwardRef(({className:e,...t},n)=>m.jsx(Kk,{ref:n,className:Me("text-sm text-muted-foreground",e),...t}));eV.displayName=Kk.displayName;function rb(e){const t=tV(e),n=C.forwardRef((r,s)=>{const{children:o,...u}=r,c=C.Children.toArray(o),h=c.find(rV);if(h){const p=h.props.children,y=c.map(_=>_===h?C.Children.count(p)>1?C.Children.only(null):C.isValidElement(p)?p.props.children:null:_);return m.jsx(t,{...u,ref:s,children:C.isValidElement(p)?C.cloneElement(p,void 0,y):null})}return m.jsx(t,{...u,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function tV(e){const t=C.forwardRef((n,r)=>{const{children:s,...o}=n;if(C.isValidElement(s)){const u=sV(s),c=iV(o,s.props);return s.type!==C.Fragment&&(c.ref=r?Ll(r,u):u),C.cloneElement(s,c)}return C.Children.count(s)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var nV=Symbol("radix.slottable");function rV(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===nV}function iV(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...c)=>{const h=o(...c);return s(...c),h}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function sV(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function oV(e){const t=e+"CollectionProvider",[n,r]=jc(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=k=>{const{scope:R,children:N}=k,A=In.useRef(null),I=In.useRef(new Map).current;return m.jsx(s,{scope:R,itemMap:I,collectionRef:A,children:N})};u.displayName=t;const c=e+"CollectionSlot",h=rb(c),p=In.forwardRef((k,R)=>{const{scope:N,children:A}=k,I=o(c,N),D=dt(R,I.collectionRef);return m.jsx(h,{ref:D,children:A})});p.displayName=c;const y=e+"CollectionItemSlot",_="data-radix-collection-item",x=rb(y),w=In.forwardRef((k,R)=>{const{scope:N,children:A,...I}=k,D=In.useRef(null),V=dt(R,D),Z=o(y,N);return In.useEffect(()=>(Z.itemMap.set(D,{ref:D,...I}),()=>{Z.itemMap.delete(D)})),m.jsx(x,{[_]:"",ref:V,children:A})});w.displayName=y;function E(k){const R=o(e+"CollectionConsumer",k);return In.useCallback(()=>{const A=R.collectionRef.current;if(!A)return[];const I=Array.from(A.querySelectorAll(`[${_}]`));return Array.from(R.itemMap.values()).sort((Z,M)=>I.indexOf(Z.ref.current)-I.indexOf(M.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:u,Slot:p,ItemSlot:w},E,r]}const aV=["top","right","bottom","left"],Ws=Math.min,Xn=Math.max,rf=Math.round,bh=Math.floor,ui=e=>({x:e,y:e}),lV={left:"right",right:"left",bottom:"top",top:"bottom"},uV={start:"end",end:"start"};function pv(e,t,n){return Xn(e,Ws(t,n))}function Gi(e,t){return typeof e=="function"?e(t):e}function Zi(e){return e.split("-")[0]}function jl(e){return e.split("-")[1]}function Ny(e){return e==="x"?"y":"x"}function Ay(e){return e==="y"?"height":"width"}const cV=new Set(["top","bottom"]);function ai(e){return cV.has(Zi(e))?"y":"x"}function jy(e){return Ny(ai(e))}function dV(e,t,n){n===void 0&&(n=!1);const r=jl(e),s=jy(e),o=Ay(s);let u=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(u=sf(u)),[u,sf(u)]}function hV(e){const t=sf(e);return[mv(e),t,mv(t)]}function mv(e){return e.replace(/start|end/g,t=>uV[t])}const ib=["left","right"],sb=["right","left"],fV=["top","bottom"],pV=["bottom","top"];function mV(e,t,n){switch(e){case"top":case"bottom":return n?t?sb:ib:t?ib:sb;case"left":case"right":return t?fV:pV;default:return[]}}function gV(e,t,n,r){const s=jl(e);let o=mV(Zi(e),n==="start",r);return s&&(o=o.map(u=>u+"-"+s),t&&(o=o.concat(o.map(mv)))),o}function sf(e){return e.replace(/left|right|bottom|top/g,t=>lV[t])}function vV(e){return{top:0,right:0,bottom:0,left:0,...e}}function Qk(e){return typeof e!="number"?vV(e):{top:e,right:e,bottom:e,left:e}}function of(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function ob(e,t,n){let{reference:r,floating:s}=e;const o=ai(t),u=jy(t),c=Ay(u),h=Zi(t),p=o==="y",y=r.x+r.width/2-s.width/2,_=r.y+r.height/2-s.height/2,x=r[c]/2-s[c]/2;let w;switch(h){case"top":w={x:y,y:r.y-s.height};break;case"bottom":w={x:y,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:_};break;case"left":w={x:r.x-s.width,y:_};break;default:w={x:r.x,y:r.y}}switch(jl(t)){case"start":w[u]-=x*(n&&p?-1:1);break;case"end":w[u]+=x*(n&&p?-1:1);break}return w}const yV=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:u}=n,c=o.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(t));let p=await u.getElementRects({reference:e,floating:t,strategy:s}),{x:y,y:_}=ob(p,r,h),x=r,w={},E=0;for(let k=0;k<c.length;k++){const{name:R,fn:N}=c[k],{x:A,y:I,data:D,reset:V}=await N({x:y,y:_,initialPlacement:r,placement:x,strategy:s,middlewareData:w,rects:p,platform:u,elements:{reference:e,floating:t}});y=A??y,_=I??_,w={...w,[R]:{...w[R],...D}},V&&E<=50&&(E++,typeof V=="object"&&(V.placement&&(x=V.placement),V.rects&&(p=V.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:s}):V.rects),{x:y,y:_}=ob(p,x,h)),k=-1)}return{x:y,y:_,placement:x,strategy:s,middlewareData:w}};async function mc(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:u,elements:c,strategy:h}=e,{boundary:p="clippingAncestors",rootBoundary:y="viewport",elementContext:_="floating",altBoundary:x=!1,padding:w=0}=Gi(t,e),E=Qk(w),R=c[x?_==="floating"?"reference":"floating":_],N=of(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(R)))==null||n?R:R.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:p,rootBoundary:y,strategy:h})),A=_==="floating"?{x:r,y:s,width:u.floating.width,height:u.floating.height}:u.reference,I=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),D=await(o.isElement==null?void 0:o.isElement(I))?await(o.getScale==null?void 0:o.getScale(I))||{x:1,y:1}:{x:1,y:1},V=of(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:A,offsetParent:I,strategy:h}):A);return{top:(N.top-V.top+E.top)/D.y,bottom:(V.bottom-N.bottom+E.bottom)/D.y,left:(N.left-V.left+E.left)/D.x,right:(V.right-N.right+E.right)/D.x}}const _V=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:u,elements:c,middlewareData:h}=t,{element:p,padding:y=0}=Gi(e,t)||{};if(p==null)return{};const _=Qk(y),x={x:n,y:r},w=jy(s),E=Ay(w),k=await u.getDimensions(p),R=w==="y",N=R?"top":"left",A=R?"bottom":"right",I=R?"clientHeight":"clientWidth",D=o.reference[E]+o.reference[w]-x[w]-o.floating[E],V=x[w]-o.reference[w],Z=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let M=Z?Z[I]:0;(!M||!await(u.isElement==null?void 0:u.isElement(Z)))&&(M=c.floating[I]||o.floating[E]);const B=D/2-V/2,ee=M/2-k[E]/2-1,ce=Ws(_[N],ee),U=Ws(_[A],ee),G=ce,ge=M-k[E]-U,le=M/2-k[E]/2+B,be=pv(G,le,ge),ye=!h.arrow&&jl(s)!=null&&le!==be&&o.reference[E]/2-(le<G?ce:U)-k[E]/2<0,_e=ye?le<G?le-G:le-ge:0;return{[w]:x[w]+_e,data:{[w]:be,centerOffset:le-be-_e,...ye&&{alignmentOffset:_e}},reset:ye}}}),xV=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:u,initialPlacement:c,platform:h,elements:p}=t,{mainAxis:y=!0,crossAxis:_=!0,fallbackPlacements:x,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:k=!0,...R}=Gi(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const N=Zi(s),A=ai(c),I=Zi(c)===c,D=await(h.isRTL==null?void 0:h.isRTL(p.floating)),V=x||(I||!k?[sf(c)]:hV(c)),Z=E!=="none";!x&&Z&&V.push(...gV(c,k,E,D));const M=[c,...V],B=await mc(t,R),ee=[];let ce=((r=o.flip)==null?void 0:r.overflows)||[];if(y&&ee.push(B[N]),_){const le=dV(s,u,D);ee.push(B[le[0]],B[le[1]])}if(ce=[...ce,{placement:s,overflows:ee}],!ee.every(le=>le<=0)){var U,G;const le=(((U=o.flip)==null?void 0:U.index)||0)+1,be=M[le];if(be&&(!(_==="alignment"?A!==ai(be):!1)||ce.every(F=>ai(F.placement)===A?F.overflows[0]>0:!0)))return{data:{index:le,overflows:ce},reset:{placement:be}};let ye=(G=ce.filter(_e=>_e.overflows[0]<=0).sort((_e,F)=>_e.overflows[1]-F.overflows[1])[0])==null?void 0:G.placement;if(!ye)switch(w){case"bestFit":{var ge;const _e=(ge=ce.filter(F=>{if(Z){const me=ai(F.placement);return me===A||me==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(me=>me>0).reduce((me,re)=>me+re,0)]).sort((F,me)=>F[1]-me[1])[0])==null?void 0:ge[0];_e&&(ye=_e);break}case"initialPlacement":ye=c;break}if(s!==ye)return{reset:{placement:ye}}}return{}}}};function ab(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function lb(e){return aV.some(t=>e[t]>=0)}const wV=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Gi(e,t);switch(r){case"referenceHidden":{const o=await mc(t,{...s,elementContext:"reference"}),u=ab(o,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:lb(u)}}}case"escaped":{const o=await mc(t,{...s,altBoundary:!0}),u=ab(o,n.floating);return{data:{escapedOffsets:u,escaped:lb(u)}}}default:return{}}}}},eP=new Set(["left","top"]);async function bV(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),u=Zi(n),c=jl(n),h=ai(n)==="y",p=eP.has(u)?-1:1,y=o&&h?-1:1,_=Gi(t,e);let{mainAxis:x,crossAxis:w,alignmentAxis:E}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return c&&typeof E=="number"&&(w=c==="end"?E*-1:E),h?{x:w*y,y:x*p}:{x:x*p,y:w*y}}const SV=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:u,middlewareData:c}=t,h=await bV(t,e);return u===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+h.x,y:o+h.y,data:{...h,placement:u}}}}},CV=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:u=!1,limiter:c={fn:R=>{let{x:N,y:A}=R;return{x:N,y:A}}},...h}=Gi(e,t),p={x:n,y:r},y=await mc(t,h),_=ai(Zi(s)),x=Ny(_);let w=p[x],E=p[_];if(o){const R=x==="y"?"top":"left",N=x==="y"?"bottom":"right",A=w+y[R],I=w-y[N];w=pv(A,w,I)}if(u){const R=_==="y"?"top":"left",N=_==="y"?"bottom":"right",A=E+y[R],I=E-y[N];E=pv(A,E,I)}const k=c.fn({...t,[x]:w,[_]:E});return{...k,data:{x:k.x-n,y:k.y-r,enabled:{[x]:o,[_]:u}}}}}},kV=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:u}=t,{offset:c=0,mainAxis:h=!0,crossAxis:p=!0}=Gi(e,t),y={x:n,y:r},_=ai(s),x=Ny(_);let w=y[x],E=y[_];const k=Gi(c,t),R=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(h){const I=x==="y"?"height":"width",D=o.reference[x]-o.floating[I]+R.mainAxis,V=o.reference[x]+o.reference[I]-R.mainAxis;w<D?w=D:w>V&&(w=V)}if(p){var N,A;const I=x==="y"?"width":"height",D=eP.has(Zi(s)),V=o.reference[_]-o.floating[I]+(D&&((N=u.offset)==null?void 0:N[_])||0)+(D?0:R.crossAxis),Z=o.reference[_]+o.reference[I]+(D?0:((A=u.offset)==null?void 0:A[_])||0)-(D?R.crossAxis:0);E<V?E=V:E>Z&&(E=Z)}return{[x]:w,[_]:E}}}},PV=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:u,elements:c}=t,{apply:h=()=>{},...p}=Gi(e,t),y=await mc(t,p),_=Zi(s),x=jl(s),w=ai(s)==="y",{width:E,height:k}=o.floating;let R,N;_==="top"||_==="bottom"?(R=_,N=x===(await(u.isRTL==null?void 0:u.isRTL(c.floating))?"start":"end")?"left":"right"):(N=_,R=x==="end"?"top":"bottom");const A=k-y.top-y.bottom,I=E-y.left-y.right,D=Ws(k-y[R],A),V=Ws(E-y[N],I),Z=!t.middlewareData.shift;let M=D,B=V;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(B=I),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(M=A),Z&&!x){const ce=Xn(y.left,0),U=Xn(y.right,0),G=Xn(y.top,0),ge=Xn(y.bottom,0);w?B=E-2*(ce!==0||U!==0?ce+U:Xn(y.left,y.right)):M=k-2*(G!==0||ge!==0?G+ge:Xn(y.top,y.bottom))}await h({...t,availableWidth:B,availableHeight:M});const ee=await u.getDimensions(c.floating);return E!==ee.width||k!==ee.height?{reset:{rects:!0}}:{}}}};function Rf(){return typeof window<"u"}function Il(e){return tP(e)?(e.nodeName||"").toLowerCase():"#document"}function tr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fi(e){var t;return(t=(tP(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function tP(e){return Rf()?e instanceof Node||e instanceof tr(e).Node:!1}function Vr(e){return Rf()?e instanceof Element||e instanceof tr(e).Element:!1}function di(e){return Rf()?e instanceof HTMLElement||e instanceof tr(e).HTMLElement:!1}function ub(e){return!Rf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof tr(e).ShadowRoot}const EV=new Set(["inline","contents"]);function Ic(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=$r(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!EV.has(s)}const TV=new Set(["table","td","th"]);function RV(e){return TV.has(Il(e))}const LV=[":popover-open",":modal"];function Lf(e){return LV.some(t=>{try{return e.matches(t)}catch{return!1}})}const NV=["transform","translate","scale","rotate","perspective"],AV=["transform","translate","scale","rotate","perspective","filter"],jV=["paint","layout","strict","content"];function Iy(e){const t=Oy(),n=Vr(e)?$r(e):e;return NV.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||AV.some(r=>(n.willChange||"").includes(r))||jV.some(r=>(n.contain||"").includes(r))}function IV(e){let t=Gs(e);for(;di(t)&&!bl(t);){if(Iy(t))return t;if(Lf(t))return null;t=Gs(t)}return null}function Oy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const OV=new Set(["html","body","#document"]);function bl(e){return OV.has(Il(e))}function $r(e){return tr(e).getComputedStyle(e)}function Nf(e){return Vr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Gs(e){if(Il(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ub(e)&&e.host||fi(e);return ub(t)?t.host:t}function nP(e){const t=Gs(e);return bl(t)?e.ownerDocument?e.ownerDocument.body:e.body:di(t)&&Ic(t)?t:nP(t)}function gc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=nP(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),u=tr(s);if(o){const c=gv(u);return t.concat(u,u.visualViewport||[],Ic(s)?s:[],c&&n?gc(c):[])}return t.concat(s,gc(s,[],n))}function gv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function rP(e){const t=$r(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=di(e),o=s?e.offsetWidth:n,u=s?e.offsetHeight:r,c=rf(n)!==o||rf(r)!==u;return c&&(n=o,r=u),{width:n,height:r,$:c}}function My(e){return Vr(e)?e:e.contextElement}function vl(e){const t=My(e);if(!di(t))return ui(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=rP(t);let u=(o?rf(n.width):n.width)/r,c=(o?rf(n.height):n.height)/s;return(!u||!Number.isFinite(u))&&(u=1),(!c||!Number.isFinite(c))&&(c=1),{x:u,y:c}}const MV=ui(0);function iP(e){const t=tr(e);return!Oy()||!t.visualViewport?MV:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function DV(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==tr(e)?!1:t}function Zo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=My(e);let u=ui(1);t&&(r?Vr(r)&&(u=vl(r)):u=vl(e));const c=DV(o,n,r)?iP(o):ui(0);let h=(s.left+c.x)/u.x,p=(s.top+c.y)/u.y,y=s.width/u.x,_=s.height/u.y;if(o){const x=tr(o),w=r&&Vr(r)?tr(r):r;let E=x,k=gv(E);for(;k&&r&&w!==E;){const R=vl(k),N=k.getBoundingClientRect(),A=$r(k),I=N.left+(k.clientLeft+parseFloat(A.paddingLeft))*R.x,D=N.top+(k.clientTop+parseFloat(A.paddingTop))*R.y;h*=R.x,p*=R.y,y*=R.x,_*=R.y,h+=I,p+=D,E=tr(k),k=gv(E)}}return of({width:y,height:_,x:h,y:p})}function Af(e,t){const n=Nf(e).scrollLeft;return t?t.left+n:Zo(fi(e)).left+n}function sP(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Af(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function zV(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",u=fi(r),c=t?Lf(t.floating):!1;if(r===u||c&&o)return n;let h={scrollLeft:0,scrollTop:0},p=ui(1);const y=ui(0),_=di(r);if((_||!_&&!o)&&((Il(r)!=="body"||Ic(u))&&(h=Nf(r)),di(r))){const w=Zo(r);p=vl(r),y.x=w.x+r.clientLeft,y.y=w.y+r.clientTop}const x=u&&!_&&!o?sP(u,h):ui(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-h.scrollLeft*p.x+y.x+x.x,y:n.y*p.y-h.scrollTop*p.y+y.y+x.y}}function BV(e){return Array.from(e.getClientRects())}function FV(e){const t=fi(e),n=Nf(e),r=e.ownerDocument.body,s=Xn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Xn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let u=-n.scrollLeft+Af(e);const c=-n.scrollTop;return $r(r).direction==="rtl"&&(u+=Xn(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:u,y:c}}const cb=25;function VV(e,t){const n=tr(e),r=fi(e),s=n.visualViewport;let o=r.clientWidth,u=r.clientHeight,c=0,h=0;if(s){o=s.width,u=s.height;const y=Oy();(!y||y&&t==="fixed")&&(c=s.offsetLeft,h=s.offsetTop)}const p=Af(r);if(p<=0){const y=r.ownerDocument,_=y.body,x=getComputedStyle(_),w=y.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,E=Math.abs(r.clientWidth-_.clientWidth-w);E<=cb&&(o-=E)}else p<=cb&&(o+=p);return{width:o,height:u,x:c,y:h}}const $V=new Set(["absolute","fixed"]);function UV(e,t){const n=Zo(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=di(e)?vl(e):ui(1),u=e.clientWidth*o.x,c=e.clientHeight*o.y,h=s*o.x,p=r*o.y;return{width:u,height:c,x:h,y:p}}function db(e,t,n){let r;if(t==="viewport")r=VV(e,n);else if(t==="document")r=FV(fi(e));else if(Vr(t))r=UV(t,n);else{const s=iP(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return of(r)}function oP(e,t){const n=Gs(e);return n===t||!Vr(n)||bl(n)?!1:$r(n).position==="fixed"||oP(n,t)}function HV(e,t){const n=t.get(e);if(n)return n;let r=gc(e,[],!1).filter(c=>Vr(c)&&Il(c)!=="body"),s=null;const o=$r(e).position==="fixed";let u=o?Gs(e):e;for(;Vr(u)&&!bl(u);){const c=$r(u),h=Iy(u);!h&&c.position==="fixed"&&(s=null),(o?!h&&!s:!h&&c.position==="static"&&!!s&&$V.has(s.position)||Ic(u)&&!h&&oP(e,u))?r=r.filter(y=>y!==u):s=c,u=Gs(u)}return t.set(e,r),r}function WV(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const u=[...n==="clippingAncestors"?Lf(t)?[]:HV(t,this._c):[].concat(n),r],c=u[0],h=u.reduce((p,y)=>{const _=db(t,y,s);return p.top=Xn(_.top,p.top),p.right=Ws(_.right,p.right),p.bottom=Ws(_.bottom,p.bottom),p.left=Xn(_.left,p.left),p},db(t,c,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function GV(e){const{width:t,height:n}=rP(e);return{width:t,height:n}}function ZV(e,t,n){const r=di(t),s=fi(t),o=n==="fixed",u=Zo(e,!0,o,t);let c={scrollLeft:0,scrollTop:0};const h=ui(0);function p(){h.x=Af(s)}if(r||!r&&!o)if((Il(t)!=="body"||Ic(s))&&(c=Nf(t)),r){const w=Zo(t,!0,o,t);h.x=w.x+t.clientLeft,h.y=w.y+t.clientTop}else s&&p();o&&!r&&s&&p();const y=s&&!r&&!o?sP(s,c):ui(0),_=u.left+c.scrollLeft-h.x-y.x,x=u.top+c.scrollTop-h.y-y.y;return{x:_,y:x,width:u.width,height:u.height}}function og(e){return $r(e).position==="static"}function hb(e,t){if(!di(e)||$r(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return fi(e)===n&&(n=n.ownerDocument.body),n}function aP(e,t){const n=tr(e);if(Lf(e))return n;if(!di(e)){let s=Gs(e);for(;s&&!bl(s);){if(Vr(s)&&!og(s))return s;s=Gs(s)}return n}let r=hb(e,t);for(;r&&RV(r)&&og(r);)r=hb(r,t);return r&&bl(r)&&og(r)&&!Iy(r)?n:r||IV(e)||n}const qV=async function(e){const t=this.getOffsetParent||aP,n=this.getDimensions,r=await n(e.floating);return{reference:ZV(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function KV(e){return $r(e).direction==="rtl"}const YV={convertOffsetParentRelativeRectToViewportRelativeRect:zV,getDocumentElement:fi,getClippingRect:WV,getOffsetParent:aP,getElementRects:qV,getClientRects:BV,getDimensions:GV,getScale:vl,isElement:Vr,isRTL:KV};function lP(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function XV(e,t){let n=null,r;const s=fi(e);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function u(c,h){c===void 0&&(c=!1),h===void 0&&(h=1),o();const p=e.getBoundingClientRect(),{left:y,top:_,width:x,height:w}=p;if(c||t(),!x||!w)return;const E=bh(_),k=bh(s.clientWidth-(y+x)),R=bh(s.clientHeight-(_+w)),N=bh(y),I={rootMargin:-E+"px "+-k+"px "+-R+"px "+-N+"px",threshold:Xn(0,Ws(1,h))||1};let D=!0;function V(Z){const M=Z[0].intersectionRatio;if(M!==h){if(!D)return u();M?u(!1,M):r=setTimeout(()=>{u(!1,1e-7)},1e3)}M===1&&!lP(p,e.getBoundingClientRect())&&u(),D=!1}try{n=new IntersectionObserver(V,{...I,root:s.ownerDocument})}catch{n=new IntersectionObserver(V,I)}n.observe(e)}return u(!0),o}function JV(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,p=My(e),y=s||o?[...p?gc(p):[],...gc(t)]:[];y.forEach(N=>{s&&N.addEventListener("scroll",n,{passive:!0}),o&&N.addEventListener("resize",n)});const _=p&&c?XV(p,n):null;let x=-1,w=null;u&&(w=new ResizeObserver(N=>{let[A]=N;A&&A.target===p&&w&&(w.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var I;(I=w)==null||I.observe(t)})),n()}),p&&!h&&w.observe(p),w.observe(t));let E,k=h?Zo(e):null;h&&R();function R(){const N=Zo(e);k&&!lP(k,N)&&n(),k=N,E=requestAnimationFrame(R)}return n(),()=>{var N;y.forEach(A=>{s&&A.removeEventListener("scroll",n),o&&A.removeEventListener("resize",n)}),_?.(),(N=w)==null||N.disconnect(),w=null,h&&cancelAnimationFrame(E)}}const QV=SV,e5=CV,t5=xV,n5=PV,r5=wV,fb=_V,i5=kV,s5=(e,t,n)=>{const r=new Map,s={platform:YV,...n},o={...s.platform,_c:r};return yV(e,t,{...s,platform:o})};var o5=typeof document<"u",a5=function(){},Oh=o5?C.useLayoutEffect:a5;function af(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!af(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!af(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function uP(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function pb(e,t){const n=uP(e);return Math.round(t*n)/n}function ag(e){const t=C.useRef(e);return Oh(()=>{t.current=e}),t}function l5(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:u}={},transform:c=!0,whileElementsMounted:h,open:p}=e,[y,_]=C.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[x,w]=C.useState(r);af(x,r)||w(r);const[E,k]=C.useState(null),[R,N]=C.useState(null),A=C.useCallback(F=>{F!==Z.current&&(Z.current=F,k(F))},[]),I=C.useCallback(F=>{F!==M.current&&(M.current=F,N(F))},[]),D=o||E,V=u||R,Z=C.useRef(null),M=C.useRef(null),B=C.useRef(y),ee=h!=null,ce=ag(h),U=ag(s),G=ag(p),ge=C.useCallback(()=>{if(!Z.current||!M.current)return;const F={placement:t,strategy:n,middleware:x};U.current&&(F.platform=U.current),s5(Z.current,M.current,F).then(me=>{const re={...me,isPositioned:G.current!==!1};le.current&&!af(B.current,re)&&(B.current=re,Sl.flushSync(()=>{_(re)}))})},[x,t,n,U,G]);Oh(()=>{p===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,_(F=>({...F,isPositioned:!1})))},[p]);const le=C.useRef(!1);Oh(()=>(le.current=!0,()=>{le.current=!1}),[]),Oh(()=>{if(D&&(Z.current=D),V&&(M.current=V),D&&V){if(ce.current)return ce.current(D,V,ge);ge()}},[D,V,ge,ce,ee]);const be=C.useMemo(()=>({reference:Z,floating:M,setReference:A,setFloating:I}),[A,I]),ye=C.useMemo(()=>({reference:D,floating:V}),[D,V]),_e=C.useMemo(()=>{const F={position:n,left:0,top:0};if(!ye.floating)return F;const me=pb(ye.floating,y.x),re=pb(ye.floating,y.y);return c?{...F,transform:"translate("+me+"px, "+re+"px)",...uP(ye.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:me,top:re}},[n,c,ye.floating,y.x,y.y]);return C.useMemo(()=>({...y,update:ge,refs:be,elements:ye,floatingStyles:_e}),[y,ge,be,ye,_e])}const u5=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?fb({element:r.current,padding:s}).fn(n):{}:r?fb({element:r,padding:s}).fn(n):{}}}},c5=(e,t)=>({...QV(e),options:[e,t]}),d5=(e,t)=>({...e5(e),options:[e,t]}),h5=(e,t)=>({...i5(e),options:[e,t]}),f5=(e,t)=>({...t5(e),options:[e,t]}),p5=(e,t)=>({...n5(e),options:[e,t]}),m5=(e,t)=>({...r5(e),options:[e,t]}),g5=(e,t)=>({...u5(e),options:[e,t]});var v5="Arrow",cP=C.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return m.jsx(ot.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});cP.displayName=v5;var y5=cP;function _5(e){const[t,n]=C.useState(void 0);return tn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let u,c;if("borderBoxSize"in o){const h=o.borderBoxSize,p=Array.isArray(h)?h[0]:h;u=p.inlineSize,c=p.blockSize}else u=e.offsetWidth,c=e.offsetHeight;n({width:u,height:c})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Dy="Popper",[dP,hP]=jc(Dy),[x5,fP]=dP(Dy),pP=e=>{const{__scopePopper:t,children:n}=e,[r,s]=C.useState(null);return m.jsx(x5,{scope:t,anchor:r,onAnchorChange:s,children:n})};pP.displayName=Dy;var mP="PopperAnchor",gP=C.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=fP(mP,n),u=C.useRef(null),c=dt(t,u),h=C.useRef(null);return C.useEffect(()=>{const p=h.current;h.current=r?.current||u.current,p!==h.current&&o.onAnchorChange(h.current)}),r?null:m.jsx(ot.div,{...s,ref:c})});gP.displayName=mP;var zy="PopperContent",[w5,b5]=dP(zy),vP=C.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:u=0,arrowPadding:c=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:y=0,sticky:_="partial",hideWhenDetached:x=!1,updatePositionStrategy:w="optimized",onPlaced:E,...k}=e,R=fP(zy,n),[N,A]=C.useState(null),I=dt(t,J=>A(J)),[D,V]=C.useState(null),Z=_5(D),M=Z?.width??0,B=Z?.height??0,ee=r+(o!=="center"?"-"+o:""),ce=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},U=Array.isArray(p)?p:[p],G=U.length>0,ge={padding:ce,boundary:U.filter(C5),altBoundary:G},{refs:le,floatingStyles:be,placement:ye,isPositioned:_e,middlewareData:F}=l5({strategy:"fixed",placement:ee,whileElementsMounted:(...J)=>JV(...J,{animationFrame:w==="always"}),elements:{reference:R.anchor},middleware:[c5({mainAxis:s+B,alignmentAxis:u}),h&&d5({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?h5():void 0,...ge}),h&&f5({...ge}),p5({...ge,apply:({elements:J,rects:K,availableWidth:de,availableHeight:we})=>{const{width:Oe,height:Be}=K.reference,Ee=J.floating.style;Ee.setProperty("--radix-popper-available-width",`${de}px`),Ee.setProperty("--radix-popper-available-height",`${we}px`),Ee.setProperty("--radix-popper-anchor-width",`${Oe}px`),Ee.setProperty("--radix-popper-anchor-height",`${Be}px`)}}),D&&g5({element:D,padding:c}),k5({arrowWidth:M,arrowHeight:B}),x&&m5({strategy:"referenceHidden",...ge})]}),[me,re]=xP(ye),H=On(E);tn(()=>{_e&&H?.()},[_e,H]);const se=F.arrow?.x,ie=F.arrow?.y,oe=F.arrow?.centerOffset!==0,[ue,ae]=C.useState();return tn(()=>{N&&ae(window.getComputedStyle(N).zIndex)},[N]),m.jsx("div",{ref:le.setFloating,"data-radix-popper-content-wrapper":"",style:{...be,transform:_e?be.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[F.transformOrigin?.x,F.transformOrigin?.y].join(" "),...F.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:m.jsx(w5,{scope:n,placedSide:me,onArrowChange:V,arrowX:se,arrowY:ie,shouldHideArrow:oe,children:m.jsx(ot.div,{"data-side":me,"data-align":re,...k,ref:I,style:{...k.style,animation:_e?void 0:"none"}})})})});vP.displayName=zy;var yP="PopperArrow",S5={top:"bottom",right:"left",bottom:"top",left:"right"},_P=C.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=b5(yP,r),u=S5[o.placedSide];return m.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:m.jsx(y5,{...s,ref:n,style:{...s.style,display:"block"}})})});_P.displayName=yP;function C5(e){return e!==null}var k5=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:s}=t,u=s.arrow?.centerOffset!==0,c=u?0:e.arrowWidth,h=u?0:e.arrowHeight,[p,y]=xP(n),_={start:"0%",center:"50%",end:"100%"}[y],x=(s.arrow?.x??0)+c/2,w=(s.arrow?.y??0)+h/2;let E="",k="";return p==="bottom"?(E=u?_:`${x}px`,k=`${-h}px`):p==="top"?(E=u?_:`${x}px`,k=`${r.floating.height+h}px`):p==="right"?(E=`${-h}px`,k=u?_:`${w}px`):p==="left"&&(E=`${r.floating.width+h}px`,k=u?_:`${w}px`),{data:{x:E,y:k}}}});function xP(e){const[t,n="center"]=e.split("-");return[t,n]}var P5=pP,E5=gP,T5=vP,R5=_P;function L5(e){const t=N5(e),n=C.forwardRef((r,s)=>{const{children:o,...u}=r,c=C.Children.toArray(o),h=c.find(j5);if(h){const p=h.props.children,y=c.map(_=>_===h?C.Children.count(p)>1?C.Children.only(null):C.isValidElement(p)?p.props.children:null:_);return m.jsx(t,{...u,ref:s,children:C.isValidElement(p)?C.cloneElement(p,void 0,y):null})}return m.jsx(t,{...u,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function N5(e){const t=C.forwardRef((n,r)=>{const{children:s,...o}=n;if(C.isValidElement(s)){const u=O5(s),c=I5(o,s.props);return s.type!==C.Fragment&&(c.ref=r?Ll(r,u):u),C.cloneElement(s,c)}return C.Children.count(s)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var A5=Symbol("radix.slottable");function j5(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===A5}function I5(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...c)=>{const h=o(...c);return s(...c),h}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function O5(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function M5(e){const t=C.useRef({value:e,previous:e});return C.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var wP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),D5="VisuallyHidden",z5=C.forwardRef((e,t)=>m.jsx(ot.span,{...e,ref:t,style:{...wP,...e.style}}));z5.displayName=D5;var B5=[" ","Enter","ArrowUp","ArrowDown"],F5=[" ","Enter"],qo="Select",[jf,If,V5]=oV(qo),[Ol]=jc(qo,[V5,hP]),Of=hP(),[$5,Xs]=Ol(qo),[U5,H5]=Ol(qo),bP=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:u,defaultValue:c,onValueChange:h,dir:p,name:y,autoComplete:_,disabled:x,required:w,form:E}=e,k=Of(t),[R,N]=C.useState(null),[A,I]=C.useState(null),[D,V]=C.useState(!1),Z=M1(p),[M,B]=cv({prop:r,defaultProp:s??!1,onChange:o,caller:qo}),[ee,ce]=cv({prop:u,defaultProp:c,onChange:h,caller:qo}),U=C.useRef(null),G=R?E||!!R.closest("form"):!0,[ge,le]=C.useState(new Set),be=Array.from(ge).map(ye=>ye.props.value).join(";");return m.jsx(P5,{...k,children:m.jsxs($5,{required:w,scope:t,trigger:R,onTriggerChange:N,valueNode:A,onValueNodeChange:I,valueNodeHasChildren:D,onValueNodeHasChildrenChange:V,contentId:ml(),value:ee,onValueChange:ce,open:M,onOpenChange:B,dir:Z,triggerPointerDownPosRef:U,disabled:x,children:[m.jsx(jf.Provider,{scope:t,children:m.jsx(U5,{scope:e.__scopeSelect,onNativeOptionAdd:C.useCallback(ye=>{le(_e=>new Set(_e).add(ye))},[]),onNativeOptionRemove:C.useCallback(ye=>{le(_e=>{const F=new Set(_e);return F.delete(ye),F})},[]),children:n})}),G?m.jsxs(GP,{"aria-hidden":!0,required:w,tabIndex:-1,name:y,autoComplete:_,value:ee,onChange:ye=>ce(ye.target.value),disabled:x,form:E,children:[ee===void 0?m.jsx("option",{value:""}):null,Array.from(ge)]},be):null]})})};bP.displayName=qo;var SP="SelectTrigger",CP=C.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=Of(n),u=Xs(SP,n),c=u.disabled||r,h=dt(t,u.onTriggerChange),p=If(n),y=C.useRef("touch"),[_,x,w]=qP(k=>{const R=p().filter(I=>!I.disabled),N=R.find(I=>I.value===u.value),A=KP(R,k,N);A!==void 0&&u.onValueChange(A.value)}),E=k=>{c||(u.onOpenChange(!0),w()),k&&(u.triggerPointerDownPosRef.current={x:Math.round(k.pageX),y:Math.round(k.pageY)})};return m.jsx(E5,{asChild:!0,...o,children:m.jsx(ot.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":ZP(u.value)?"":void 0,...s,ref:h,onClick:st(s.onClick,k=>{k.currentTarget.focus(),y.current!=="mouse"&&E(k)}),onPointerDown:st(s.onPointerDown,k=>{y.current=k.pointerType;const R=k.target;R.hasPointerCapture(k.pointerId)&&R.releasePointerCapture(k.pointerId),k.button===0&&k.ctrlKey===!1&&k.pointerType==="mouse"&&(E(k),k.preventDefault())}),onKeyDown:st(s.onKeyDown,k=>{const R=_.current!=="";!(k.ctrlKey||k.altKey||k.metaKey)&&k.key.length===1&&x(k.key),!(R&&k.key===" ")&&B5.includes(k.key)&&(E(),k.preventDefault())})})})});CP.displayName=SP;var kP="SelectValue",PP=C.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:u="",...c}=e,h=Xs(kP,n),{onValueNodeHasChildrenChange:p}=h,y=o!==void 0,_=dt(t,h.onValueNodeChange);return tn(()=>{p(y)},[p,y]),m.jsx(ot.span,{...c,ref:_,style:{pointerEvents:"none"},children:ZP(h.value)?m.jsx(m.Fragment,{children:u}):o})});PP.displayName=kP;var W5="SelectIcon",EP=C.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return m.jsx(ot.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});EP.displayName=W5;var G5="SelectPortal",TP=e=>m.jsx(Py,{asChild:!0,...e});TP.displayName=G5;var Ko="SelectContent",RP=C.forwardRef((e,t)=>{const n=Xs(Ko,e.__scopeSelect),[r,s]=C.useState();if(tn(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Sl.createPortal(m.jsx(LP,{scope:e.__scopeSelect,children:m.jsx(jf.Slot,{scope:e.__scopeSelect,children:m.jsx("div",{children:e.children})})}),o):null}return m.jsx(NP,{...e,ref:t})});RP.displayName=Ko;var Or=10,[LP,Js]=Ol(Ko),Z5="SelectContentImpl",q5=L5("SelectContent.RemoveScroll"),NP=C.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:u,side:c,sideOffset:h,align:p,alignOffset:y,arrowPadding:_,collisionBoundary:x,collisionPadding:w,sticky:E,hideWhenDetached:k,avoidCollisions:R,...N}=e,A=Xs(Ko,n),[I,D]=C.useState(null),[V,Z]=C.useState(null),M=dt(t,J=>D(J)),[B,ee]=C.useState(null),[ce,U]=C.useState(null),G=If(n),[ge,le]=C.useState(!1),be=C.useRef(!1);C.useEffect(()=>{if(I)return Lk(I)},[I]),bk();const ye=C.useCallback(J=>{const[K,...de]=G().map(Be=>Be.ref.current),[we]=de.slice(-1),Oe=document.activeElement;for(const Be of J)if(Be===Oe||(Be?.scrollIntoView({block:"nearest"}),Be===K&&V&&(V.scrollTop=0),Be===we&&V&&(V.scrollTop=V.scrollHeight),Be?.focus(),document.activeElement!==Oe))return},[G,V]),_e=C.useCallback(()=>ye([B,I]),[ye,B,I]);C.useEffect(()=>{ge&&_e()},[ge,_e]);const{onOpenChange:F,triggerPointerDownPosRef:me}=A;C.useEffect(()=>{if(I){let J={x:0,y:0};const K=we=>{J={x:Math.abs(Math.round(we.pageX)-(me.current?.x??0)),y:Math.abs(Math.round(we.pageY)-(me.current?.y??0))}},de=we=>{J.x<=10&&J.y<=10?we.preventDefault():I.contains(we.target)||F(!1),document.removeEventListener("pointermove",K),me.current=null};return me.current!==null&&(document.addEventListener("pointermove",K),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",de,{capture:!0})}}},[I,F,me]),C.useEffect(()=>{const J=()=>F(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[F]);const[re,H]=qP(J=>{const K=G().filter(Oe=>!Oe.disabled),de=K.find(Oe=>Oe.ref.current===document.activeElement),we=KP(K,J,de);we&&setTimeout(()=>we.ref.current.focus())}),se=C.useCallback((J,K,de)=>{const we=!be.current&&!de;(A.value!==void 0&&A.value===K||we)&&(ee(J),we&&(be.current=!0))},[A.value]),ie=C.useCallback(()=>I?.focus(),[I]),oe=C.useCallback((J,K,de)=>{const we=!be.current&&!de;(A.value!==void 0&&A.value===K||we)&&U(J)},[A.value]),ue=r==="popper"?vv:AP,ae=ue===vv?{side:c,sideOffset:h,align:p,alignOffset:y,arrowPadding:_,collisionBoundary:x,collisionPadding:w,sticky:E,hideWhenDetached:k,avoidCollisions:R}:{};return m.jsx(LP,{scope:n,content:I,viewport:V,onViewportChange:Z,itemRefCallback:se,selectedItem:B,onItemLeave:ie,itemTextRefCallback:oe,focusSelectedItem:_e,selectedItemText:ce,position:r,isPositioned:ge,searchRef:re,children:m.jsx(Ey,{as:q5,allowPinchZoom:!0,children:m.jsx(ky,{asChild:!0,trapped:A.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:st(s,J=>{A.trigger?.focus({preventScroll:!0}),J.preventDefault()}),children:m.jsx(Cy,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:u,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:m.jsx(ue,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:J=>J.preventDefault(),...N,...ae,onPlaced:()=>le(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:st(N.onKeyDown,J=>{const K=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!K&&J.key.length===1&&H(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let we=G().filter(Oe=>!Oe.disabled).map(Oe=>Oe.ref.current);if(["ArrowUp","End"].includes(J.key)&&(we=we.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const Oe=J.target,Be=we.indexOf(Oe);we=we.slice(Be+1)}setTimeout(()=>ye(we)),J.preventDefault()}})})})})})})});NP.displayName=Z5;var K5="SelectItemAlignedPosition",AP=C.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=Xs(Ko,n),u=Js(Ko,n),[c,h]=C.useState(null),[p,y]=C.useState(null),_=dt(t,M=>y(M)),x=If(n),w=C.useRef(!1),E=C.useRef(!0),{viewport:k,selectedItem:R,selectedItemText:N,focusSelectedItem:A}=u,I=C.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&p&&k&&R&&N){const M=o.trigger.getBoundingClientRect(),B=p.getBoundingClientRect(),ee=o.valueNode.getBoundingClientRect(),ce=N.getBoundingClientRect();if(o.dir!=="rtl"){const Oe=ce.left-B.left,Be=ee.left-Oe,Ee=M.left-Be,lt=M.width+Ee,mn=Math.max(lt,B.width),kn=window.innerWidth-Or,gn=rv(Be,[Or,Math.max(Or,kn-mn)]);c.style.minWidth=lt+"px",c.style.left=gn+"px"}else{const Oe=B.right-ce.right,Be=window.innerWidth-ee.right-Oe,Ee=window.innerWidth-M.right-Be,lt=M.width+Ee,mn=Math.max(lt,B.width),kn=window.innerWidth-Or,gn=rv(Be,[Or,Math.max(Or,kn-mn)]);c.style.minWidth=lt+"px",c.style.right=gn+"px"}const U=x(),G=window.innerHeight-Or*2,ge=k.scrollHeight,le=window.getComputedStyle(p),be=parseInt(le.borderTopWidth,10),ye=parseInt(le.paddingTop,10),_e=parseInt(le.borderBottomWidth,10),F=parseInt(le.paddingBottom,10),me=be+ye+ge+F+_e,re=Math.min(R.offsetHeight*5,me),H=window.getComputedStyle(k),se=parseInt(H.paddingTop,10),ie=parseInt(H.paddingBottom,10),oe=M.top+M.height/2-Or,ue=G-oe,ae=R.offsetHeight/2,J=R.offsetTop+ae,K=be+ye+J,de=me-K;if(K<=oe){const Oe=U.length>0&&R===U[U.length-1].ref.current;c.style.bottom="0px";const Be=p.clientHeight-k.offsetTop-k.offsetHeight,Ee=Math.max(ue,ae+(Oe?ie:0)+Be+_e),lt=K+Ee;c.style.height=lt+"px"}else{const Oe=U.length>0&&R===U[0].ref.current;c.style.top="0px";const Ee=Math.max(oe,be+k.offsetTop+(Oe?se:0)+ae)+de;c.style.height=Ee+"px",k.scrollTop=K-oe+k.offsetTop}c.style.margin=`${Or}px 0`,c.style.minHeight=re+"px",c.style.maxHeight=G+"px",r?.(),requestAnimationFrame(()=>w.current=!0)}},[x,o.trigger,o.valueNode,c,p,k,R,N,o.dir,r]);tn(()=>I(),[I]);const[D,V]=C.useState();tn(()=>{p&&V(window.getComputedStyle(p).zIndex)},[p]);const Z=C.useCallback(M=>{M&&E.current===!0&&(I(),A?.(),E.current=!1)},[I,A]);return m.jsx(X5,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:w,onScrollButtonChange:Z,children:m.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:m.jsx(ot.div,{...s,ref:_,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});AP.displayName=K5;var Y5="SelectPopperPosition",vv=C.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Or,...o}=e,u=Of(n);return m.jsx(T5,{...u,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});vv.displayName=Y5;var[X5,By]=Ol(Ko,{}),yv="SelectViewport",jP=C.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=Js(yv,n),u=By(yv,n),c=dt(t,o.onViewportChange),h=C.useRef(0);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),m.jsx(jf.Slot,{scope:n,children:m.jsx(ot.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:st(s.onScroll,p=>{const y=p.currentTarget,{contentWrapper:_,shouldExpandOnScrollRef:x}=u;if(x?.current&&_){const w=Math.abs(h.current-y.scrollTop);if(w>0){const E=window.innerHeight-Or*2,k=parseFloat(_.style.minHeight),R=parseFloat(_.style.height),N=Math.max(k,R);if(N<E){const A=N+w,I=Math.min(E,A),D=A-I;_.style.height=I+"px",_.style.bottom==="0px"&&(y.scrollTop=D>0?D:0,_.style.justifyContent="flex-end")}}}h.current=y.scrollTop})})})]})});jP.displayName=yv;var IP="SelectGroup",[J5,Q5]=Ol(IP),e4=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=ml();return m.jsx(J5,{scope:n,id:s,children:m.jsx(ot.div,{role:"group","aria-labelledby":s,...r,ref:t})})});e4.displayName=IP;var OP="SelectLabel",MP=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Q5(OP,n);return m.jsx(ot.div,{id:s.id,...r,ref:t})});MP.displayName=OP;var lf="SelectItem",[t4,DP]=Ol(lf),zP=C.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...u}=e,c=Xs(lf,n),h=Js(lf,n),p=c.value===r,[y,_]=C.useState(o??""),[x,w]=C.useState(!1),E=dt(t,A=>h.itemRefCallback?.(A,r,s)),k=ml(),R=C.useRef("touch"),N=()=>{s||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.jsx(t4,{scope:n,value:r,disabled:s,textId:k,isSelected:p,onItemTextChange:C.useCallback(A=>{_(I=>I||(A?.textContent??"").trim())},[]),children:m.jsx(jf.ItemSlot,{scope:n,value:r,disabled:s,textValue:y,children:m.jsx(ot.div,{role:"option","aria-labelledby":k,"data-highlighted":x?"":void 0,"aria-selected":p&&x,"data-state":p?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...u,ref:E,onFocus:st(u.onFocus,()=>w(!0)),onBlur:st(u.onBlur,()=>w(!1)),onClick:st(u.onClick,()=>{R.current!=="mouse"&&N()}),onPointerUp:st(u.onPointerUp,()=>{R.current==="mouse"&&N()}),onPointerDown:st(u.onPointerDown,A=>{R.current=A.pointerType}),onPointerMove:st(u.onPointerMove,A=>{R.current=A.pointerType,s?h.onItemLeave?.():R.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:st(u.onPointerLeave,A=>{A.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:st(u.onKeyDown,A=>{h.searchRef?.current!==""&&A.key===" "||(F5.includes(A.key)&&N(),A.key===" "&&A.preventDefault())})})})})});zP.displayName=lf;var Hu="SelectItemText",BP=C.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,u=Xs(Hu,n),c=Js(Hu,n),h=DP(Hu,n),p=H5(Hu,n),[y,_]=C.useState(null),x=dt(t,N=>_(N),h.onItemTextChange,N=>c.itemTextRefCallback?.(N,h.value,h.disabled)),w=y?.textContent,E=C.useMemo(()=>m.jsx("option",{value:h.value,disabled:h.disabled,children:w},h.value),[h.disabled,h.value,w]),{onNativeOptionAdd:k,onNativeOptionRemove:R}=p;return tn(()=>(k(E),()=>R(E)),[k,R,E]),m.jsxs(m.Fragment,{children:[m.jsx(ot.span,{id:h.textId,...o,ref:x}),h.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Sl.createPortal(o.children,u.valueNode):null]})});BP.displayName=Hu;var FP="SelectItemIndicator",VP=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return DP(FP,n).isSelected?m.jsx(ot.span,{"aria-hidden":!0,...r,ref:t}):null});VP.displayName=FP;var _v="SelectScrollUpButton",$P=C.forwardRef((e,t)=>{const n=Js(_v,e.__scopeSelect),r=By(_v,e.__scopeSelect),[s,o]=C.useState(!1),u=dt(t,r.onScrollButtonChange);return tn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const p=h.scrollTop>0;o(p)};const h=n.viewport;return c(),h.addEventListener("scroll",c),()=>h.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?m.jsx(HP,{...e,ref:u,onAutoScroll:()=>{const{viewport:c,selectedItem:h}=n;c&&h&&(c.scrollTop=c.scrollTop-h.offsetHeight)}}):null});$P.displayName=_v;var xv="SelectScrollDownButton",UP=C.forwardRef((e,t)=>{const n=Js(xv,e.__scopeSelect),r=By(xv,e.__scopeSelect),[s,o]=C.useState(!1),u=dt(t,r.onScrollButtonChange);return tn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const p=h.scrollHeight-h.clientHeight,y=Math.ceil(h.scrollTop)<p;o(y)};const h=n.viewport;return c(),h.addEventListener("scroll",c),()=>h.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?m.jsx(HP,{...e,ref:u,onAutoScroll:()=>{const{viewport:c,selectedItem:h}=n;c&&h&&(c.scrollTop=c.scrollTop+h.offsetHeight)}}):null});UP.displayName=xv;var HP=C.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=Js("SelectScrollButton",n),u=C.useRef(null),c=If(n),h=C.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return C.useEffect(()=>()=>h(),[h]),tn(()=>{c().find(y=>y.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),m.jsx(ot.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:st(s.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(r,50))}),onPointerMove:st(s.onPointerMove,()=>{o.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(r,50))}),onPointerLeave:st(s.onPointerLeave,()=>{h()})})}),n4="SelectSeparator",WP=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return m.jsx(ot.div,{"aria-hidden":!0,...r,ref:t})});WP.displayName=n4;var wv="SelectArrow",r4=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Of(n),o=Xs(wv,n),u=Js(wv,n);return o.open&&u.position==="popper"?m.jsx(R5,{...s,...r,ref:t}):null});r4.displayName=wv;var i4="SelectBubbleInput",GP=C.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=C.useRef(null),o=dt(r,s),u=M5(t);return C.useEffect(()=>{const c=s.current;if(!c)return;const h=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(h,"value").set;if(u!==t&&y){const _=new Event("change",{bubbles:!0});y.call(c,t),c.dispatchEvent(_)}},[u,t]),m.jsx(ot.select,{...n,style:{...wP,...n.style},ref:o,defaultValue:t})});GP.displayName=i4;function ZP(e){return e===""||e===void 0}function qP(e){const t=On(e),n=C.useRef(""),r=C.useRef(0),s=C.useCallback(u=>{const c=n.current+u;t(c),(function h(p){n.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>h(""),1e3))})(c)},[t]),o=C.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function KP(e,t,n){const s=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let u=s4(e,Math.max(o,0));s.length===1&&(u=u.filter(p=>p!==n));const h=u.find(p=>p.textValue.toLowerCase().startsWith(s.toLowerCase()));return h!==n?h:void 0}function s4(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var o4=bP,YP=CP,a4=PP,l4=EP,u4=TP,XP=RP,c4=jP,JP=MP,QP=zP,d4=BP,h4=VP,eE=$P,tE=UP,nE=WP;const gr=o4,vr=a4,qn=C.forwardRef(({className:e,children:t,...n},r)=>m.jsxs(YP,{ref:r,className:Me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,m.jsx(l4,{asChild:!0,children:m.jsx(Dr,{className:"h-4 w-4 opacity-50"})})]}));qn.displayName=YP.displayName;const rE=C.forwardRef(({className:e,...t},n)=>m.jsx(eE,{ref:n,className:Me("flex cursor-default items-center justify-center py-1",e),...t,children:m.jsx(si,{className:"h-4 w-4"})}));rE.displayName=eE.displayName;const iE=C.forwardRef(({className:e,...t},n)=>m.jsx(tE,{ref:n,className:Me("flex cursor-default items-center justify-center py-1",e),...t,children:m.jsx(Dr,{className:"h-4 w-4"})}));iE.displayName=tE.displayName;const Kn=C.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>m.jsx(u4,{children:m.jsxs(XP,{ref:s,className:Me("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[m.jsx(rE,{}),m.jsx(c4,{className:Me("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),m.jsx(iE,{})]})}));Kn.displayName=XP.displayName;const f4=C.forwardRef(({className:e,...t},n)=>m.jsx(JP,{ref:n,className:Me("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));f4.displayName=JP.displayName;const mt=C.forwardRef(({className:e,children:t,...n},r)=>m.jsxs(QP,{ref:r,className:Me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(h4,{children:m.jsx($h,{className:"h-4 w-4"})})}),m.jsx(d4,{children:t})]}));mt.displayName=QP.displayName;const p4=C.forwardRef(({className:e,...t},n)=>m.jsx(nE,{ref:n,className:Me("-mx-1 my-1 h-px bg-muted",e),...t}));p4.displayName=nE.displayName;const Du=50;function mb(){const{selectedSurveyId:e,setSelectedSurveyId:t}=Sc(),[n,r]=C.useState([]),[s,o]=C.useState(!1),[u,c]=C.useState(null),[h,p]=C.useState(0),[y,_]=C.useState(0),[x,w]=C.useState({district:"",tehsil:"",uc:"",surveyor:"",unitType:"ALL",masterStatus:"ALL",search:""}),{districts:E,tehsils:k,ucs:R}=ik(x),[N,A]=C.useState([]),[I,D]=C.useState({key:"id_numeric",direction:"desc"}),[V,Z]=C.useState(!0),[M,B]=C.useState(!1),ee=C.useMemo(()=>[{accessorKey:"survey_id",header:({column:U})=>m.jsxs("div",{className:"flex items-center gap-1 cursor-pointer hover:text-primary transition-colors",onClick:()=>D(G=>({key:"id_numeric",direction:G.key==="id_numeric"&&G.direction==="desc"?"asc":"desc"})),children:["ID ",m.jsx(dA,{size:12,className:"opacity-50"})]}),cell:({row:U})=>{const G=U.original,le=(G.unit_type||G.consumer_type||G.property_type||G.consumer_category||G.type||"").toLowerCase();let be=null;return le.includes("residen")||le.includes("domest")||le.includes("home")?be=m.jsx(Nt,{status:"Domestic",variant:"domestic",className:"h-4"}):(le.includes("commer")||le.includes("shop")||le.includes("office"))&&(be=m.jsx(Nt,{status:"Commercial",variant:"commercial",className:"h-4"})),m.jsxs("div",{className:"flex flex-col gap-1 min-w-[80px]",children:[m.jsx("span",{className:"text-sm font-black text-primary tabular-nums leading-none",children:G.survey_id}),m.jsx("div",{className:"flex",children:be&&m.jsx("div",{className:"w-fit",children:be})})]})}},{accessorKey:"consumer_name",header:"Identity",cell:({row:U})=>{const G=U.original;return m.jsxs("div",{className:"flex flex-col group min-w-0 max-w-[120px] sm:max-w-[200px]",children:[m.jsx("span",{className:"text-sm font-bold text-foreground group-hover:text-primary transition-colors truncate",children:G.consumer_name||"Anonymous"}),m.jsxs("span",{className:"badge-subtext mt-1 truncate",children:[m.jsx(mS,{size:8,className:"text-primary mr-1 shrink-0"}),uy(G.uc_name,G.city_district,G.tehsil)]})]})}},{accessorKey:"status",header:"Status",cell:({row:U})=>{const G=U.original;return G.status==="ARCHIVED"?m.jsx(Nt,{status:"Archived",variant:"archived"}):G.is_biller?m.jsx(Nt,{status:"Active",variant:"active"}):m.jsx(Nt,{status:"New Survey",variant:"pending"})}},{meta:{className:"hidden md:table-cell"},header:"Finance",cell:({row:U})=>m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx(er,{amount:U.original.total_paid}),m.jsxs("span",{className:"badge-subtext mt-1 bg-transparent border-none p-0 opacity-60",children:["OF ",m.jsx(er,{amount:U.original.total_due})]})]})},{meta:{className:"hidden md:table-cell"},header:"Billing History",cell:({row:U})=>m.jsx("div",{className:"flex items-end gap-2 justify-center h-full pb-1",children:U.original.history.map((G,ge)=>m.jsxs("div",{className:"flex flex-col items-center gap-1.5 min-w-[18px]",children:[m.jsx("div",{className:`w-2 h-2 rounded-full transition-all ring-2 ring-offset-2 ring-transparent ${G.paid===null?"bg-muted ring-muted/20":G.paid?"bg-emerald-500 shadow-emerald-500/20 shadow-sm":"bg-rose-500 shadow-rose-500/20 shadow-sm"}`,title:G.month}),m.jsx("span",{className:"badge-subtext bg-transparent border-none p-0 opacity-40 leading-none",children:G.month.substring(0,3)})]},ge))})}],[t,I]);C.useEffect(()=>{(async()=>{const{data:G,error:ge}=await Bt.rpc("get_distinct_surveyors",{p_district:x.district||null,p_tehsil:x.tehsil||null,p_uc:x.uc||null});!ge&&G&&A(G.map(le=>le.surveyor_name))})()},[x.district,x.tehsil,x.uc]),C.useEffect(()=>{const U=G=>{if(!e||document.activeElement?.tagName==="INPUT"||document.activeElement?.tagName==="TEXTAREA")return;const ge=n.findIndex(le=>le&&String(le.survey_id).trim()===String(e).trim());if(ge!==-1){if(G.key==="ArrowRight"){const le=ge<n.length-1?n[ge+1].survey_id:null;le!=null&&(t(le),G.preventDefault())}if(G.key==="ArrowLeft"){const le=ge>0?n[ge-1].survey_id:null;le!=null&&(t(le),G.preventDefault())}}};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[e,n]),C.useEffect(()=>{const U=setTimeout(ce,500);return()=>clearTimeout(U)},[x,h,I]);async function ce(){try{o(!0),c(null);const{data:U,error:G}=await Bt.rpc("get_hydrated_survey_stats",{p_district:x.district||null,p_tehsil:x.tehsil||null,p_uc:x.uc||null,p_surveyor:x.surveyor||null,p_search:x.search||null,p_master_status:x.masterStatus,p_unit_type:x.unitType==="ALL"?null:x.unitType,p_sort_column:I.key,p_sort_direction:I.direction,p_page_size:Du,p_page_index:h});if(G)throw G;const{total_result_count:ge,hydrated_records:le}=U?.[0]||{total_result_count:0,hydrated_records:[]};_(Number(ge)),r(le||[])}catch(U){c(U.message)}finally{o(!1)}}return m.jsxs("div",{className:"flex-1 flex flex-col min-h-0 bg-background transition-colors duration-300 overflow-hidden",children:[m.jsxs("div",{className:"px-4 py-3 flex flex-wrap items-center justify-between gap-3 border-b border-border bg-card/30 backdrop-blur-md shrink-0",children:[m.jsxs("div",{className:"min-w-0 flex-1 flex flex-col items-start gap-1",children:[m.jsx("h1",{className:"text-sm sm:text-lg md:text-xl lg:text-2xl font-black tracking-tight uppercase truncate leading-none w-full",children:x.uc||x.tehsil||x.district||"Global Operations"}),m.jsxs("span",{className:`badge-subtext transition-opacity duration-300 ${s?"opacity-30":"opacity-100"} py-0.5`,children:[y.toLocaleString()," DATA POINTS"]})]}),m.jsxs("div",{className:"flex items-center gap-2 shrink-0 self-end md:self-auto",children:[m.jsx("div",{className:"hidden md:flex items-center bg-muted/50 p-1 rounded-xl border border-border/50",children:["ALL","ACTIVE_BILLER","NEW_SURVEY","ARCHIVED"].map(U=>m.jsx(He,{variant:x.masterStatus===U?"secondary":"ghost",size:"sm",onClick:()=>w(G=>({...G,masterStatus:U})),className:`h-8 px-3 text-[10px] font-black tracking-widest uppercase transition-all ${x.masterStatus===U?"bg-card":"text-muted-foreground hover:text-foreground"}`,children:U.split("_")[0]},U))}),m.jsx(He,{variant:"outline",size:"icon",onClick:()=>{window.innerWidth<768?B(!0):Z(!V)},className:`h-10 w-10 rounded-xl transition-all ${V?"bg-primary text-primary-foreground border-primary shadow-lg shadow-primary/20 hover:bg-primary/90":"bg-card/50"}`,children:m.jsx(bA,{size:18})})]})]}),m.jsxs("div",{className:"flex-1 flex flex-col p-4 gap-4 min-h-0 overflow-hidden",children:[V&&m.jsxs("div",{className:"hidden md:grid grid-cols-2 lg:grid-cols-4 2xl:flex 2xl:flex-nowrap 2xl:items-center gap-2 p-2 bg-muted/30 border border-border/40 rounded-xl animate-in slide-in-from-top-2 duration-300",children:[m.jsxs("div",{className:"relative group w-full xl:w-48 shrink-0",children:[m.jsx(uc,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-muted-foreground group-focus-within:text-primary transition-colors",size:14}),m.jsx(Wi,{placeholder:"SEARCH...",className:"h-9 pl-8 bg-card/50 border-border/50 font-bold uppercase tracking-widest text-[10px]",value:x.search,onChange:U=>w(G=>({...G,search:U.target.value}))})]}),m.jsxs("div",{className:"flex items-center gap-2 w-full xl:w-fit",children:[m.jsxs(gr,{value:x.district||"ALL_DISTRICTS",onValueChange:U=>w(G=>({...G,district:U==="ALL_DISTRICTS"?"":U,tehsil:"",uc:""})),children:[m.jsx(qn,{className:"h-9 w-full xl:w-[120px] bg-card/50 text-[10px] font-bold uppercase tracking-wide",children:m.jsx(vr,{placeholder:"DISTRICT"})}),m.jsxs(Kn,{children:[m.jsx(mt,{value:"ALL_DISTRICTS",children:"ALL DISTRICTS"}),E.map(U=>m.jsx(mt,{value:U,children:U},U))]})]}),m.jsxs(gr,{value:x.tehsil||"ALL_TEHSILS",onValueChange:U=>w(G=>({...G,tehsil:U==="ALL_TEHSILS"?"":U,uc:""})),children:[m.jsx(qn,{className:"h-9 w-full xl:w-[120px] bg-card/50 text-[10px] font-bold uppercase tracking-wide",children:m.jsx(vr,{placeholder:"TEHSIL"})}),m.jsxs(Kn,{children:[m.jsx(mt,{value:"ALL_TEHSILS",children:"ALL TEHSILS"}),k.map(U=>m.jsx(mt,{value:U,children:U},U))]})]})]}),m.jsxs("div",{className:"flex items-center gap-2 w-full xl:w-fit",children:[m.jsxs(gr,{value:x.uc||"ALL_UCS",onValueChange:U=>w(G=>({...G,uc:U==="ALL_UCS"?"":U})),children:[m.jsx(qn,{className:"h-9 w-full xl:w-[120px] bg-card/50 text-[10px] font-bold uppercase tracking-wide text-left",children:m.jsx(vr,{placeholder:"UC"})}),m.jsxs(Kn,{children:[m.jsx(mt,{value:"ALL_UCS",children:"ALL UCS"}),R.map(U=>m.jsx(mt,{value:U,children:U},U))]})]}),m.jsxs(gr,{value:x.surveyor||"ALL_SURVEYORS",onValueChange:U=>w(G=>({...G,surveyor:U==="ALL_SURVEYORS"?"":U})),children:[m.jsx(qn,{className:"h-9 w-full xl:w-[120px] bg-card/50 text-[10px] font-bold uppercase tracking-wide",children:m.jsx(vr,{placeholder:"SURVEYOR"})}),m.jsxs(Kn,{children:[m.jsx(mt,{value:"ALL_SURVEYORS",children:"ALL SURVEYORS"}),N.map(U=>m.jsx(mt,{value:U,children:U},U))]})]})]}),m.jsxs("div",{className:"flex items-center gap-2 w-full xl:w-fit",children:[m.jsxs(gr,{value:x.unitType||"ALL",onValueChange:U=>w(G=>({...G,unitType:U})),children:[m.jsx(qn,{className:"h-9 w-full xl:w-[120px] bg-card/50 text-[10px] font-bold uppercase tracking-wide",children:m.jsx(vr,{placeholder:"TYPE"})}),m.jsxs(Kn,{children:[m.jsx(mt,{value:"ALL",children:"ALL TYPES"}),m.jsx(mt,{value:"Domestic",children:"DOMESTIC"}),m.jsx(mt,{value:"Commercial",children:"COMMERCIAL"})]})]}),m.jsx(He,{variant:"ghost",size:"sm",className:"h-9 px-3 text-muted-foreground hover:text-destructive hover:bg-destructive/10 transition-colors shrink-0 ml-auto xl:ml-0",onClick:()=>w({district:"",tehsil:"",uc:"",surveyor:"",unitType:"ALL",search:"",masterStatus:"ALL"}),children:m.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Reset"})})]})]}),u&&m.jsxs("div",{className:"p-4 bg-destructive/10 border border-destructive/20 rounded-2xl flex items-center gap-3 text-destructive animate-in fade-in slide-in-from-left-2 shadow-sm",children:[m.jsx(Wo,{size:20}),m.jsxs("div",{children:[m.jsx("span",{className:"text-xs font-black uppercase tracking-widest block",children:"Operational Failure"}),m.jsx("span",{className:"text-[10px] font-bold opacity-80",children:u})]})]}),m.jsx("div",{className:"flex-1 min-h-0 overflow-auto no-scrollbar flex flex-col rounded-xl border border-border/50 bg-card/30",children:m.jsx(yk,{columns:ee,data:n,loading:s,onRowClick:U=>t(U.survey_id)})}),m.jsxs("div",{className:"pt-4 flex items-center justify-between border-t border-border shrink-0",children:[m.jsxs("div",{className:"flex items-center gap-4 text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] opacity-60",children:[m.jsxs("span",{className:"bg-muted px-2 py-1 rounded-md text-foreground/80",children:["Page ",h+1," of ",Math.ceil(y/Du)]}),m.jsxs("span",{children:["Showing ",n.length," of ",y.toLocaleString()," Entries"]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(He,{variant:"outline",size:"icon",disabled:h===0,onClick:()=>p(0),className:"hidden md:flex h-9 w-9 bg-card/50 hover:bg-muted disabled:opacity-30 rounded-xl",children:m.jsx(mA,{size:16})}),m.jsx(He,{variant:"outline",size:"icon",disabled:h===0,onClick:()=>p(U=>U-1),className:"h-9 w-9 bg-card/50 hover:bg-muted disabled:opacity-30 rounded-xl",children:m.jsx(Ku,{size:16})}),m.jsx(He,{variant:"outline",size:"icon",disabled:(h+1)*Du>=y,onClick:()=>p(U=>U+1),className:"h-9 w-9 bg-card/50 hover:bg-muted disabled:opacity-30 rounded-xl",children:m.jsx(hl,{size:16})}),m.jsx(He,{variant:"outline",size:"icon",disabled:(h+1)*Du>=y,onClick:()=>p(Math.max(0,Math.ceil(y/Du)-1)),className:"hidden md:flex h-9 w-9 bg-card/50 hover:bg-muted disabled:opacity-30 rounded-xl",children:m.jsx(gA,{size:16})})]})]})]}),m.jsx(fv,{open:M,onOpenChange:B,children:m.jsxs(nf,{side:"bottom",className:"rounded-t-3xl pt-6 bg-background/95 backdrop-blur-xl border-t border-border/50",children:[m.jsx(Xk,{className:"mb-6",children:m.jsx(Jk,{className:"uppercase font-black tracking-widest text-lg",children:"Filters"})}),m.jsxs("div",{className:"space-y-6 pb-8",children:[m.jsx("div",{className:"flex items-center bg-muted/50 p-1.5 rounded-xl border border-border/50 w-full",children:["ALL","ACTIVE_BILLER","NEW_SURVEY","ARCHIVED"].map(U=>m.jsx(He,{variant:x.masterStatus===U?"secondary":"ghost",size:"sm",onClick:()=>w(G=>({...G,masterStatus:U})),className:`flex-1 h-8 px-0 text-[9px] font-black tracking-widest uppercase transition-all ${x.masterStatus===U?"bg-card shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:U.split("_")[0]},U))}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"relative group",children:[m.jsx(uc,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-muted-foreground z-10",size:16}),m.jsx(Wi,{placeholder:"SEARCH DATASET...",className:"h-11 pl-10 bg-card/50 border-border/50 font-bold uppercase tracking-widest text-xs",value:x.search,onChange:U=>w(G=>({...G,search:U.target.value}))})]}),m.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[m.jsxs(gr,{value:x.district||"ALL_DISTRICTS",onValueChange:U=>w(G=>({...G,district:U==="ALL_DISTRICTS"?"":U,tehsil:"",uc:""})),children:[m.jsx(qn,{className:"h-11 bg-card/50 text-xs font-bold uppercase tracking-wide",children:m.jsx(vr,{placeholder:"DISTRICT"})}),m.jsxs(Kn,{children:[m.jsx(mt,{value:"ALL_DISTRICTS",children:"ALL DISTRICTS"}),E.map(U=>m.jsx(mt,{value:U,children:U},U))]})]}),m.jsxs(gr,{value:x.tehsil||"ALL_TEHSILS",onValueChange:U=>w(G=>({...G,tehsil:U==="ALL_TEHSILS"?"":U,uc:""})),children:[m.jsx(qn,{className:"h-11 bg-card/50 text-xs font-bold uppercase tracking-wide",children:m.jsx(vr,{placeholder:"TEHSIL"})}),m.jsxs(Kn,{children:[m.jsx(mt,{value:"ALL_TEHSILS",children:"ALL TEHSILS"}),k.map(U=>m.jsx(mt,{value:U,children:U},U))]})]}),m.jsxs(gr,{value:x.uc||"ALL_UCS",onValueChange:U=>w(G=>({...G,uc:U==="ALL_UCS"?"":U})),children:[m.jsx(qn,{className:"h-11 bg-card/50 text-xs font-bold uppercase tracking-wide",children:m.jsx(vr,{placeholder:"UC / AREA"})}),m.jsxs(Kn,{children:[m.jsx(mt,{value:"ALL_UCS",children:"ALL UCS"}),R.map(U=>m.jsx(mt,{value:U,children:U},U))]})]}),m.jsxs(gr,{value:x.surveyor||"ALL_SURVEYORS",onValueChange:U=>w(G=>({...G,surveyor:U==="ALL_SURVEYORS"?"":U})),children:[m.jsx(qn,{className:"h-11 bg-card/50 text-xs font-bold uppercase tracking-wide",children:m.jsx(vr,{placeholder:"SURVEYOR"})}),m.jsxs(Kn,{children:[m.jsx(mt,{value:"ALL_SURVEYORS",children:"ALL SURVEYORS"}),N.map(U=>m.jsx(mt,{value:U,children:U},U))]})]})]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx(He,{variant:"outline",className:"flex-1 h-12 border-dashed border-destructive/30 text-destructive hover:bg-destructive/10 hover:border-destructive/50 font-black uppercase tracking-widest",onClick:()=>{w({district:"SARGODHA",tehsil:"",uc:"",surveyor:"",unitType:"ALL",search:"",masterStatus:"ALL"}),B(!1)},children:"Reset"}),m.jsx(He,{className:"flex-[2] h-12 font-black uppercase tracking-widest",onClick:()=>B(!1),children:"Apply Filters"})]})]})]})}),m.jsx(fv,{open:!!e,onOpenChange:U=>!U&&t(null),children:m.jsx(nf,{side:"right",className:"w-[100vw] sm:w-[540px] p-0 border-l border-border/50 bg-background sm:rounded-l-3xl overflow-hidden shadow-2xl",children:e&&(()=>{const U=n.findIndex(le=>le&&String(le.survey_id).trim()===String(e).trim()),G=U>0?n[U-1].survey_id:null,ge=U!==-1&&U<n.length-1?n[U+1].survey_id:null;return m.jsx(rk,{surveyId:e,onClose:()=>t(null),hasNext:ge!=null,hasPrev:G!=null,onNext:ge!=null?()=>t(ge):null,onPrev:G!=null?()=>t(G):null},`detail-${e}`)})()})})]})}const Mf=C.createContext(null);Mf.displayName="PanelGroupContext";const At={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Fy=10,Ho=C.useLayoutEffect,gb=xc.useId,m4=typeof gb=="function"?gb:()=>null;let g4=0;function Vy(e=null){const t=m4(),n=C.useRef(e||t||null);return n.current===null&&(n.current=""+g4++),e??n.current}function sE({children:e,className:t="",collapsedSize:n,collapsible:r,defaultSize:s,forwardedRef:o,id:u,maxSize:c,minSize:h,onCollapse:p,onExpand:y,onResize:_,order:x,style:w,tagName:E="div",...k}){const R=C.useContext(Mf);if(R===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:N,expandPanel:A,getPanelSize:I,getPanelStyle:D,groupId:V,isPanelCollapsed:Z,reevaluatePanelConstraints:M,registerPanel:B,resizePanel:ee,unregisterPanel:ce}=R,U=Vy(u),G=C.useRef({callbacks:{onCollapse:p,onExpand:y,onResize:_},constraints:{collapsedSize:n,collapsible:r,defaultSize:s,maxSize:c,minSize:h},id:U,idIsFromProps:u!==void 0,order:x});C.useRef({didLogMissingDefaultSizeWarning:!1}),Ho(()=>{const{callbacks:le,constraints:be}=G.current,ye={...be};G.current.id=U,G.current.idIsFromProps=u!==void 0,G.current.order=x,le.onCollapse=p,le.onExpand=y,le.onResize=_,be.collapsedSize=n,be.collapsible=r,be.defaultSize=s,be.maxSize=c,be.minSize=h,(ye.collapsedSize!==be.collapsedSize||ye.collapsible!==be.collapsible||ye.maxSize!==be.maxSize||ye.minSize!==be.minSize)&&M(G.current,ye)}),Ho(()=>{const le=G.current;return B(le),()=>{ce(le)}},[x,U,B,ce]),C.useImperativeHandle(o,()=>({collapse:()=>{N(G.current)},expand:le=>{A(G.current,le)},getId(){return U},getSize(){return I(G.current)},isCollapsed(){return Z(G.current)},isExpanded(){return!Z(G.current)},resize:le=>{ee(G.current,le)}}),[N,A,I,Z,U,ee]);const ge=D(G.current,s);return C.createElement(E,{...k,children:e,className:t,id:U,style:{...ge,...w},[At.groupId]:V,[At.panel]:"",[At.panelCollapsible]:r||void 0,[At.panelId]:U,[At.panelSize]:parseFloat(""+ge.flexGrow).toFixed(1)})}const oE=C.forwardRef((e,t)=>C.createElement(sE,{...e,forwardedRef:t}));sE.displayName="Panel";oE.displayName="forwardRef(Panel)";let bv=null,Mh=-1,Ds=null;function v4(e,t){if(t){const n=(t&dE)!==0,r=(t&hE)!==0,s=(t&fE)!==0,o=(t&pE)!==0;if(n)return s?"se-resize":o?"ne-resize":"e-resize";if(r)return s?"sw-resize":o?"nw-resize":"w-resize";if(s)return"s-resize";if(o)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function y4(){Ds!==null&&(document.head.removeChild(Ds),bv=null,Ds=null,Mh=-1)}function lg(e,t){var n,r;const s=v4(e,t);if(bv!==s){if(bv=s,Ds===null&&(Ds=document.createElement("style"),document.head.appendChild(Ds)),Mh>=0){var o;(o=Ds.sheet)===null||o===void 0||o.removeRule(Mh)}Mh=(n=(r=Ds.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${s} !important;}`))!==null&&n!==void 0?n:-1}}function aE(e){return e.type==="keydown"}function lE(e){return e.type.startsWith("pointer")}function uE(e){return e.type.startsWith("mouse")}function Df(e){if(lE(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(uE(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function _4(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function x4(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function w4(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:_b(e),b:_b(t)};let r;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;Je(r,"Stacking order can only be calculated for elements with a common ancestor");const s={a:yb(vb(n.a)),b:yb(vb(n.b))};if(s.a===s.b){const o=r.childNodes,u={a:n.a.at(-1),b:n.b.at(-1)};let c=o.length;for(;c--;){const h=o[c];if(h===u.a)return 1;if(h===u.b)return-1}}return Math.sign(s.a-s.b)}const b4=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function S4(e){var t;const n=getComputedStyle((t=cE(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function C4(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||S4(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||b4.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function vb(e){let t=e.length;for(;t--;){const n=e[t];if(Je(n,"Missing node"),C4(n))return n}return null}function yb(e){return e&&Number(getComputedStyle(e).zIndex)||0}function _b(e){const t=[];for(;e;)t.push(e),e=cE(e);return t}function cE(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const dE=1,hE=2,fE=4,pE=8,k4=_4()==="coarse";let Fr=[],yl=!1,Bo=new Map,zf=new Map;const vc=new Set;function P4(e,t,n,r,s){var o;const{ownerDocument:u}=t,c={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:s},h=(o=Bo.get(u))!==null&&o!==void 0?o:0;return Bo.set(u,h+1),vc.add(c),uf(),function(){var y;zf.delete(e),vc.delete(c);const _=(y=Bo.get(u))!==null&&y!==void 0?y:1;if(Bo.set(u,_-1),uf(),_===1&&Bo.delete(u),Fr.includes(c)){const x=Fr.indexOf(c);x>=0&&Fr.splice(x,1),Uy(),s("up",!0,null)}}}function E4(e){const{target:t}=e,{x:n,y:r}=Df(e);yl=!0,$y({target:t,x:n,y:r}),uf(),Fr.length>0&&(cf("down",e),e.preventDefault(),mE(t)||e.stopImmediatePropagation())}function ug(e){const{x:t,y:n}=Df(e);if(yl&&e.buttons===0&&(yl=!1,cf("up",e)),!yl){const{target:r}=e;$y({target:r,x:t,y:n})}cf("move",e),Uy(),Fr.length>0&&e.preventDefault()}function cg(e){const{target:t}=e,{x:n,y:r}=Df(e);zf.clear(),yl=!1,Fr.length>0&&(e.preventDefault(),mE(t)||e.stopImmediatePropagation()),cf("up",e),$y({target:t,x:n,y:r}),Uy(),uf()}function mE(e){let t=e;for(;t;){if(t.hasAttribute(At.resizeHandle))return!0;t=t.parentElement}return!1}function $y({target:e,x:t,y:n}){Fr.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),vc.forEach(s=>{const{element:o,hitAreaMargins:u}=s,c=o.getBoundingClientRect(),{bottom:h,left:p,right:y,top:_}=c,x=k4?u.coarse:u.fine;if(t>=p-x&&t<=y+x&&n>=_-x&&n<=h+x){if(r!==null&&document.contains(r)&&o!==r&&!o.contains(r)&&!r.contains(o)&&w4(r,o)>0){let E=r,k=!1;for(;E&&!E.contains(o);){if(x4(E.getBoundingClientRect(),c)){k=!0;break}E=E.parentElement}if(k)return}Fr.push(s)}})}function dg(e,t){zf.set(e,t)}function Uy(){let e=!1,t=!1;Fr.forEach(r=>{const{direction:s}=r;s==="horizontal"?e=!0:t=!0});let n=0;zf.forEach(r=>{n|=r}),e&&t?lg("intersection",n):e?lg("horizontal",n):t?lg("vertical",n):y4()}let hg=new AbortController;function uf(){hg.abort(),hg=new AbortController;const e={capture:!0,signal:hg.signal};vc.size&&(yl?(Fr.length>0&&Bo.forEach((t,n)=>{const{body:r}=n;t>0&&(r.addEventListener("contextmenu",cg,e),r.addEventListener("pointerleave",ug,e),r.addEventListener("pointermove",ug,e))}),window.addEventListener("pointerup",cg,e),window.addEventListener("pointercancel",cg,e)):Bo.forEach((t,n)=>{const{body:r}=n;t>0&&(r.addEventListener("pointerdown",E4,e),r.addEventListener("pointermove",ug,e))}))}function cf(e,t){vc.forEach(n=>{const{setResizeHandlerState:r}=n,s=Fr.includes(n);r(e,s,t)})}function T4(){const[e,t]=C.useState(0);return C.useCallback(()=>t(n=>n+1),[])}function Je(e,t){if(!e)throw console.error(t),Error(t)}function Yo(e,t,n=Fy){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function $i(e,t,n=Fy){return Yo(e,t,n)===0}function Yn(e,t,n){return Yo(e,t,n)===0}function R4(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const s=e[r],o=t[r];if(!Yn(s,o,n))return!1}return!0}function cl({panelConstraints:e,panelIndex:t,size:n}){const r=e[t];Je(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:s=0,collapsible:o,maxSize:u=100,minSize:c=0}=r;if(Yo(n,c)<0)if(o){const h=(s+c)/2;Yo(n,h)<0?n=s:n=c}else n=c;return n=Math.min(u,n),n=parseFloat(n.toFixed(Fy)),n}function Wu({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:r,prevLayout:s,trigger:o}){if(Yn(e,0))return t;const u=[...t],[c,h]=r;Je(c!=null,"Invalid first pivot index"),Je(h!=null,"Invalid second pivot index");let p=0;if(o==="keyboard"){{const _=e<0?h:c,x=n[_];Je(x,`Panel constraints not found for index ${_}`);const{collapsedSize:w=0,collapsible:E,minSize:k=0}=x;if(E){const R=t[_];if(Je(R!=null,`Previous layout not found for panel index ${_}`),Yn(R,w)){const N=k-R;Yo(N,Math.abs(e))>0&&(e=e<0?0-N:N)}}}{const _=e<0?c:h,x=n[_];Je(x,`No panel constraints found for index ${_}`);const{collapsedSize:w=0,collapsible:E,minSize:k=0}=x;if(E){const R=t[_];if(Je(R!=null,`Previous layout not found for panel index ${_}`),Yn(R,k)){const N=R-w;Yo(N,Math.abs(e))>0&&(e=e<0?0-N:N)}}}}{const _=e<0?1:-1;let x=e<0?h:c,w=0;for(;;){const k=t[x];Je(k!=null,`Previous layout not found for panel index ${x}`);const N=cl({panelConstraints:n,panelIndex:x,size:100})-k;if(w+=N,x+=_,x<0||x>=n.length)break}const E=Math.min(Math.abs(e),Math.abs(w));e=e<0?0-E:E}{let x=e<0?c:h;for(;x>=0&&x<n.length;){const w=Math.abs(e)-Math.abs(p),E=t[x];Je(E!=null,`Previous layout not found for panel index ${x}`);const k=E-w,R=cl({panelConstraints:n,panelIndex:x,size:k});if(!Yn(E,R)&&(p+=E-R,u[x]=R,p.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?x--:x++}}if(R4(s,u))return s;{const _=e<0?h:c,x=t[_];Je(x!=null,`Previous layout not found for panel index ${_}`);const w=x+p,E=cl({panelConstraints:n,panelIndex:_,size:w});if(u[_]=E,!Yn(E,w)){let k=w-E,N=e<0?h:c;for(;N>=0&&N<n.length;){const A=u[N];Je(A!=null,`Previous layout not found for panel index ${N}`);const I=A+k,D=cl({panelConstraints:n,panelIndex:N,size:I});if(Yn(A,D)||(k-=D-A,u[N]=D),Yn(k,0))break;e>0?N--:N++}}}const y=u.reduce((_,x)=>x+_,0);return Yn(y,100)?u:s}function L4({layout:e,panelsArray:t,pivotIndices:n}){let r=0,s=100,o=0,u=0;const c=n[0];Je(c!=null,"No pivot index found"),t.forEach((_,x)=>{const{constraints:w}=_,{maxSize:E=100,minSize:k=0}=w;x===c?(r=k,s=E):(o+=k,u+=E)});const h=Math.min(s,100-o),p=Math.max(r,100-u),y=e[c];return{valueMax:h,valueMin:p,valueNow:y}}function yc(e,t=document){return Array.from(t.querySelectorAll(`[${At.resizeHandleId}][data-panel-group-id="${e}"]`))}function gE(e,t,n=document){const s=yc(e,n).findIndex(o=>o.getAttribute(At.resizeHandleId)===t);return s??null}function vE(e,t,n){const r=gE(e,t,n);return r!=null?[r,r+1]:[-1,-1]}function yE(e,t=document){var n;if(t instanceof HTMLElement&&(t==null||(n=t.dataset)===null||n===void 0?void 0:n.panelGroupId)==e)return t;const r=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return r||null}function Bf(e,t=document){const n=t.querySelector(`[${At.resizeHandleId}="${e}"]`);return n||null}function N4(e,t,n,r=document){var s,o,u,c;const h=Bf(t,r),p=yc(e,r),y=h?p.indexOf(h):-1,_=(s=(o=n[y])===null||o===void 0?void 0:o.id)!==null&&s!==void 0?s:null,x=(u=(c=n[y+1])===null||c===void 0?void 0:c.id)!==null&&u!==void 0?u:null;return[_,x]}function A4({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:r,panelDataArray:s,panelGroupElement:o,setLayout:u}){C.useRef({didWarnAboutMissingResizeHandle:!1}),Ho(()=>{if(!o)return;const c=yc(n,o);for(let h=0;h<s.length-1;h++){const{valueMax:p,valueMin:y,valueNow:_}=L4({layout:r,panelsArray:s,pivotIndices:[h,h+1]}),x=c[h];if(x!=null){const w=s[h];Je(w,`No panel data found for index "${h}"`),x.setAttribute("aria-controls",w.id),x.setAttribute("aria-valuemax",""+Math.round(p)),x.setAttribute("aria-valuemin",""+Math.round(y)),x.setAttribute("aria-valuenow",_!=null?""+Math.round(_):"")}}return()=>{c.forEach((h,p)=>{h.removeAttribute("aria-controls"),h.removeAttribute("aria-valuemax"),h.removeAttribute("aria-valuemin"),h.removeAttribute("aria-valuenow")})}},[n,r,s,o]),C.useEffect(()=>{if(!o)return;const c=t.current;Je(c,"Eager values not found");const{panelDataArray:h}=c,p=yE(n,o);Je(p!=null,`No group found for id "${n}"`);const y=yc(n,o);Je(y,`No resize handles found for group id "${n}"`);const _=y.map(x=>{const w=x.getAttribute(At.resizeHandleId);Je(w,"Resize handle element has no handle id attribute");const[E,k]=N4(n,w,h,o);if(E==null||k==null)return()=>{};const R=N=>{if(!N.defaultPrevented)switch(N.key){case"Enter":{N.preventDefault();const A=h.findIndex(I=>I.id===E);if(A>=0){const I=h[A];Je(I,`No panel data found for index ${A}`);const D=r[A],{collapsedSize:V=0,collapsible:Z,minSize:M=0}=I.constraints;if(D!=null&&Z){const B=Wu({delta:Yn(D,V)?M-V:V-D,initialLayout:r,panelConstraints:h.map(ee=>ee.constraints),pivotIndices:vE(n,w,o),prevLayout:r,trigger:"keyboard"});r!==B&&u(B)}}break}}};return x.addEventListener("keydown",R),()=>{x.removeEventListener("keydown",R)}});return()=>{_.forEach(x=>x())}},[o,e,t,n,r,s,u])}function xb(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function _E(e,t){const n=e==="horizontal",{x:r,y:s}=Df(t);return n?r:s}function j4(e,t,n,r,s){const o=n==="horizontal",u=Bf(t,s);Je(u,`No resize handle element found for id "${t}"`);const c=u.getAttribute(At.groupId);Je(c,"Resize handle element has no group id attribute");let{initialCursorPosition:h}=r;const p=_E(n,e),y=yE(c,s);Je(y,`No group element found for id "${c}"`);const _=y.getBoundingClientRect(),x=o?_.width:_.height;return(p-h)/x*100}function I4(e,t,n,r,s,o){if(aE(e)){const u=n==="horizontal";let c=0;e.shiftKey?c=100:s!=null?c=s:c=10;let h=0;switch(e.key){case"ArrowDown":h=u?0:c;break;case"ArrowLeft":h=u?-c:0;break;case"ArrowRight":h=u?c:0;break;case"ArrowUp":h=u?0:-c;break;case"End":h=100;break;case"Home":h=-100;break}return h}else return r==null?0:j4(e,t,n,r,o)}function O4({panelDataArray:e}){const t=Array(e.length),n=e.map(o=>o.constraints);let r=0,s=100;for(let o=0;o<e.length;o++){const u=n[o];Je(u,`Panel constraints not found for index ${o}`);const{defaultSize:c}=u;c!=null&&(r++,t[o]=c,s-=c)}for(let o=0;o<e.length;o++){const u=n[o];Je(u,`Panel constraints not found for index ${o}`);const{defaultSize:c}=u;if(c!=null)continue;const h=e.length-r,p=s/h;r++,t[o]=p,s-=p}return t}function el(e,t,n){t.forEach((r,s)=>{const o=e[s];Je(o,`Panel data not found for index ${s}`);const{callbacks:u,constraints:c,id:h}=o,{collapsedSize:p=0,collapsible:y}=c,_=n[h];if(_==null||r!==_){n[h]=r;const{onCollapse:x,onExpand:w,onResize:E}=u;E&&E(r,_),y&&(x||w)&&(w&&(_==null||$i(_,p))&&!$i(r,p)&&w(),x&&(_==null||!$i(_,p))&&$i(r,p)&&x())}})}function Sh(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function M4({defaultSize:e,dragState:t,layout:n,panelData:r,panelIndex:s,precision:o=3}){const u=n[s];let c;return u==null?c=e!=null?e.toPrecision(o):"1":r.length===1?c="1":c=u.toPrecision(o),{flexBasis:0,flexGrow:c,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function D4(e,t=10){let n=null;return(...s)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...s)},t)}}function wb(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function xE(e){return`react-resizable-panels:${e}`}function wE(e){return e.map(t=>{const{constraints:n,id:r,idIsFromProps:s,order:o}=t;return s?r:o?`${o}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function bE(e,t){try{const n=xE(e),r=t.getItem(n);if(r){const s=JSON.parse(r);if(typeof s=="object"&&s!=null)return s}}catch{}return null}function z4(e,t,n){var r,s;const o=(r=bE(e,n))!==null&&r!==void 0?r:{},u=wE(t);return(s=o[u])!==null&&s!==void 0?s:null}function B4(e,t,n,r,s){var o;const u=xE(e),c=wE(t),h=(o=bE(e,s))!==null&&o!==void 0?o:{};h[c]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{s.setItem(u,JSON.stringify(h))}catch(p){console.error(p)}}function bb({layout:e,panelConstraints:t}){const n=[...e],r=n.reduce((o,u)=>o+u,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(o=>`${o}%`).join(", ")}`);if(!Yn(r,100)&&n.length>0)for(let o=0;o<t.length;o++){const u=n[o];Je(u!=null,`No layout data found for index ${o}`);const c=100/r*u;n[o]=c}let s=0;for(let o=0;o<t.length;o++){const u=n[o];Je(u!=null,`No layout data found for index ${o}`);const c=cl({panelConstraints:t,panelIndex:o,size:u});u!=c&&(s+=u-c,n[o]=c)}if(!Yn(s,0))for(let o=0;o<t.length;o++){const u=n[o];Je(u!=null,`No layout data found for index ${o}`);const c=u+s,h=cl({panelConstraints:t,panelIndex:o,size:c});if(u!==h&&(s-=h-u,n[o]=h,Yn(s,0)))break}return n}const F4=100,Gu={getItem:e=>(wb(Gu),Gu.getItem(e)),setItem:(e,t)=>{wb(Gu),Gu.setItem(e,t)}},Sb={};function SE({autoSaveId:e=null,children:t,className:n="",direction:r,forwardedRef:s,id:o=null,onLayout:u=null,keyboardResizeBy:c=null,storage:h=Gu,style:p,tagName:y="div",..._}){const x=Vy(o),w=C.useRef(null),[E,k]=C.useState(null),[R,N]=C.useState([]),A=T4(),I=C.useRef({}),D=C.useRef(new Map),V=C.useRef(0),Z=C.useRef({autoSaveId:e,direction:r,dragState:E,id:x,keyboardResizeBy:c,onLayout:u,storage:h}),M=C.useRef({layout:R,panelDataArray:[],panelDataArrayChanged:!1});C.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),C.useImperativeHandle(s,()=>({getId:()=>Z.current.id,getLayout:()=>{const{layout:ie}=M.current;return ie},setLayout:ie=>{const{onLayout:oe}=Z.current,{layout:ue,panelDataArray:ae}=M.current,J=bb({layout:ie,panelConstraints:ae.map(K=>K.constraints)});xb(ue,J)||(N(J),M.current.layout=J,oe&&oe(J),el(ae,J,I.current))}}),[]),Ho(()=>{Z.current.autoSaveId=e,Z.current.direction=r,Z.current.dragState=E,Z.current.id=x,Z.current.onLayout=u,Z.current.storage=h}),A4({committedValuesRef:Z,eagerValuesRef:M,groupId:x,layout:R,panelDataArray:M.current.panelDataArray,setLayout:N,panelGroupElement:w.current}),C.useEffect(()=>{const{panelDataArray:ie}=M.current;if(e){if(R.length===0||R.length!==ie.length)return;let oe=Sb[e];oe==null&&(oe=D4(B4,F4),Sb[e]=oe);const ue=[...ie],ae=new Map(D.current);oe(e,ue,ae,R,h)}},[e,R,h]),C.useEffect(()=>{});const B=C.useCallback(ie=>{const{onLayout:oe}=Z.current,{layout:ue,panelDataArray:ae}=M.current;if(ie.constraints.collapsible){const J=ae.map(Oe=>Oe.constraints),{collapsedSize:K=0,panelSize:de,pivotIndices:we}=Io(ae,ie,ue);if(Je(de!=null,`Panel size not found for panel "${ie.id}"`),!$i(de,K)){D.current.set(ie.id,de);const Be=il(ae,ie)===ae.length-1?de-K:K-de,Ee=Wu({delta:Be,initialLayout:ue,panelConstraints:J,pivotIndices:we,prevLayout:ue,trigger:"imperative-api"});Sh(ue,Ee)||(N(Ee),M.current.layout=Ee,oe&&oe(Ee),el(ae,Ee,I.current))}}},[]),ee=C.useCallback((ie,oe)=>{const{onLayout:ue}=Z.current,{layout:ae,panelDataArray:J}=M.current;if(ie.constraints.collapsible){const K=J.map(lt=>lt.constraints),{collapsedSize:de=0,panelSize:we=0,minSize:Oe=0,pivotIndices:Be}=Io(J,ie,ae),Ee=oe??Oe;if($i(we,de)){const lt=D.current.get(ie.id),mn=lt!=null&&lt>=Ee?lt:Ee,gn=il(J,ie)===J.length-1?we-mn:mn-we,Pt=Wu({delta:gn,initialLayout:ae,panelConstraints:K,pivotIndices:Be,prevLayout:ae,trigger:"imperative-api"});Sh(ae,Pt)||(N(Pt),M.current.layout=Pt,ue&&ue(Pt),el(J,Pt,I.current))}}},[]),ce=C.useCallback(ie=>{const{layout:oe,panelDataArray:ue}=M.current,{panelSize:ae}=Io(ue,ie,oe);return Je(ae!=null,`Panel size not found for panel "${ie.id}"`),ae},[]),U=C.useCallback((ie,oe)=>{const{panelDataArray:ue}=M.current,ae=il(ue,ie);return M4({defaultSize:oe,dragState:E,layout:R,panelData:ue,panelIndex:ae})},[E,R]),G=C.useCallback(ie=>{const{layout:oe,panelDataArray:ue}=M.current,{collapsedSize:ae=0,collapsible:J,panelSize:K}=Io(ue,ie,oe);return Je(K!=null,`Panel size not found for panel "${ie.id}"`),J===!0&&$i(K,ae)},[]),ge=C.useCallback(ie=>{const{layout:oe,panelDataArray:ue}=M.current,{collapsedSize:ae=0,collapsible:J,panelSize:K}=Io(ue,ie,oe);return Je(K!=null,`Panel size not found for panel "${ie.id}"`),!J||Yo(K,ae)>0},[]),le=C.useCallback(ie=>{const{panelDataArray:oe}=M.current;oe.push(ie),oe.sort((ue,ae)=>{const J=ue.order,K=ae.order;return J==null&&K==null?0:J==null?-1:K==null?1:J-K}),M.current.panelDataArrayChanged=!0,A()},[A]);Ho(()=>{if(M.current.panelDataArrayChanged){M.current.panelDataArrayChanged=!1;const{autoSaveId:ie,onLayout:oe,storage:ue}=Z.current,{layout:ae,panelDataArray:J}=M.current;let K=null;if(ie){const we=z4(ie,J,ue);we&&(D.current=new Map(Object.entries(we.expandToSizes)),K=we.layout)}K==null&&(K=O4({panelDataArray:J}));const de=bb({layout:K,panelConstraints:J.map(we=>we.constraints)});xb(ae,de)||(N(de),M.current.layout=de,oe&&oe(de),el(J,de,I.current))}}),Ho(()=>{const ie=M.current;return()=>{ie.layout=[]}},[]);const be=C.useCallback(ie=>{let oe=!1;const ue=w.current;return ue&&window.getComputedStyle(ue,null).getPropertyValue("direction")==="rtl"&&(oe=!0),function(J){J.preventDefault();const K=w.current;if(!K)return()=>null;const{direction:de,dragState:we,id:Oe,keyboardResizeBy:Be,onLayout:Ee}=Z.current,{layout:lt,panelDataArray:mn}=M.current,{initialLayout:kn}=we??{},gn=vE(Oe,ie,K);let Pt=I4(J,ie,de,we,Be,K);const Ki=de==="horizontal";Ki&&oe&&(Pt=-Pt);const Hr=mn.map(Qs=>Qs.constraints),nn=Wu({delta:Pt,initialLayout:kn??lt,panelConstraints:Hr,pivotIndices:gn,prevLayout:lt,trigger:aE(J)?"keyboard":"mouse-or-touch"}),pi=!Sh(lt,nn);(lE(J)||uE(J))&&V.current!=Pt&&(V.current=Pt,!pi&&Pt!==0?Ki?dg(ie,Pt<0?dE:hE):dg(ie,Pt<0?fE:pE):dg(ie,0)),pi&&(N(nn),M.current.layout=nn,Ee&&Ee(nn),el(mn,nn,I.current))}},[]),ye=C.useCallback((ie,oe)=>{const{onLayout:ue}=Z.current,{layout:ae,panelDataArray:J}=M.current,K=J.map(lt=>lt.constraints),{panelSize:de,pivotIndices:we}=Io(J,ie,ae);Je(de!=null,`Panel size not found for panel "${ie.id}"`);const Be=il(J,ie)===J.length-1?de-oe:oe-de,Ee=Wu({delta:Be,initialLayout:ae,panelConstraints:K,pivotIndices:we,prevLayout:ae,trigger:"imperative-api"});Sh(ae,Ee)||(N(Ee),M.current.layout=Ee,ue&&ue(Ee),el(J,Ee,I.current))},[]),_e=C.useCallback((ie,oe)=>{const{layout:ue,panelDataArray:ae}=M.current,{collapsedSize:J=0,collapsible:K}=oe,{collapsedSize:de=0,collapsible:we,maxSize:Oe=100,minSize:Be=0}=ie.constraints,{panelSize:Ee}=Io(ae,ie,ue);Ee!=null&&(K&&we&&$i(Ee,J)?$i(J,de)||ye(ie,de):Ee<Be?ye(ie,Be):Ee>Oe&&ye(ie,Oe))},[ye]),F=C.useCallback((ie,oe)=>{const{direction:ue}=Z.current,{layout:ae}=M.current;if(!w.current)return;const J=Bf(ie,w.current);Je(J,`Drag handle element not found for id "${ie}"`);const K=_E(ue,oe);k({dragHandleId:ie,dragHandleRect:J.getBoundingClientRect(),initialCursorPosition:K,initialLayout:ae})},[]),me=C.useCallback(()=>{k(null)},[]),re=C.useCallback(ie=>{const{panelDataArray:oe}=M.current,ue=il(oe,ie);ue>=0&&(oe.splice(ue,1),delete I.current[ie.id],M.current.panelDataArrayChanged=!0,A())},[A]),H=C.useMemo(()=>({collapsePanel:B,direction:r,dragState:E,expandPanel:ee,getPanelSize:ce,getPanelStyle:U,groupId:x,isPanelCollapsed:G,isPanelExpanded:ge,reevaluatePanelConstraints:_e,registerPanel:le,registerResizeHandle:be,resizePanel:ye,startDragging:F,stopDragging:me,unregisterPanel:re,panelGroupElement:w.current}),[B,E,r,ee,ce,U,x,G,ge,_e,le,be,ye,F,me,re]),se={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return C.createElement(Mf.Provider,{value:H},C.createElement(y,{..._,children:t,className:n,id:o,ref:w,style:{...se,...p},[At.group]:"",[At.groupDirection]:r,[At.groupId]:x}))}const CE=C.forwardRef((e,t)=>C.createElement(SE,{...e,forwardedRef:t}));SE.displayName="PanelGroup";CE.displayName="forwardRef(PanelGroup)";function il(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function Io(e,t,n){const r=il(e,t),o=r===e.length-1?[r-1,r]:[r,r+1],u=n[r];return{...t.constraints,panelSize:u,pivotIndices:o}}function V4({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:r}){C.useEffect(()=>{if(e||n==null||r==null)return;const s=Bf(t,r);if(s==null)return;const o=u=>{if(!u.defaultPrevented)switch(u.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{u.preventDefault(),n(u);break}case"F6":{u.preventDefault();const c=s.getAttribute(At.groupId);Je(c,`No group element found for id "${c}"`);const h=yc(c,r),p=gE(c,t,r);Je(p!==null,`No resize element found for id "${t}"`);const y=u.shiftKey?p>0?p-1:h.length-1:p+1<h.length?p+1:0;h[y].focus();break}}};return s.addEventListener("keydown",o),()=>{s.removeEventListener("keydown",o)}},[r,e,t,n])}function kE({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:r,id:s,onBlur:o,onClick:u,onDragging:c,onFocus:h,onPointerDown:p,onPointerUp:y,style:_={},tabIndex:x=0,tagName:w="div",...E}){var k,R;const N=C.useRef(null),A=C.useRef({onClick:u,onDragging:c,onPointerDown:p,onPointerUp:y});C.useEffect(()=>{A.current.onClick=u,A.current.onDragging=c,A.current.onPointerDown=p,A.current.onPointerUp=y});const I=C.useContext(Mf);if(I===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:D,groupId:V,registerResizeHandle:Z,startDragging:M,stopDragging:B,panelGroupElement:ee}=I,ce=Vy(s),[U,G]=C.useState("inactive"),[ge,le]=C.useState(!1),[be,ye]=C.useState(null),_e=C.useRef({state:U});Ho(()=>{_e.current.state=U}),C.useEffect(()=>{if(n)ye(null);else{const H=Z(ce);ye(()=>H)}},[n,ce,Z]);const F=(k=r?.coarse)!==null&&k!==void 0?k:15,me=(R=r?.fine)!==null&&R!==void 0?R:5;C.useEffect(()=>{if(n||be==null)return;const H=N.current;Je(H,"Element ref not attached");let se=!1;return P4(ce,H,D,{coarse:F,fine:me},(oe,ue,ae)=>{if(!ue){G("inactive");return}switch(oe){case"down":{G("drag"),se=!1,Je(ae,'Expected event to be defined for "down" action'),M(ce,ae);const{onDragging:J,onPointerDown:K}=A.current;J?.(!0),K?.();break}case"move":{const{state:J}=_e.current;se=!0,J!=="drag"&&G("hover"),Je(ae,'Expected event to be defined for "move" action'),be(ae);break}case"up":{G("hover"),B();const{onClick:J,onDragging:K,onPointerUp:de}=A.current;K?.(!1),de?.(),se||J?.();break}}})},[F,D,n,me,Z,ce,be,M,B]),V4({disabled:n,handleId:ce,resizeHandler:be,panelGroupElement:ee});const re={touchAction:"none",userSelect:"none"};return C.createElement(w,{...E,children:e,className:t,id:s,onBlur:()=>{le(!1),o?.()},onFocus:()=>{le(!0),h?.()},ref:N,role:"separator",style:{...re,..._},tabIndex:x,[At.groupDirection]:D,[At.groupId]:V,[At.resizeHandle]:"",[At.resizeHandleActive]:U==="drag"?"pointer":ge?"keyboard":void 0,[At.resizeHandleEnabled]:!n,[At.resizeHandleId]:ce,[At.resizeHandleState]:U})}kE.displayName="PanelResizeHandle";const $4=({className:e,...t})=>m.jsx(CE,{className:Me("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t}),fg=oE,Cb=({withHandle:e,className:t,...n})=>m.jsx(kE,{className:Me("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...n,children:e&&m.jsx("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:m.jsx(SA,{className:"h-2.5 w-2.5"})})}),kb=50;function U4(){const{setSelectedSurveyId:e}=Sc(),[t,n]=C.useState([]),[r,s]=C.useState(!1),[o,u]=C.useState(null),[c,h]=C.useState(0),[p,y]=C.useState(0),[_,x]=C.useState(null),[w,E]=C.useState(null),[k,R]=C.useState(!1),[N,A]=C.useState({grand_totals:{total_revenue:0,total_bills_paid:0,total_demand:0,total_units:0,total_transactions:0},tehsils:[],mcucs:[],categories:[]}),[I,D]=C.useState(!1),[V,Z]=C.useState(null),[M,B]=C.useState({district:"",tehsil:"",uc:"",surveyor:"",unitType:"ALL",month:"ALL",search:""}),[ee,ce]=C.useState(null),[U,G]=C.useState(!1),[ge,le]=C.useState({tehsil:!0,mcuc:!0,category:!0}),{districts:be,tehsils:ye}=ik(M),[_e,F]=C.useState([]),[me,re]=C.useState({key:"id_numeric",direction:"desc"}),H=K=>{le(de=>({...de,[K]:!de[K]}))},se=C.useCallback(async()=>{try{D(!0),Z(null);let K="Dec-2025";if(M.month!=="ALL"){const[Ee,lt]=M.month.split(" ");Ee&&lt&&(K=`${Ee.substring(0,3)}-${lt}`)}const de={p_district:M.district||null,p_tehsil:M.tehsil||null,p_bill_month:K};console.log("Fetching Summary with Params:",de);const{data:we,error:Oe}=await Bt.rpc("get_finance_summary_metrics",de);if(Oe){console.error("RPC Error (Summary):",Oe),Z(Oe.message);return}if(!we){console.warn("Summary RPC returned no data.");return}const Be=Array.isArray(we)?we[0]:we;if(!Be){console.warn("Summary RPC result is empty.");return}console.log("Finance Metrics Data Received:",Be),A({grand_totals:Be.grand_totals||{total_revenue:0,total_bills_paid:0,total_demand:0,total_units:0,total_transactions:0},tehsils:(Be.tehsil_stats||[]).map(Ee=>({name:Ee.name||"UNKNOWN",units:Number(Ee.total_units||0),paid:Number(Ee.total_paid||0),transactions:Number(Ee.total_transactions||0),amount:Number(Ee.total_collected||0)})),mcucs:(Be.uc_stats||[]).map(Ee=>({name:Ee.name||"UNKNOWN",units:Number(Ee.total_units||0),paid:Number(Ee.total_paid||0),transactions:Number(Ee.total_transactions||0),amount:Number(Ee.total_collected||0)})),categories:(Be.category_stats||[]).map(Ee=>({name:String(Ee.name||"OTHER").toUpperCase(),units:Number(Ee.count||0),paid:Number(Ee.total_paid||0),transactions:Number(Ee.total_transactions||0),amount:Number(Ee.potential_revenue||0)}))})}catch(K){console.error("Critical Summary Error:",K),Z(K.message)}finally{D(!1)}},[M.district,M.tehsil,M.month]),ie=C.useCallback(async()=>{try{G(!0);const{data:K,error:de}=await Bt.rpc("get_payer_retention_report",{p_cohort_month:M.month==="ALL"?"NOV2025":M.month,p_district:M.district||null});if(de)throw de;ce(K)}catch(K){console.error("Retention Report Error:",K)}finally{G(!1)}},[M.district,M.month]);C.useEffect(()=>{const K=setTimeout(()=>{se(),ie()},300);return()=>clearTimeout(K)},[se,ie]);const oe=C.useMemo(()=>[{accessorKey:"survey_id",header:"Survey ID",cell:({row:K})=>m.jsxs("div",{className:"flex flex-col gap-0.5",children:[m.jsx("span",{className:"text-sm font-black text-primary tabular-nums leading-none",children:K.original.survey_id}),m.jsx("span",{className:"text-[10px] text-muted-foreground uppercase font-bold tracking-tighter opacity-70",children:K.original.surveyor_name||"System"})]})},{accessorKey:"consumer_name",header:"Identity",cell:({row:K})=>m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-sm font-bold truncate max-w-[150px]",children:K.original.consumer_name||"Anonymous"}),m.jsx("span",{className:"text-[10px] text-muted-foreground truncate max-w-[150px]",children:K.original.address||"No Address"})]})},{accessorKey:"status",header:"Status",cell:({row:K})=>K.original.is_biller?m.jsx(Nt,{status:"Active",variant:"active"}):m.jsx(Nt,{status:"Pending",variant:"pending"})}],[]),ue=C.useCallback(async()=>{try{s(!0),u(null);const{data:K,error:de}=await Bt.rpc("get_hydrated_survey_stats",{p_district:M.district||null,p_tehsil:M.tehsil||null,p_uc:M.uc||null,p_surveyor:M.surveyor||null,p_search:M.search||null,p_master_status:"ACTIVE_BILLER",p_unit_type:M.unitType==="ALL"?null:M.unitType,p_sort_column:me.key,p_sort_direction:me.direction,p_page_size:kb,p_page_index:c});if(de)throw de;const{total_result_count:we,hydrated_records:Oe}=K?.[0]||{total_result_count:0,hydrated_records:[]};y(Number(we)),n(Oe||[])}catch(K){u(K.message)}finally{s(!1)}},[M,c,me]),ae=async K=>{try{R(!0),x(K);const{data:de,error:we}=await Bt.rpc("get_unit_history_360",{p_survey_id:K.survey_id});if(we)throw we;E(Array.isArray(de)?de[0]:de)}catch(de){console.error("History Error:",de)}finally{R(!1)}};C.useEffect(()=>{const K=setTimeout(ue,500);return()=>clearTimeout(K)},[ue]);const J=C.useMemo(()=>{const K=[],de=new Date;for(let we=0;we<12;we++){const Oe=de.toLocaleString("default",{month:"long",year:"numeric"});K.push(Oe),de.setMonth(de.getMonth()-1)}return K},[]);return m.jsxs("div",{className:"flex-1 flex flex-col min-h-0 bg-background overflow-hidden",children:[m.jsxs("div",{className:"px-4 py-3 flex items-center justify-between border-b border-border bg-card/30 backdrop-blur-md shrink-0",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("h1",{className:"text-xl font-black tracking-tight uppercase leading-none",children:"Finance Center"}),m.jsx("span",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-widest mt-1",children:"Billing & Recovery Audit"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs(He,{variant:"outline",size:"sm",className:"h-8 text-[10px] font-black tracking-widest uppercase gap-2 bg-card",children:[m.jsx(xA,{size:12}),"Export Ledger"]}),m.jsx(He,{onClick:()=>{ue(),se()},variant:"outline",size:"icon",className:"h-8 w-8 bg-card",children:m.jsx(Rv,{size:14,className:r||I?"animate-spin":""})})]})]}),m.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:m.jsxs($4,{direction:"horizontal",className:"h-full items-stretch",children:[m.jsx(fg,{defaultSize:25,minSize:20,maxSize:35,children:m.jsxs("aside",{className:"h-full flex flex-col bg-secondary/10 border-r border-border",children:[m.jsxs("div",{className:"p-3 border-b border-border bg-card/20",children:[m.jsxs("h2",{className:"text-[11px] font-black uppercase tracking-[0.2em] text-muted-foreground mb-3 flex items-center gap-2",children:[m.jsx(dx,{size:14,className:"text-primary"}),"Financial Summaries"]}),m.jsx("div",{className:"space-y-2",children:V?m.jsxs("div",{className:"p-3 rounded-lg bg-destructive/10 border border-destructive/20 text-center",children:[m.jsx("p",{className:"text-[9px] font-black text-destructive uppercase mb-2",children:"Sync Error"}),m.jsx(He,{variant:"outline",size:"sm",className:"h-6 text-[8px] font-black uppercase w-full",onClick:se,children:"Retry Sync"})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"p-2 rounded-lg bg-background border border-border/50 relative overflow-hidden",children:[I&&m.jsx("div",{className:"absolute inset-0 bg-background/50 backdrop-blur-[2px] z-10 animate-pulse"}),m.jsxs("div",{className:"flex flex-col gap-0.5",children:[m.jsx("span",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-wider block mb-1",children:"Total Potential (Demand)"}),m.jsx("span",{className:"text-3xl md:text-4xl font-black tabular-nums tracking-tighter text-purple-500 font-mono",children:m.jsx(er,{amount:N.grand_totals.total_demand})})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-4 relative overflow-hidden",children:[I&&m.jsx("div",{className:"absolute inset-0 bg-background/50 backdrop-blur-[2px] z-10 animate-pulse"}),m.jsxs("div",{className:"p-3 rounded-xl bg-background border border-border/50 shadow-sm",children:[m.jsx("span",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest block mb-2",children:"Total Recovery"}),m.jsx("span",{className:"text-xl font-black tabular-nums text-emerald-500 font-mono",children:m.jsx(er,{amount:N.grand_totals.total_revenue})})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsxs("div",{className:"p-3 rounded-xl bg-background border border-border/50 shadow-sm",children:[m.jsx("span",{className:"text-[9px] font-bold text-muted-foreground uppercase tracking-widest block mb-1",children:"Units"}),m.jsx("span",{className:"text-sm font-black tabular-nums text-blue-500",children:N.grand_totals.total_units.toLocaleString()})]}),m.jsxs("div",{className:"p-3 rounded-xl bg-background border border-border/50 shadow-sm",children:[m.jsx("span",{className:"text-[9px] font-bold text-muted-foreground uppercase tracking-widest block mb-1",children:"Receipts"}),m.jsx("span",{className:"text-sm font-black tabular-nums text-amber-500",children:N.grand_totals.total_transactions.toLocaleString()})]})]})]})]})})]}),m.jsx(ef,{className:"flex-1 p-2",children:m.jsxs("div",{className:"space-y-2",children:[m.jsx(pg,{title:"Tehsil Wise Paid",isOpen:ge.tehsil,onToggle:()=>H("tehsil"),items:N.tehsils}),m.jsx(pg,{title:"MC/UC Wise Paid",isOpen:ge.mcuc,onToggle:()=>H("mcuc"),items:N.mcucs}),m.jsx(pg,{title:"Major Categories",isOpen:ge.category,onToggle:()=>H("category"),items:N.categories,color:"purple",label:"Potential"})]})})]})}),m.jsx(Cb,{withHandle:!0}),m.jsx(fg,{defaultSize:50,minSize:30,children:m.jsxs("main",{className:"h-full flex flex-col min-w-0 bg-background",children:[m.jsxs("div",{className:"px-4 py-2 bg-muted/20 border-b border-border flex flex-wrap items-center gap-2",children:[m.jsxs("div",{className:"relative group w-40",children:[m.jsx(uc,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-muted-foreground group-focus-within:text-primary transition-colors",size:12}),m.jsx(Wi,{placeholder:"SURVEY ID / NAME",className:"h-8 pl-8 bg-card text-[10px] font-bold uppercase border-border/50",value:M.search,onChange:K=>B(de=>({...de,search:K.target.value}))})]}),m.jsxs(gr,{value:M.month,onValueChange:K=>B(de=>({...de,month:K})),children:[m.jsx(qn,{className:"h-8 w-32 bg-card text-[10px] font-bold uppercase border-border/50",children:m.jsx(vr,{placeholder:"MONTH"})}),m.jsxs(Kn,{children:[m.jsx(mt,{value:"ALL",children:"ALL MONTHS"}),J.map(K=>m.jsx(mt,{value:K,children:K},K))]})]}),m.jsxs(gr,{value:M.district||"ALL",onValueChange:K=>B(de=>({...de,district:K==="ALL"?"":K,tehsil:"",uc:""})),children:[m.jsx(qn,{className:"h-8 w-28 bg-card text-[10px] font-bold uppercase border-border/50",children:m.jsx(vr,{placeholder:"DISTRICT"})}),m.jsxs(Kn,{children:[m.jsx(mt,{value:"ALL",children:"ALL DISTRICTS"}),be.map(K=>m.jsx(mt,{value:K,children:K},K))]})]}),m.jsxs(gr,{value:M.tehsil||"ALL",onValueChange:K=>B(de=>({...de,tehsil:K==="ALL"?"":K,uc:""})),children:[m.jsx(qn,{className:"h-8 w-28 bg-card text-[10px] font-bold uppercase border-border/50",children:m.jsx(vr,{placeholder:"TEHSIL"})}),m.jsxs(Kn,{children:[m.jsx(mt,{value:"ALL",children:"ALL TEHSILS"}),ye.map(K=>m.jsx(mt,{value:K,children:K},K))]})]}),m.jsx(He,{variant:"ghost",size:"sm",className:"h-8 px-2 text-[10px] font-bold uppercase text-muted-foreground hover:text-destructive",onClick:()=>B({district:"",tehsil:"",uc:"",surveyor:"",unitType:"ALL",month:"ALL",search:""}),children:"Reset"})]}),ee&&m.jsxs("div",{className:"px-4 py-3 bg-primary/5 border-b border-primary/10 overflow-hidden relative group",children:[m.jsx("div",{className:"absolute top-0 right-0 p-1 opacity-[0.03] group-hover:opacity-10 transition-opacity",children:m.jsx(dx,{size:120,className:"-mr-10 -mt-10 rotate-12"})}),m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 relative z-10",children:[m.jsxs("div",{className:"flex flex-col max-w-sm",children:[m.jsxs("h3",{className:"text-[11px] font-black uppercase tracking-[0.2em] text-primary flex items-center gap-2",children:[m.jsx(ux,{size:14}),"Cohort Retention Analysis"]}),m.jsxs("p",{className:"text-[10px] text-muted-foreground font-black uppercase mt-1.5 leading-relaxed tracking-tight",children:["Of the original ",(ee?.grand_totals?.cohort_size||0).toLocaleString()," payers from ",ee?.meta?.m0_label||"Base",",",m.jsx("span",{className:"text-foreground mx-1",children:(ee?.grand_totals?.m2_paid_count||0).toLocaleString()}),"(",ee?.grand_totals?.m2_retention||0,"%) remained consistent through ",ee?.meta?.m2_label||"Target","."]})]}),m.jsxs("div",{className:"flex items-center gap-6 overflow-x-auto no-scrollbar py-1",children:[m.jsx(Ch,{label:"Base Group",value:"100%",date:ee?.meta?.m0_label,count:ee?.grand_totals?.cohort_size||0,color:"indigo"}),m.jsx(Ch,{label:"Retained",value:`${ee?.grand_totals?.m1_retention||0}%`,date:ee?.meta?.m1_label,count:ee?.grand_totals?.m1_paid_count||0,color:"blue"}),m.jsx(Ch,{label:"Retained",value:`${ee?.grand_totals?.m2_retention||0}%`,date:ee?.meta?.m2_label,count:ee?.grand_totals?.m2_paid_count||0,color:"emerald"}),m.jsx(Ch,{label:"Retained",value:`${ee?.grand_totals?.m3_retention||0}%`,date:ee?.meta?.m3_label,count:ee?.grand_totals?.m3_paid_count||0,color:"purple"})]})]})]}),m.jsx("div",{className:"flex-1 overflow-auto no-scrollbar",children:m.jsx(yk,{columns:oe,data:t,loading:r,onRowClick:ae})}),m.jsxs("div",{className:"p-2 border-t border-border flex items-center justify-between bg-card/10",children:[m.jsxs("span",{className:"text-[9px] font-black text-muted-foreground uppercase tracking-widest px-2",children:["Showing ",t.length," of ",p.toLocaleString()," Entries"]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(He,{variant:"outline",size:"icon",className:"h-7 w-7",disabled:c===0,onClick:()=>h(K=>K-1),children:m.jsx(Ku,{size:14})}),m.jsx("span",{className:"text-[10px] font-bold px-2 tabular-nums",children:c+1}),m.jsx(He,{variant:"outline",size:"icon",className:"h-7 w-7",disabled:(c+1)*kb>=p,onClick:()=>h(K=>K+1),children:m.jsx(hl,{size:14})})]})]})]})}),m.jsx(Cb,{withHandle:!0}),m.jsx(fg,{defaultSize:25,minSize:20,maxSize:40,children:m.jsx("aside",{className:"h-full flex flex-col bg-secondary/10 border-l border-border",children:_?m.jsx(ef,{className:"flex-1",children:m.jsxs("div",{className:"p-4 space-y-6",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("h2",{className:"text-3xl font-black tracking-tighter text-primary leading-none",children:_.survey_id}),m.jsx("p",{className:"text-sm font-black uppercase tracking-tight truncate leading-tight",children:_.consumer_name||"Anonymous Consumer"})]}),m.jsx(He,{onClick:()=>e(_.survey_id),variant:"secondary",size:"sm",className:"h-7 text-[9px] font-black uppercase tracking-widest",children:"View Profile"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsx(fn,{className:"shadow-none bg-background border-border/50 overflow-hidden",children:m.jsxs(bn,{className:"p-3",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx("div",{className:"p-1.5 rounded-md bg-emerald-500/10 text-emerald-500",children:m.jsx(_A,{size:12})}),m.jsx("span",{className:"text-[9px] font-black text-muted-foreground uppercase",children:"Paid Volume"})]}),m.jsx("div",{className:"text-lg font-black tabular-nums leading-none",children:m.jsx(er,{amount:w?.stats?.total_paid||0})})]})}),m.jsx(fn,{className:"shadow-none bg-background border-border/50 overflow-hidden",children:m.jsxs(bn,{className:"p-3",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx("div",{className:"p-1.5 rounded-md bg-rose-500/10 text-rose-500",children:m.jsx(Wo,{size:12})}),m.jsx("span",{className:"text-[9px] font-black text-muted-foreground uppercase",children:"Outstanding"})]}),m.jsx("div",{className:"text-lg font-black tabular-nums leading-none text-rose-500",children:m.jsx(er,{amount:w?.stats?.outstanding||0})})]})})]})]}),m.jsx(nk,{className:"bg-border/40"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-muted-foreground",children:"Payment Timeline"}),m.jsxs(Ms,{variant:"outline",className:"text-[9px] font-black uppercase bg-muted/30",children:[w?.bills?.length||0," Cycles"]})]}),m.jsx("div",{className:"space-y-2 relative before:absolute before:left-[11px] before:top-2 before:bottom-2 before:w-px before:bg-border/60",children:k?[...Array(3)].map((K,de)=>m.jsx(iv,{className:"h-16 w-full rounded-xl"},de)):w?.bills&&w.bills.length>0?w.bills.map((K,de)=>m.jsxs("div",{className:"relative pl-7 group",children:[m.jsx("div",{className:Me("absolute left-2 top-2 w-2 h-2 rounded-full border-2 border-background ring-4 ring-background z-10 transition-all group-hover:scale-125",K.payment_status==="PAID"?"bg-emerald-500 ":"bg-rose-500")}),m.jsxs("div",{className:"p-3 rounded-xl border border-border/50 bg-background hover:bg-muted/30 transition-all cursor-default group-hover:border-primary/20",children:[m.jsxs("div",{className:"flex items-center justify-between mb-1",children:[m.jsx("span",{className:"text-[10px] font-black uppercase tracking-tight",children:K.bill_month}),m.jsxs("span",{className:"text-[9px] font-bold text-muted-foreground tabular-nums",children:["#",K.psid]})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"p-1 rounded bg-secondary text-muted-foreground",children:m.jsx(OA,{size:10})}),m.jsx("span",{className:"text-[9px] font-bold uppercase opacity-60",children:K.payment_channel||"DIRECT"})]}),m.jsx("span",{className:Me("text-xs font-black tabular-nums",K.payment_status==="PAID"?"text-emerald-500":"text-foreground"),children:m.jsx(er,{amount:K.amount_paid>0?K.amount_paid:K.amount_due})})]})]})]},de)):m.jsx("div",{className:"py-12 text-center text-muted-foreground",children:m.jsx("p",{className:"text-[9px] font-bold uppercase italic opacity-40",children:"No transaction records found."})})})]})]})}):m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center opacity-40",children:[m.jsx("div",{className:"w-12 h-12 rounded-2xl bg-muted flex items-center justify-center mb-4",children:m.jsx(ux,{size:24})}),m.jsx("h3",{className:"text-sm font-black uppercase tracking-widest",children:"No Selection"}),m.jsxs("p",{className:"text-[10px] font-bold uppercase mt-2 leading-relaxed",children:["Select a record from the list",m.jsx("br",{}),"to view transaction health."]})]})})})]})})]})}function Ch({label:e,value:t,date:n,count:r,color:s}){const o={indigo:"text-indigo-500 bg-indigo-500/10 border-indigo-500/20",blue:"text-blue-500 bg-blue-500/10 border-blue-500/20",emerald:"text-emerald-500 bg-emerald-500/10 border-emerald-500/20",purple:"text-purple-500 bg-purple-500/10 border-purple-500/20"};return m.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-[10px] font-black tabular-nums leading-none",children:r.toLocaleString()}),m.jsx("span",{className:"text-[8px] font-bold text-muted-foreground uppercase tracking-widest mt-0.5",children:e})]}),m.jsxs("div",{className:Me("px-2 py-1.5 rounded-lg border flex flex-col items-center justify-center min-w-[50px]",o[s]),children:[m.jsx("span",{className:"text-[9px] font-black uppercase leading-none mb-1 opacity-60",children:n}),m.jsx("span",{className:"text-sm font-black tracking-tight leading-none",children:t})]})]})}function pg({title:e,isOpen:t,onToggle:n,items:r,color:s="blue",label:o}){return m.jsxs("div",{className:"rounded-xl border border-border/50 bg-background/50 overflow-hidden transition-all",children:[m.jsxs("button",{onClick:n,className:"w-full px-4 py-3 flex items-center justify-between hover:bg-muted/30 transition-colors",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:Me("w-1.5 h-6 rounded-full transition-colors",s==="blue"?"bg-blue-500":"bg-purple-500")}),m.jsx("span",{className:"text-[12px] font-black uppercase tracking-widest text-foreground/90",children:e})]}),t?m.jsx(si,{size:14,className:"text-muted-foreground/60"}):m.jsx(Dr,{size:14,className:"text-muted-foreground/60"})]}),m.jsx("div",{className:Me("overflow-hidden transition-all duration-300",t?"max-h-[500px]":"max-h-0"),children:m.jsx("div",{className:"p-1 space-y-1",children:r.map((u,c)=>m.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-card/40 border border-border/10 hover:border-border/60 hover:bg-card/80 transition-all group",children:[m.jsxs("div",{className:"flex flex-col gap-0.5",children:[m.jsx("span",{className:"text-[11px] font-bold group-hover:text-primary transition-colors leading-tight",children:u.name}),m.jsxs("div",{className:"flex items-center gap-1.5 mt-1.5 overflow-x-auto no-scrollbar pb-0.5",children:[m.jsxs("span",{className:"badge-subtext bg-emerald-500/20 text-emerald-600 border-emerald-500/30",children:[u.paid," Paid"]}),u.transactions>u.paid&&m.jsxs("span",{className:"badge-subtext bg-amber-500/20 text-amber-600 border-amber-500/30",children:["(",u.transactions," RC)"]}),m.jsxs("span",{className:"badge-subtext",children:[u.units," ",o==="Potential"?"Units":"Bills"]})]})]}),m.jsxs("div",{className:"flex flex-col items-end text-right",children:[m.jsx("span",{className:Me("text-[13px] font-bold tabular-nums tracking-tighter",s==="blue"?"text-blue-500":"text-purple-500"),children:m.jsx(er,{amount:u.amount})}),m.jsx("span",{className:"text-[8px] font-black text-muted-foreground/40 uppercase tracking-widest leading-none mt-1",children:o||"COLLECTED"})]})]},c))})})]})}function H4(){return m.jsxs("div",{className:"flex-1 p-8 bg-background overflow-y-auto animate-fade-in",children:[m.jsxs("div",{className:"space-y-0.5 mb-8",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx("div",{className:"h-4 w-1 bg-primary rounded-full"}),m.jsx("span",{className:"text-[8px] font-black uppercase tracking-[0.3em] text-muted-foreground",children:"Intelligence.Metrics"})]}),m.jsxs("h2",{className:"text-2xl font-black tracking-tighter uppercase leading-none",children:["Staff",m.jsx("span",{className:"text-primary",children:"."}),"Performance"]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.jsxs("div",{className:"p-6 rounded-2xl border border-border bg-card/40 backdrop-blur-md",children:[m.jsx("p",{className:"text-xs text-muted-foreground uppercase font-black mb-2",children:"Coming Soon"}),m.jsx("p",{className:"text-sm",children:"High-density performance metrics and productivity tracking for field staff."})]})})]})}function W4(){return m.jsxs("div",{className:"flex-1 p-8 bg-background overflow-y-auto animate-fade-in",children:[m.jsxs("div",{className:"space-y-0.5 mb-8",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx("div",{className:"h-4 w-1 bg-primary rounded-full"}),m.jsx("span",{className:"text-[8px] font-black uppercase tracking-[0.3em] text-muted-foreground",children:"Operations.Support"})]}),m.jsxs("h2",{className:"text-2xl font-black tracking-tighter uppercase leading-none",children:["Tickets",m.jsx("span",{className:"text-primary",children:"."}),"Complaints"]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.jsxs("div",{className:"p-6 rounded-2xl border border-border bg-card/40 backdrop-blur-md",children:[m.jsx("p",{className:"text-xs text-muted-foreground uppercase font-black mb-2",children:"Coming Soon"}),m.jsx("p",{className:"text-sm",children:"Integrated ticketing system for consumer complaints and field resolution tracking."})]})})]})}function G4(){const{theme:e,setTargetTheme:t,surfacePalette:n,setSurfacePalette:r,palettes:s,accentColor:o,setAccentColor:u,accents:c,fontFamily:h,setFontFamily:p,fonts:y,applyFontPreview:_,headingSize:x,setHeadingSize:w,subtextSize:E,setSubtextSize:k,baseSize:R,setBaseSize:N,textContrast:A,setTextContrast:I}=gf(),{isAdmin:D,permissions:V}=kc(),[Z,M]=C.useState(h),[B,ee]=C.useState({appearance:!1,surface:!1,accent:!1,typography:!1,contrast:!1,controls:!1,permissions:!1,lab:!1}),ce=G=>{const ge=Object.keys(B).reduce((le,be)=>(le[be]=G,le),{});ee(ge)},U=(G,ge)=>{ge&&(ge.preventDefault(),ge.stopPropagation()),ee(le=>({...le,[G]:!le[G]}))};return m.jsxs("div",{className:"flex-1 p-4 md:p-8 bg-background overflow-y-auto space-y-8 no-scrollbar selection:bg-primary/20 w-full animate-fade-in",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end justify-between gap-4 px-2",children:[m.jsxs("div",{className:"space-y-0.5",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx("div",{className:"h-4 w-1 bg-primary rounded-full transition-all duration-500"}),m.jsx("span",{className:"text-[8px] font-black uppercase tracking-[0.3em] text-muted-foreground",children:"System.Optics"})]}),m.jsxs("h2",{className:"text-xl md:text-2xl font-black tracking-tighter uppercase leading-none",children:["Global",m.jsx("span",{className:"text-primary",children:"."}),"Config"]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(He,{variant:"outline",size:"sm",onClick:()=>ce(!0),className:"h-7 px-3 text-[9px] font-black uppercase tracking-widest bg-card/40 border-border/40 hover:bg-primary hover:text-primary-foreground transition-all",children:"Expand All"}),m.jsx(He,{variant:"outline",size:"sm",onClick:()=>ce(!1),className:"h-7 px-3 text-[9px] font-black uppercase tracking-widest bg-card/40 border-border/40 hover:bg-primary hover:text-primary-foreground transition-all",children:"Collapse All"})]})]}),m.jsxs("div",{className:"flex flex-col gap-6 w-full max-w-4xl mx-auto pb-32",children:[m.jsxs(fn,{className:"border-border/40 shadow-sm overflow-hidden bg-card/40 backdrop-blur-md rounded-xl transition-all duration-300",children:[m.jsxs("button",{onClick:G=>U("appearance",G),className:"w-full text-left focus:outline-none group px-4 py-3 border-b border-border/10 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Ng,{size:14,className:"text-primary"}),m.jsx("span",{className:"text-[11px] font-black uppercase tracking-tight",children:"Appearance Profile"})]}),B.appearance?m.jsx(si,{size:14,className:"text-muted-foreground"}):m.jsx(Dr,{size:14,className:"text-muted-foreground"})]}),B.appearance&&m.jsx(bn,{className:"p-4 animate-in slide-in-from-top-4 duration-500",children:m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("button",{onClick:()=>t("light"),className:Me("group relative flex items-center gap-3 px-4 py-3 rounded-xl border border-border bg-card/50 hover:bg-card transition-all duration-200",e==="light"&&"ring-1 ring-primary border-primary bg-card"),children:[m.jsx(Ng,{size:16,className:Me(e==="light"?"text-amber-500":"text-muted-foreground")}),m.jsx("span",{className:"text-[11px] font-black uppercase tracking-tight",children:"Daylight"})]}),m.jsxs("button",{onClick:()=>t("dark"),className:Me("group relative flex items-center gap-3 px-4 py-3 rounded-xl border border-border bg-card/50 hover:bg-card transition-all duration-200",e==="dark"&&"ring-1 ring-primary border-primary bg-card"),children:[m.jsx(gS,{size:16,className:Me(e==="dark"?"text-indigo-400":"text-muted-foreground")}),m.jsx("span",{className:"text-[11px] font-black uppercase tracking-tight",children:"Void"})]})]})})]}),m.jsxs(fn,{className:"border-border/40 shadow-sm overflow-hidden bg-card/40 backdrop-blur-md rounded-xl transition-all duration-300",children:[m.jsxs("button",{onClick:G=>U("surface",G),className:"w-full text-left focus:outline-none group px-4 py-3 border-b border-border/10 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(cx,{size:14,className:"text-primary"}),m.jsx("span",{className:"text-[11px] font-black uppercase tracking-tight",children:"Surface Architecture"})]}),B.surface?m.jsx(si,{size:14,className:"text-muted-foreground"}):m.jsx(Dr,{size:14,className:"text-muted-foreground"})]}),B.surface&&m.jsx(bn,{className:"p-4 animate-in slide-in-from-top-4 duration-500",children:m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:Object.entries(s).map(([G,ge])=>{const le=e==="dark"?ge.dark:ge.light,be=n===G;return m.jsxs("button",{onClick:()=>r(G),className:Me("group relative flex flex-col p-3 rounded-xl border border-border bg-card/50 hover:bg-card transition-all duration-200 text-left",be&&"ring-1 ring-primary border-primary bg-card"),children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("span",{className:"text-[10px] font-black uppercase tracking-tight truncate group-hover:text-primary transition-colors",children:ge.name}),be&&m.jsx($h,{size:10,className:"text-primary",strokeWidth:4})]}),m.jsxs("div",{className:"flex items-center gap-1 w-full h-3 rounded-md overflow-hidden border border-border/40",children:[m.jsx("div",{className:"flex-1 h-full",style:{backgroundColor:`hsl(${le.background})`}}),m.jsx("div",{className:"flex-1 h-full",style:{backgroundColor:`hsl(${le.secondary})`}}),m.jsx("div",{className:"flex-1 h-full",style:{backgroundColor:`hsl(${le.card})`}})]})]},G)})})})]}),m.jsxs(fn,{className:"border-border/40 shadow-sm overflow-hidden bg-card/40 backdrop-blur-md rounded-xl transition-all duration-300",children:[m.jsxs("button",{onClick:G=>U("accent",G),className:"w-full text-left focus:outline-none group px-4 py-3 border-b border-border/10 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(RA,{size:14,className:"text-primary"}),m.jsx("span",{className:"text-[11px] font-black uppercase tracking-tight",children:"Component Tints"})]}),B.accent?m.jsx(si,{size:14,className:"text-muted-foreground"}):m.jsx(Dr,{size:14,className:"text-muted-foreground"})]}),B.accent&&m.jsx(bn,{className:"p-4 animate-in slide-in-from-top-4 duration-500",children:m.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 gap-3",children:Object.entries(c).map(([G,ge])=>{const le=e==="dark"?ge.dark:ge.light,be=o===G;return m.jsxs("button",{onClick:()=>u(G),className:Me("group flex flex-col items-center gap-1.5 p-2 rounded-xl border border-border bg-card/50 hover:bg-card transition-all duration-200",be&&"ring-1 ring-primary border-primary bg-card"),title:ge.name,children:[m.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center shrink-0 shadow-sm border border-white/5",style:{backgroundColor:`hsl(${le.primary})`},children:be&&m.jsx($h,{size:10,style:{color:`hsl(${le.foreground})`},strokeWidth:4})}),m.jsx("span",{className:"text-[8px] font-bold uppercase tracking-tighter truncate w-full text-center",children:ge.name.split(" ")[0]})]},G)})})})]}),m.jsxs(fn,{className:"border-border/40 shadow-sm overflow-hidden bg-card/40 backdrop-blur-md rounded-xl transition-all duration-300",children:[m.jsxs("button",{onClick:G=>U("typography",G),className:"w-full text-left focus:outline-none group px-4 py-3 border-b border-border/10 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(AA,{size:14,className:"text-primary"}),m.jsx("span",{className:"text-[11px] font-black uppercase tracking-tight",children:"Typography Architecture"})]}),B.typography?m.jsx(si,{size:14,className:"text-muted-foreground"}):m.jsx(Dr,{size:14,className:"text-muted-foreground"})]}),B.typography&&m.jsxs(bn,{className:"p-4 animate-in slide-in-from-top-4 duration-500 space-y-4",children:[m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Object.entries(y).map(([G,ge])=>m.jsxs("button",{onClick:()=>{M(G),_(G)},className:Me("group relative flex flex-col p-4 rounded-xl border border-border bg-card/50 hover:bg-card transition-all duration-200 text-left",Z===G&&"ring-1 ring-primary border-primary bg-card/80"),children:[m.jsxs("div",{className:"flex items-center justify-between mb-1",children:[m.jsx("span",{className:"text-[11px] font-black uppercase tracking-tight truncate group-hover:text-primary transition-colors",children:ge.name}),h===G&&m.jsx(Ms,{variant:"secondary",className:"text-[8px] h-4 px-1.5 font-black uppercase",children:"Active"})]}),m.jsx("p",{className:"text-[12px] opacity-70 truncate font-semibold",style:{fontFamily:ge.sans},children:"The quick brown fox jumps over the lazy dog."})]},G))}),Z!==h&&m.jsx(He,{onClick:()=>p(Z),className:"w-full h-10 text-[10px] font-black uppercase tracking-widest animate-in fade-in zoom-in duration-300",children:"Apply Typography Profile"})]})]}),m.jsxs(fn,{className:"border-border/40 shadow-sm overflow-hidden bg-card/40 backdrop-blur-md rounded-xl transition-all duration-300",children:[m.jsxs("button",{onClick:G=>U("contrast",G),className:"w-full text-left focus:outline-none group px-4 py-3 border-b border-border/10 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Em,{size:14,className:"text-primary"}),m.jsx("span",{className:"text-[11px] font-black uppercase tracking-tight",children:"Contrast Profile"})]}),B.contrast?m.jsx(si,{size:14,className:"text-muted-foreground"}):m.jsx(Dr,{size:14,className:"text-muted-foreground"})]}),B.contrast&&m.jsx(bn,{className:"p-4 animate-in slide-in-from-top-4 duration-500",children:m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[{id:"black",name:"Ink Black",class:"bg-black text-white"},{id:"charcoal",name:"Charcoal",class:"bg-zinc-800 text-zinc-100"},{id:"zinc",name:"Lead Zinc",class:"bg-zinc-600 text-zinc-50"},{id:"slate",name:"Dimmed Slate",class:"bg-slate-500 text-slate-50"},{id:"midnight",name:"Midnight",class:"bg-blue-950 text-blue-50"}].map(G=>m.jsxs("button",{onClick:()=>I(G.id),className:Me("flex flex-col items-center gap-1.5 p-3 rounded-xl border border-border bg-card/50 hover:bg-card transition-all duration-200",A===G.id&&"ring-1 ring-primary border-primary bg-card"),children:[m.jsx("div",{className:Me("w-6 h-6 rounded-lg border border-white/10",G.class)}),m.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest text-center truncate w-full",children:G.name})]},G.id))})})]}),m.jsxs(fn,{className:"border-border/40 shadow-sm overflow-hidden bg-card/40 backdrop-blur-md rounded-xl transition-all duration-300",children:[m.jsxs("button",{onClick:G=>U("controls",G),className:"w-full text-left focus:outline-none group px-4 py-3 border-b border-border/10 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(cx,{size:14,className:"text-primary"}),m.jsx("span",{className:"text-[11px] font-black uppercase tracking-tight",children:"Granular Sizing"})]}),B.controls?m.jsx(si,{size:14,className:"text-muted-foreground"}):m.jsx(Dr,{size:14,className:"text-muted-foreground"})]}),B.controls&&m.jsx(bn,{className:"p-4 animate-in slide-in-from-top-4 duration-500 space-y-6",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between items-center px-1",children:[m.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground",children:"Headings"}),m.jsxs("span",{className:"text-[10px] font-mono text-primary",children:[(x*100).toFixed(0),"%"]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>w(Math.max(.5,x-.05)),className:"w-8 h-8 rounded-lg bg-muted flex items-center justify-center text-xs hover:bg-muted/80",children:"-"}),m.jsx("div",{className:"flex-1 h-1.5 bg-muted rounded-full relative overflow-hidden",children:m.jsx("div",{className:"absolute inset-y-0 left-0 bg-primary",style:{width:`${(x-.5)/1*100}%`}})}),m.jsx("button",{onClick:()=>w(Math.min(1.5,x+.05)),className:"w-8 h-8 rounded-lg bg-muted flex items-center justify-center text-xs hover:bg-muted/80",children:"+"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between items-center px-1",children:[m.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground",children:"Base Elements"}),m.jsxs("span",{className:"text-[10px] font-mono text-primary",children:[(R*100).toFixed(0),"%"]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>N(Math.max(.5,R-.05)),className:"w-8 h-8 rounded-lg bg-muted flex items-center justify-center text-xs hover:bg-muted/80",children:"-"}),m.jsx("div",{className:"flex-1 h-1.5 bg-muted rounded-full relative overflow-hidden",children:m.jsx("div",{className:"absolute inset-y-0 left-0 bg-primary",style:{width:`${(R-.5)/1*100}%`}})}),m.jsx("button",{onClick:()=>N(Math.min(1.5,R+.05)),className:"w-8 h-8 rounded-lg bg-muted flex items-center justify-center text-xs hover:bg-muted/80",children:"+"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between items-center px-1",children:[m.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground",children:"Badge Subtexts"}),m.jsxs("span",{className:"text-[10px] font-mono text-primary",children:[(E*100).toFixed(0),"%"]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>k(Math.max(.5,E-.05)),className:"w-8 h-8 rounded-lg bg-muted flex items-center justify-center text-xs hover:bg-muted/80",children:"-"}),m.jsx("div",{className:"flex-1 h-1.5 bg-muted rounded-full relative overflow-hidden",children:m.jsx("div",{className:"absolute inset-y-0 left-0 bg-primary",style:{width:`${(E-.5)/1*100}%`}})}),m.jsx("button",{onClick:()=>k(Math.min(1.5,E+.05)),className:"w-8 h-8 rounded-lg bg-muted flex items-center justify-center text-xs hover:bg-muted/80",children:"+"})]})]})]})})]}),D&&m.jsxs(fn,{className:"border-border/40 shadow-sm overflow-hidden bg-card/40 backdrop-blur-md rounded-xl transition-all duration-300 w-full",children:[m.jsxs("button",{onClick:G=>U("permissions",G),className:"w-full text-left focus:outline-none group px-4 py-3 border-b border-border/10 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(pS,{size:14,className:"text-primary"}),m.jsx("span",{className:"text-[11px] font-black uppercase tracking-tight",children:"Access Control Protocol"})]}),B.permissions?m.jsx(si,{size:14,className:"text-muted-foreground"}):m.jsx(Dr,{size:14,className:"text-muted-foreground"})]}),B.permissions&&m.jsx(bn,{className:"p-2 animate-in slide-in-from-top-4 duration-500",children:m.jsx("div",{className:"space-y-1",children:[{id:"map",name:"Map Interface"},{id:"surveys",name:"Survey Registry"},{id:"financials",name:"Finance Hub"},{id:"performance",name:"Staff Metrics"},{id:"tickets",name:"Complaint Desk"},{id:"stats",name:"System Statistics"}].map(G=>m.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-white/5 rounded-lg group transition-colors",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:Me("w-1.5 h-1.5 rounded-full transition-all duration-500",V?.[G.id]!==!1?"bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]":"bg-rose-500 shadow-[0_0_8px_rgba(244,63,94,0.5)]")}),m.jsx("span",{className:"text-[10px] font-black uppercase tracking-tight",children:G.name})]}),m.jsx("span",{className:Me("text-[8px] font-black px-1.5 py-0.5 rounded uppercase tracking-widest",V?.[G.id]!==!1?"bg-emerald-500/10 text-emerald-500":"bg-rose-500/10 text-rose-500"),children:V?.[G.id]!==!1?"Authorized":"Locked"})]},G.id))})})]}),m.jsxs(fn,{className:"border-border/40 shadow-sm overflow-hidden bg-card/40 backdrop-blur-md rounded-xl transition-all duration-300 w-full",children:[m.jsxs("button",{onClick:G=>U("lab",G),className:"w-full text-left focus:outline-none group px-4 py-4 border-b border-border/10 flex items-center justify-between bg-primary/5",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-1 px-2 rounded-md bg-primary/20 text-primary",children:m.jsx(Em,{size:16,strokeWidth:3})}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-[12px] font-black uppercase tracking-tight",children:"UI Lab: Component Registry"}),m.jsx("span",{className:"text-[9px] font-bold text-muted-foreground uppercase tracking-widest leading-none",children:"Live aesthetics & visual feedback"})]})]}),B.lab?m.jsx(si,{size:16,className:"text-muted-foreground"}):m.jsx(Dr,{size:16,className:"text-muted-foreground"})]}),B.lab&&m.jsxs(bn,{className:"p-6 md:p-8 animate-in slide-in-from-top-4 duration-500 space-y-10",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-primary border-b border-primary/20 pb-1.5",children:"Status Architecture"}),m.jsxs("div",{className:"flex flex-wrap gap-2.5 pt-1",children:[m.jsx(Nt,{status:"Active System",variant:"active"}),m.jsx(Nt,{status:"Sync Pending",variant:"pending"}),m.jsx(Nt,{status:"Node Archived",variant:"archived"}),m.jsx(Nt,{status:"Protocol Success",variant:"success"}),m.jsx(Nt,{status:"Access Warning",variant:"warning"}),m.jsx(Nt,{status:"Critical Error",variant:"danger"}),m.jsx(Nt,{status:"Domestic",variant:"domestic"}),m.jsx(Nt,{status:"Commercial",variant:"commercial"})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-primary border-b border-primary/20 pb-1.5",children:"Financial Module"}),m.jsxs("div",{className:"space-y-3 pt-1",children:[m.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-card/30 border border-secondary/20 shadow-inner",children:[m.jsx("span",{className:"text-[10px] font-black uppercase text-muted-foreground tracking-tighter",children:"Gross Revenue"}),m.jsx(er,{amount:124500})]}),m.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-rose-500/5 border border-rose-500/10 shadow-inner",children:[m.jsx("span",{className:"text-[10px] font-black uppercase text-rose-500/70 tracking-tighter",children:"Liability GAP"}),m.jsx("div",{className:"text-rose-500 font-bold",children:m.jsx(er,{amount:15200})})]})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-primary border-b border-primary/20 pb-1.5",children:"Interactions"}),m.jsxs("div",{className:"flex flex-col gap-3 pt-1",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(He,{size:"sm",className:"h-9 px-4 text-[10px] font-black uppercase tracking-widest shadow-lg shadow-primary/20",children:"Primary Action"}),m.jsx(He,{size:"sm",variant:"outline",className:"h-9 px-4 text-[10px] font-black uppercase tracking-widest bg-card/30",children:"Ghost State"})]}),m.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-card/30 border border-border/40",children:[m.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tight text-muted-foreground",children:"Node Identifier:"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("code",{className:"text-[10px] font-mono bg-muted/50 px-2 py-0.5 rounded text-primary",children:"ID_59284_X"}),m.jsx(QD,{text:"ID_59284_X"})]})]})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 pt-4 border-t border-border/10",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-primary border-b border-primary/20 pb-1.5",children:"System Messaging"}),m.jsxs("div",{className:"space-y-3 pt-1",children:[m.jsx(ez,{message:"Critical Database Initialization Failure: Segment 0xF2"}),m.jsxs("div",{className:"p-4 rounded-xl border border-primary/20 bg-primary/5 flex items-start gap-3",children:[m.jsx(Em,{size:14,className:"text-primary mt-0.5 shrink-0"}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("p",{className:"text-[11px] font-black uppercase tracking-tight leading-none text-primary",children:"Aesthetics Applied"}),m.jsx("p",{className:"text-[10px] font-semibold opacity-70 leading-tight",children:"Current profile synchronized across all active nodes."})]})]})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-primary border-b border-primary/20 pb-1.5",children:"Typography Architecture Test"}),m.jsxs("div",{className:"p-5 rounded-2xl border border-border/40 bg-card/20 space-y-4 shadow-inner",children:[m.jsxs("h3",{className:"text-2xl font-black uppercase tracking-tighter leading-none",children:["The ",m.jsx("span",{className:"text-primary",children:"Master Heading"})," Architecture"]}),m.jsx("p",{className:"text-sm opacity-80 leading-relaxed font-semibold",children:"This stress test verifies point-size legibility across your chosen font family. The weight should feel balanced across both light and dark backgrounds."}),m.jsxs("div",{className:"flex flex-wrap items-center gap-4 pt-2",children:[m.jsx("span",{className:"badge-subtext",children:"Address line subtext"}),m.jsx("span",{className:"badge-subtext text-primary font-black uppercase tracking-widest",children:"Protocol.Active"}),m.jsx("span",{className:"badge-subtext opacity-50 italic",children:"Secondary instruction"})]})]})]})]})]})]})]}),m.jsx("div",{className:"fixed bottom-6 right-10 opacity-20 pointer-events-none z-0 hidden lg:block",children:m.jsxs("div",{className:"flex flex-col items-end gap-0",children:[m.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em]",children:"Billing.Map.Engine v4.5"}),m.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-primary",children:"Sargodha HQ"})]})})]})}function Z4(){const{theme:e,toggleTheme:t}=gf(),[n,r]=C.useState("");return m.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 bg-background text-foreground space-y-12 pb-32 no-scrollbar",children:[m.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 rounded-xl border border-border bg-zinc-50 dark:bg-zinc-900 flex items-center justify-center shadow-sm",children:m.jsx(Pc,{size:24,className:"text-zinc-500"})}),m.jsxs("div",{children:[m.jsxs("h1",{className:"text-3xl font-black tracking-tight text-zinc-900 dark:text-zinc-100 uppercase italic",children:["Style",m.jsx("span",{className:"text-indigo-500",children:"."}),"Lab"]}),m.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Phase 2: Zinc Neutral Enterprise Design System"})]})]}),m.jsx("div",{className:"h-px bg-border w-full opacity-50"}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs(He,{onClick:t,variant:"outline",size:"sm",className:"font-black uppercase tracking-widest h-8",children:["Toggle theme: ",m.jsx("span",{className:"text-indigo-500 ml-1",children:e})]}),m.jsx(Ms,{variant:"outline",className:"border-indigo-500/20 text-indigo-500 font-black h-8 px-4",children:"READY FOR REVIEW"})]})]}),m.jsxs("div",{className:"max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8",children:[m.jsxs(fn,{className:"shadow-sm border-border/60",children:[m.jsxs(Rh,{children:[m.jsx(Lh,{className:"text-xs font-black uppercase tracking-[0.2em] text-zinc-400",children:"Buttons & Actions"}),m.jsx(Nh,{children:"Zinc variants for every operation."})]}),m.jsxs(bn,{className:"space-y-4",children:[m.jsxs("div",{className:"flex flex-wrap gap-3",children:[m.jsx(He,{className:"font-bold",children:"Primary Action"}),m.jsx(He,{variant:"secondary",className:"font-bold",children:"Secondary"}),m.jsx(He,{variant:"outline",className:"font-bold",children:"Outline"}),m.jsx(He,{variant:"destructive",className:"font-bold",children:"Destructive"})]}),m.jsxs("div",{className:"flex flex-wrap gap-3",children:[m.jsx(He,{size:"icon",variant:"ghost",children:m.jsx(lS,{size:18})}),m.jsx(He,{size:"icon",variant:"outline",children:m.jsx(vS,{size:18})}),m.jsx(He,{variant:"link",className:"text-xs uppercase font-black tracking-widest",children:"System Docs"})]})]})]}),m.jsxs(fn,{className:"shadow-sm border-border/60",children:[m.jsxs(Rh,{children:[m.jsx(Lh,{className:"text-xs font-black uppercase tracking-[0.2em] text-zinc-400",children:"Badges & Indicators"}),m.jsx(Nh,{children:"High-density status tagging."})]}),m.jsxs(bn,{className:"space-y-4",children:[m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx(Ms,{className:"font-black",children:"ACTIVE"}),m.jsx(Ms,{variant:"secondary",className:"font-black",children:"PAID"}),m.jsx(Ms,{variant:"outline",className:"font-black",children:"PENDING"}),m.jsx(Ms,{variant:"destructive",className:"font-black text-[10px] tracking-wider italic animate-pulse",children:"ALARM"})]}),m.jsxs("div",{className:"p-4 rounded-lg bg-zinc-50 dark:bg-zinc-900 border border-border space-y-3",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-[10px] font-black uppercase text-muted-foreground tracking-widest",children:"Survey Capacity"}),m.jsx("span",{className:"text-[10px] font-black text-indigo-500",children:"92%"})]}),m.jsx("div",{className:"w-full h-1.5 bg-zinc-200 dark:bg-zinc-800 rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-indigo-500 w-[92%] rounded-full"})})]})]})]}),m.jsxs(fn,{className:"shadow-sm border-border/60 md:col-span-2",children:[m.jsxs(Rh,{children:[m.jsx(Lh,{className:"text-xs font-black uppercase tracking-[0.2em] text-zinc-400",children:"Inputs & Form Controls"}),m.jsx(Nh,{children:"Standardized Zinc input strategy."})]}),m.jsx(bn,{className:"space-y-6",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground ml-1",children:"Search Database"}),m.jsxs("div",{className:"relative group",children:[m.jsx(uc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground group-focus-within:text-indigo-500 transition-colors"}),m.jsx(Wi,{className:"pl-10 h-10 bg-zinc-50 dark:bg-zinc-900/50 border-transparent focus:border-zinc-300 dark:focus:border-zinc-700 transition-all",placeholder:"ID, PSID, OR NAME...",value:n,onChange:s=>r(s.target.value)})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground ml-1",children:"Account PSID"}),m.jsx(Wi,{disabled:!0,className:"h-10 bg-zinc-100 dark:bg-zinc-900/30 border-dashed",value:"PSID-9920-X12"})]})]})}),m.jsxs(Q1,{className:"bg-zinc-50/50 dark:bg-zinc-900/50 border-t border-border mt-4 justify-between",children:[m.jsx("span",{className:"text-[10px] font-bold text-muted-foreground",children:"Verification Pass: Manual"}),m.jsx(He,{variant:"outline",size:"sm",className:"h-8 font-black text-[10px] uppercase tracking-widest",children:"Discard Changes"})]})]})]})]})}function q4(){const[e,t]=C.useState(""),[n,r]=C.useState(""),[s,o]=C.useState(!1),[u,c]=C.useState(null),{login:h}=kc(),p=async y=>{y.preventDefault(),o(!0),c(null);try{await h(e.toLowerCase().trim(),n)}catch(_){c(_.message||"Invalid credentials. Please try again.")}finally{o(!1)}};return m.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center bg-background relative overflow-hidden font-sans",children:[m.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-primary/20 blur-[120px] rounded-full animate-pulse"}),m.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-indigo-500/10 blur-[120px] rounded-full animate-pulse delay-700"}),m.jsxs(pl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-[400px] p-8 relative z-10",children:[m.jsxs("div",{className:"flex flex-col items-center mb-10",children:[m.jsx("div",{className:"w-14 h-14 rounded-2xl bg-card border border-border shadow-2xl flex items-center justify-center mb-6 rotate-3",children:m.jsx(Pc,{className:"text-primary",size:28})}),m.jsxs("h1",{className:"text-3xl font-black tracking-tighter uppercase mb-2",children:["Billing",m.jsx("span",{className:"text-primary",children:"."}),"Node"]}),m.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-muted-foreground",children:"Operational Intelligence Terminal"})]}),m.jsxs("form",{onSubmit:p,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-1.5",children:[m.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider text-muted-foreground ml-1",children:"Identity.Credentials"}),m.jsxs("div",{className:"relative group",children:[m.jsx(PA,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground group-focus-within:text-primary transition-colors",size:16}),m.jsx(Wi,{type:"email",placeholder:"access_email@example.com",value:e,onChange:y=>t(y.target.value),className:"pl-10 h-12 bg-card/40 border-border/40 focus:border-primary/40 focus:ring-primary/10 transition-all rounded-xl font-bold text-xs tracking-wide",required:!0})]})]}),m.jsxs("div",{className:"space-y-1.5",children:[m.jsx("label",{className:"text-[10px] font-black uppercase tracking-wider text-muted-foreground ml-1",children:"Security.Key"}),m.jsxs("div",{className:"relative group",children:[m.jsx(pS,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground group-focus-within:text-primary transition-colors",size:16}),m.jsx(Wi,{type:"password",placeholder:"",value:n,onChange:y=>r(y.target.value),className:"pl-10 h-12 bg-card/40 border-border/40 focus:border-primary/40 focus:ring-primary/10 transition-all rounded-xl font-bold",required:!0})]})]}),u&&m.jsxs(pl.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-destructive/10 border border-destructive/20 p-3 rounded-xl flex items-center gap-3 text-destructive",children:[m.jsx(Wo,{size:16,className:"shrink-0"}),m.jsx("p",{className:"text-[10px] font-bold uppercase leading-tight",children:u})]}),m.jsx(He,{type:"submit",disabled:s,className:"w-full h-12 rounded-xl bg-primary hover:bg-primary/90 text-primary-foreground font-black uppercase tracking-[0.1em] text-xs shadow-xl shadow-primary/20 transition-all active:scale-[0.98]",children:s?m.jsx(fS,{className:"animate-spin",size:18}):"Initiate Protocol"})]}),m.jsx("div",{className:"mt-12 text-center opacity-40",children:m.jsx("p",{className:"text-[7px] font-black uppercase tracking-[0.2em]",children:"Encrypted Session. Sargodha Security Protocol v4.0"})})]})]})}class K4 extends In.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error",t,n)}render(){return this.state.hasError?m.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center bg-red-50 dark:bg-red-900/10 rounded-3xl border border-red-200 dark:border-red-500/20 m-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-2xl bg-red-500/10 flex items-center justify-center text-red-500 mb-4",children:m.jsx(Wo,{size:24})}),m.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-slate-100",children:"Intelligent Error Recovery"}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2 max-w-xs",children:"The component encountered a structural failure while reconstructing the data node."}),m.jsxs("button",{onClick:()=>window.location.reload(),className:"mt-6 flex items-center gap-2 px-6 py-2.5 bg-red-600 hover:bg-red-500 text-white rounded-xl text-xs font-bold transition-all shadow-lg shadow-red-600/20",children:[m.jsx(Rv,{size:14})," REINITIALIZE APP"]}),!1]}):this.props.children}}function Y4(){const{theme:e}=gf(),{user:t,loading:n,permissions:r}=kc(),{selectedSurveyId:s,setSelectedSurveyId:o,isSidebarOpen:u,setIsSidebarOpen:c,isSidebarCollapsed:h}=Sc();return n?m.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-background",children:m.jsxs("div",{className:"flex flex-col items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-xl bg-card border border-border animate-pulse flex items-center justify-center",children:m.jsx(Pc,{className:"text-primary animate-spin",size:24})}),m.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-muted-foreground animate-pulse",children:"Initializing.Terminal"})]})}):t?m.jsxs("div",{className:"flex h-screen w-full overflow-hidden font-sans bg-background text-foreground transition-colors duration-300",children:[m.jsx("aside",{className:`
          fixed md:relative z-50 h-full shrink-0
          transform transition-all duration-300 ease-in-out
          ${u?"translate-x-0":"-translate-x-full md:translate-x-0"}
          ${h?"w-14":"w-72"}
          border-r border-border
        `,children:m.jsx(_M,{onCloseMobile:()=>c(!1)})}),m.jsxs("div",{className:"flex-1 flex flex-col relative overflow-hidden",children:[m.jsx(_D,{onMenuClick:()=>c(!0)}),m.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden relative",children:[m.jsxs(lR,{children:[m.jsx(ii,{path:"/",element:m.jsx(JD,{})}),m.jsx(ii,{path:"/surveys",element:m.jsx(mb,{})}),m.jsx(ii,{path:"/query",element:m.jsx(mb,{})}),m.jsx(ii,{path:"/financials",element:r?.financials?m.jsx(U4,{}):m.jsx("div",{className:"p-8",children:"Access Denied"})}),m.jsx(ii,{path:"/performance",element:m.jsx(H4,{})}),m.jsx(ii,{path:"/tickets",element:m.jsx(W4,{})}),m.jsx(ii,{path:"/stats",element:r?.stats?m.jsx(Iz,{}):m.jsx("div",{className:"p-8",children:"Access Denied"})}),m.jsx(ii,{path:"/settings",element:m.jsx(G4,{})}),m.jsx(ii,{path:"/style-lab",element:r?.style_lab?m.jsx(Z4,{}):m.jsx("div",{className:"p-8",children:"Access Denied"})})]}),m.jsx(fv,{open:!!s,onOpenChange:p=>!p&&o(null),children:m.jsx(nf,{side:"right",className:"w-[100vw] sm:max-w-[480px] p-0 border-l border-border bg-background [&>button]:hidden",children:m.jsx("div",{className:"h-full w-full",children:m.jsx(K4,{children:m.jsx(rk,{surveyId:s,onClose:()=>o(null)})},s)})})})]}),u&&m.jsx("div",{className:"md:hidden fixed inset-0 bg-black/60 backdrop-blur-sm z-40 transition-opacity",onClick:()=>c(!1)})]})]}):m.jsx(q4,{})}function X4(){return m.jsx(kR,{children:m.jsx(aA,{children:m.jsx(CR,{children:m.jsx(PR,{children:m.jsx(gR,{children:m.jsx(Y4,{})})})})})})}gT.createRoot(document.getElementById("root")).render(m.jsx(In.StrictMode,{children:m.jsx(X4,{})}));
